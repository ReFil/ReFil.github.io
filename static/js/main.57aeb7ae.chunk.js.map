{"version":3,"sources":["corolla-dbc.js","utils/color.js","utils/dbc.js","config.js","utils/url.js","CanExplorer.js","api/github-auth.js","logging/CloudLog.js","components/AddSignals.js","components/Modals/OnboardingModal.js","components/SaveDbcModal.js","components/EditMessageModal.js","api/unlogger.js","utils/string.js","init.js","logging/Sentry.js","retropilotloader.js","utils/array.js","models/graph-data.js","vega/CanPlot.js","components/CanGraph.js","components/CanGraphList.js","components/HLS.js","components/PlayButton.js","components/RouteSeeker/RouteSeeker.js","components/RouteVideoSync.js","components/CanLog.js","models/can/entries.js","components/PlaySpeedSelector.js","components/Explorer.js","components/SignalLegendEntry/FIELDS.js","components/SignalLegendEntry/Field.js","components/SignalLegendEntry/OptionField.js","components/SignalLegendEntry/SignalForm.js","components/SignalLegendEntry/NumberField.js","utils/object.js","components/SignalLegendEntry/StringField.js","components/SignalLegendEntry/MapField.js","components/SignalLegendEntry/index.js","components/SignalLegend.js","components/GithubDbcList.js","components/DbcUpload.js","components/LoadDbcModal.js","components/MessageBytes.js","components/Meta.js","index.js","models/can/frame.js","models/can/BoardUnit.js","models/can/dbc.js","api/localstorage.js","utils/debounce.js","images/webusb-enable-experimental-features.png","images/webusb-enable-webusb.png","workers/rlog-downloader.worker.js","workers/dbc-csv-downloader.worker.js","workers/message-parser.worker.js","workers/CanStreamerWorker.worker.js","components/Modals/baseModal.js","models/can/signal.js","api/OpenDbc.js","demo.js","logging/LogEntries.js","utils/css.js"],"names":["CorollaDBC","DBC","shade","opacity","r","g","b","t","opacityPos","Math","abs","round","createMessageSpec","dbc","address","id","bus","frame","getMessageFrame","size","entries","byteColors","Array","fill","byteStateChangeCounts","determineByteStateChangeTimes","hexData","time","msgSize","lastParsedMessage","byteStateChangeTimes","i","length","substr","createMessageEntry","relTime","data","signals","getSignalValues","Buffer","from","toString","updated","Date","now","parseMessage","timeStart","msgSpec","max","msgEntry","BIG_ENDIAN_START_BITS","j","push","bigEndianBitIndex","matrixBitIndex","indexOf","addCanMessage","canMessage","canStartTime","messages","prevMsgEntries","byteStateChangeCountsByMessage","busTime","undefined","prevMsgEntry","every","c","map","count","idx","matrixBitNumber","bigEndianIndex","reparseMessage","msg","findMaxByteStateChangeCount","Object","values","m","reduce","counts","countArr","concat","count1","count2","setMessageByteColors","message","maxByteStateChangeCount","isNaN","min","red","maxMessageSize","initial","entry","GITHUB_CLIENT_ID","GITHUB_REDIRECT_URL","GITHUB_AUTH_TOKEN_KEY","OPENDBC_SOURCE_REPO","USE_UNLOGGER","window","getUrlParameter","UNLOGGER_HOST","LOGENTRIES_TOKEN","PART_SEGMENT_LENGTH","CAN_GRAPH_MAX_POINTS","STREAMING_WINDOW","EXPLORER_URL","objToQuery","obj","keys","k","encodeURIComponent","decodeURIComponent","join","name","location","replace","results","RegExp","exec","search","modifyQueryParameters","add","remove","params","key","value","origin","pathname","RLogDownloader","require","LogCSVDownloader","MessageParser","CanStreamerWorker","dataCache","CanExplorer","props","partChangeDebounced","debounce","loadMessagesFromCache","spawnWorker","state","thumbnails","selectedMessages","route","canFrameOffset","routeInitTime","firstFrameTime","firstCanTime","lastBusTime","selectedMessage","currentParts","currentPart","currentWorkers","loadingParts","loadedParts","showOnboarding","showLoadDbc","showSaveDbc","showEditMessageModal","editMessageModalMessage","dbcText","text","dbcFilename","dbcLastSaved","seekTime","seekIndex","partsLoaded","spawnWorkerHash","attemptingPandaConnection","pandaNoDeviceSelected","live","isGithubAuthenticated","githubAuthToken","shareUrl","logUrls","openDbcClient","OpenDbc","unloggerClient","UnloggerClient","bind","hideOnboarding","hideLoadDbc","hideSaveDbc","hideEditMessageModal","onDbcSelected","onDbcSaved","onConfirmedSignalChange","onPartChange","onMessageFrameEdited","onSeek","onUserSeek","onMessageSelected","onMessageUnselected","initCanData","updateSelectedMessages","handlePandaConnect","processStreamedCanMessages","onStreamedCanMessagesProcessed","showingModal","lastMessageEntriesById","githubSignOut","downloadLogAsCSV","pandaReader","Panda","onMessage","componentDidMount","this","dataCacheTimer","interval","loadMessagesFromCacheRunning","forEach","part","lastUsed","console","log","filter","p","setState","dongleId","CommaAuth","isAuthenticated","isDemo","global","retropilotLoaded","retropilotLogUrls","demoLogUrls","retropilotRoute","demoRoute","url","exp","sig","startTime","Moment","fullname","proclog","start_time","routePromise","logUrlsPromise","routeName","Promise","resolve","maxqcamera","DrivesApi","getRouteInfo","RawDataApi","getLogUrls","all","then","initData","newState","getShareSignature","shareSignature","catch","err","CommaAuthStorage","logOut","isAuthed","componentWillUnmount","lastUpdated","persistDbc","writer","createWriteStream","getWriter","encoder","TextEncoder","downloadLiveLogAsCSV","dataHandler","downloadRawLogAsCSV","e","logData","shouldClose","progress","close","uint8array","encode","write","handler","worker","onmessage","postMessage","sourceId","source","slice","mergeThumbnails","newThumbnails","oldIndex","newIndex","monoTime","result","cancelWorker","workerHash","options","minPart","maxPart","allWorkerParts","partOffset","tempPart","hash","random","newMessages","isFinished","addMessagesToDataCache","prepend","dataCallback","base","num","isLegacyShare","addAndRehydrateMessages","msgEntries","newMsgEntries","msgLength","newMsgLength","entryLength","msgIndex","newMsgIndex","DbcUtils","a","getParseSegment","parseMessageEntry","msgs","lastEntry","loadMessagesFromCacheTimer","timeout","isCanceled","start","performance","promises","l","prev","cacheEntry","newMessageEntries","messageEntries","error","promise","getParseSegmentInternal","reparseMessages","end","warn","decacheMessageId","messageId","_messages","reject","_entry","lastMsg","memo","val","showAddSignal","sessionStorage","AuthConfig","AUTH_PATH","setItem","href","updateMessageFrame","frameSize","setSignals","msgKey","createFrame","messageFrame","set","seek","findIndex","loginWithGithub","GithubAuth","className","msgId","newCanMessages","canStreamerWorker","firstEntryIndexInsideStreamingWindow","windowFloor","enforceStreamingMessageWindow","messageIds","newEntryFloor","_onStreamedCanMessagesProcessed","persistedDbc","fetchPersistedDbc","unlisten","onError","stack","dataArray","unpersistGithubAuthToken","preventDefault","render","segments","cx","onClick","saveLog","startSegments","selectedPart","autoplay","routeStartTime","videoOffset","partsCount","routes","handleClose","sourceDbcFilename","hasGithubAuth","handleSave","Component","authorizeUrl","client_id","redirect_uri","scope","JSON","stringify","CloudLog","LogEntries","init","token","no_format","catchall","context","update","emit","level","__JEST__","ctx","created","getTime","src","Styles","StyleSheet","create","bit","margin","padding","userSelect","cursor","textAlign","position","bitSelectedStyle","backgroundColor","byteIndex","bitSignificance","fontSize","display","bottom","left","right","highlightedSignalTitle","AddSignals","updateSignalStyles","signalStyles","calcSignalStyles","matrixMouseMove","onSignalHover","signal","highlightedSignal","onBitHover","bitIdx","dragStartBit","dragSignal","copySignals","assign","startBit","isLittleEndian","msbBitIndex","lsbBitNumber","diff","bitDescription","floor","lsbBitIndex","dragCurrentBit","onSignalHoverEnd","resetDragState","ev","highlightedSignalTooltipRef","current","tt","innerHTML","style","clientX","top","clientY","onTentativeSignalChange","onSignalChange","uid","signalName","propagateUpSignalChange","onSignalRemove","onSignalPlotChange","shouldPlot","signalUid","React","createRef","bits","maxMessageBytes","signalsCopy","componentDidUpdate","prevProps","selectedMessageKey","shouldComponentUpdate","nextProps","nextState","messageIndex","plottedSignalUids","signalColorStyle","colorRgbStr","colors","getColors","darkenedColors","lightenedColors","colorsCommaSep","color","signalForBit","signalBitIndex","nextNewSignalName","existingNames","signalNum","onBitMouseDown","createSignal","Signal","createSignalIfNotExtendingOne","dragEndBit","isDragAcrossSingleByte","onBitMouseUp","byteValueHex","byteIdx","bitValue","byteBitIdx","readInt8","bitIsContainedInSelection","bigEndianStartBit","bigEndianCurrentBit","bigEndianBitIdx","onBitDoubleClick","renderBitMatrix","rowCount","rows","rowBits","css","bitStyle","bitDesc","isMsb","isLsb","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onDoubleClick","onMouseMove","ref","cellSpacing","toFixed","OnboardingModal","webUsbEnabled","navigator","usb","viewingUsbInstructions","pandaConnected","attemptPandaConnection","toggleUsbInstructions","navigateToExplorer","script","document","createElement","body","appendChild","onload","AppleID","auth","clientId","APPLE_CLIENT_ID","APPLE_SCOPES","redirectURI","APPLE_REDIRECT_URI","APPLE_STATE","async","addEventListener","detail","authorization","code","APPLE_REDIRECT_PATH","qs","filterRoutesWithCan","drive","can","renderPandaEligibility","renderLogin","GOOGLE_REDIRECT_LINK","signIn","GITHUB_REDIRECT_LINK","renderOnboardingOptions","renderUsbInstructions","alt","instructionalImages","step2","step3","renderModalContent","renderModalFooter","target","rel","title","subtitle","footer","disableClose","variations","SaveDbcModal","tab","openDbcFork","tabs","commitMessage","commitToGitHub","downloadDbcFile","forkOpenDbcAndWait","renderForkButton","renderTabNavigation","renderActions","getUserOpenDbcFork","filename","commitFile","blob","Blob","type","FileSaver","saveAs","fork","isTimedOut","setTimeout","setInterval","clearInterval","clearTimeout","primaryActionDisabled","renderForkStep","content","disabled","renderFilenameField","data-extension","htmlFor","onChange","renderCommitMessage","renderTabContent","navigation","actions","EditMessageModal","copy","editTransmitter","addTransmitter","transmitter","parseInt","transmitters","socket","SocketIO","baseTime","seekSeconds","str","charCodeAt","parse","provider","AuthApi","refreshAccessToken","AuthStorage","setCommaAccessToken","onboardingPath","getItem","removeItem","Request","configure","Sentry","routeFullName","split","Number","isShare","demoProps","authTokenQueryParam","persistGithubAuthToken","urlNoAuthToken","fetchPersistedGithubAuthToken","authenticate","retropilotHost","driveIdentifier","loadRetropilotDrive","retropilotProps","opts","__webpack_hash__","release","Raven","config","install","fetch","response","json","retropilotDrive","alert","status","dbcObj","driveUrl","elementWiseEquals","arr1","arr2","ele","findIndexRight","arr","condition","_calcGraphData","find","s","samples","skip","x","y","parseFloat","unit","appendNewGraphData","plottedSignals","graphData","plottedMessages","plottedMessageIds","index","maxGraphTime","series","some","signalUidsByMessageId","graphDataMaxMessageTimes","signalUids","maxIndex","ArrayUtils","newGraphData","firstNewEntryIdx","newEntries","signalGraphData","messageIdOutOfBounds","graphDataLowerBound","signalColors","v","DefaultPlotInnerStyle","CanGraph","updateBounds","view","bounds","width","run","insertData","changeset","insert","change","plotInnerStyle","shiftX","shiftY","isDataInserted","getGraphData","spec","getGraphSpec","onNewView","onSignalClickTime","onSignalSegment","onDragAnchorMouseDown","onDragAnchorMouseUp","onDragStart","onPlotResize","firstRelTime","lastRelTime","messageRelTime","GraphData","CanPlotSpec","scales","domainMin","segment","domainMax","segmentIsNew","newSegment","visualChanged","canReceiveGraphDrop","dragPos","runAfter","updateStyleFromDragPos","plottedSignal","currentTime","runAsync","clickTime","onRelativeTimeClick","isArray","onSegmentChanged","getState","subcontext","brush","plotInnerStyleFromMouseEvent","rect","container","getBoundingClientRect","persist","signalSpec","onDragEnd","canReceiveDropClass","onGraphRefAvailable","messageName","unplot","background","onResize","measureRef","Vega","logLevel","signalListeners","renderer","table","emptyTable","CanGraphList","draggingSignal","dragShift","graphToReceiveDrop","plotListRef","plotRefs","renderSignalPlot","onGraphDragStart","onGraphDragEnd","determineDraggingGraph","draggingGraph","hidden","elementFromPoint","closestPlot","closest","closestPlotRef","isEqualNode","mergePlots","fromPlot","toPlot","addCanGraphRef","isDragging","onSignalUnplotPressed","onGraphTimeClick","HLS","onSeeking","playing","onLoadStart","onPlaySeek","videoElement","shouldInitVideoTime","onSeeked","onLoadEnd","onLoadedData","playbackRate","playbackSpeed","loadSource","paused","play","pause","player","Hls","enableWorker","disablePtsDtsCorrectionInMp4Remux","on","Events","ERROR","event","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","destroy","attachMedia","onVideoElementAvailable","video","autoPlay","muted","onWaiting","onPlaying","PlayButton","hover","imageSource","isPlaying","process","onPause","onPlay","onMouseOver","RouteSeeker","updateDraggingSeek","ratio","seekedBarStyle","zeroSeekedBarStyle","markerStyle","hiddenMarkerStyle","tooltipStyle","hiddenTooltipStyle","tooltipTime","executePlayTimer","segmentIndices","videoLength","newRatio","updateSeekedBar","nearestFrameTime","segmentProgress","cancelAnimationFrame","playTimer","mouseEventXOffsetPercent","progressBar","offsetWidth","markerOffsetPct","markerWidth","tooltipWidth","ratioTime","requestAnimationFrame","roundTime","loadingOverlay","height","justifyContent","alignItems","zIndex","loadingSpinner","img","hls","seekBar","RouteVideoSync","isLoading","videoApi","VideoApi","getQcameraStreamIndex","getQcameraStreamIndexUrl","userSeekTime","duration","funcSeekToRatio","offset","playSpeed","onVideoClick","CanLog","expandedMessages","messageHeights","allPacketsExpanded","renderLogListItemMessage","addDisplayedMessages","renderLogListItem","renderLogList","onExpandAllChanged","toggleExpandAllPackets","toggleSignalPlot","curMessageLength","nextMessageLength","newLength","ITEMS_PER_PAGE","expandMessage","msgIdx","onMessageExpanded","collapseMessage","expMsgTime","isSignalPlotted","plot","signalValuePretty","isFloat","isMessageExpanded","plotted","onSignalPlotPressed","toggleExpandPacketSignals","msgIsExpanded","msgHasSignals","renderLogListItemSignals","isPlotted","plottedButtonClass","plottedButtonText","hasSignalsClass","expandedClass","msgHexs","substring","hx","items","listLength","checked","expandAllText","expandAllClass","itemRenderer","itemsRenderer","pageSize","updateWhenThisValueChanges","findTimeIndex","findRelativeTimeIndex","findSegmentIndices","isRelative","segmentTimeLow","segmentTimeHi","timeIndexFunc","segmentIdxLow","upperSegmentIdxHi","segmentIdxHi","PlaySpeedSelector","onPlaySpeedChanged","currentTarget","float","clipSegment","_segment","_segmentIndices","nextMessage","segmentStartIdx","segmentEndIdx","segmentStartTime","segmentEndTime","Explorer","updateSegment","Entries","userSeekIndex","shouldShowAddSignal","onKeyDown","toggleShouldShowAddSignal","changePlaySpeed","removeEventListener","keyCode","resetSegment","prevMessage","curMessage","newPlottedSignals","messageExists","Boolean","signalExists","timeWindow","partStartOffset","partEndOffset","windowStartTime","clone","format","windowEndTime","indexFromSeekTime","secondsLoadedRouteRelative","secondsLoaded","renderSelectMessagePrompt","selectedMessagePlottedSignalUids","renderExplorerSignals","selectedMessageName","onClose","fromPlotIdx","splice","toPlotIdx","signalsExpandedClass","graphSegment","unsignedTransformation","field","transform","optionValues","Little","Big","startByte","endByte","Signed","Unsigned","Field","children","errorCls","valid","FieldMap","number","valueCol","fieldSpec","isExpanded","signalEdited","updateField","option","valueOptions","swapKeysAndValues","f","acc","optionEles","opt","defaultValue","string","mapString","desc","trim","splitted","matchAll","match","res","Map","getSignalEdited","fieldError","FIELDS","Node","SignalLegendEntry","signalCopy","toggleEditing","fieldSpecForName","toggleExpandSignal","stopPropagation","equals","isHighlighted","expandedEntryClass","colorBarStyle","SignalForm","SignalLegend","expandedSignals","includes","updatedExpandedSignals","checkExpandedSignal","signalRows","sort","signal1","signal2","row","GithubDbcList","paths","selectedPath","pathQuery","updatePathQuery","list","repo","path","selectPath","getDbcContents","dbcContents","onDbcLoaded","placeholder","DbcUpload","onTextChanged","LoadDbcModal","dbcSource","userOpenDbcRepo","hasAuth","MessageBytes","isVisible","lastMessageIndex","lastSeekTime","onVisibilityChange","onCanvasRefAvailable","updateCanvas","canvasInView","ceil","canvas","visualViewport","nextLastEntry","curLastEntry","findMostRecentMessage","mostRecentMessageIndex","mostRecentMsg","getContext","fillStyle","fillRect","font","fillText","IntersectionObserver","observe","ckmeans","Meta","onFilterChanged","onFilterFocus","onFilterUnfocus","canMsgFilter","renderMessageBytes","filterText","lastSaved","fromNow","hoveredMessages","orderedMessageKeys","lastSavedTimer","sortMessages","byteCountsDidUpdate","prevMessages","nextMessages","messagesByEntryCount","partialMapping","entryCountKey","entryCounts","bin","entryCount","partial","msg1","msg2","reverse","msgName","toLowerCase","lastSavedPretty","onMessageHover","onMessageHoverEnd","onMsgRemoveClick","orderedMessages","selectedMessageClass","renderCanMessages","renderAvailableMessagesList","cellPadding","saveable","ReadableStream","WritableStream","data-clipboard-text","data-clipboard-action","Clipboard","onFocus","onBlur","ReactDOM","getElementById","Frame","extended","comment","nextNewTransmitterName","txName","txNum","header","BoardUnit","attributes","DBC_COMMENT_RE","DBC_COMMENT_MULTI_LINE_RE","MSG_RE","SIGNAL_RE","MP_SIGNAL_RE","VAL_RE","VAL_TABLE_RE","MSG_TRANSMITTER_RE","SIGNAL_COMMENT_RE","SIGNAL_COMMENT_MULTI_LINE_RE","MESSAGE_COMMENT_RE","MESSAGE_COMMENT_MULTI_LINE_RE","BOARD_UNIT_RE","BOARD_UNIT_COMMENT_RE","BOARD_UNIT_COMMENT_MULTI_LINE_RE","floatOrInt","numericStr","isInteger","dbcString","boardUnits","comments","importDbcString","get","nextNewFrameName","messageNames","msgNum","updateBoardUnits","boardUnitNames","bu","missingBoardUnits","receiver","receivers","recv","array","txt","_newSymbols","boardUnitsText","frames","messageTxs","addr","txs","signalsByMsgId","s1","s2","msgAddr","valueDescriptions","valueDescriptionText","getMessageName","getSignals","newMsg","addSignal","warnings","valueTables","followUp","lines","line","followUpLine","partialComment","matches","idString","isSigned","factor","receiverStr","signalProperties","vals","description","tableName","hasFollowUp","newBoardUnits","boardUnitName","boardUnit","valueForIntSignal","sig_lsb","sig_msb","ret","byteLength","lsb","d","getUint8","BigInt","asIntN","has","DataView","buffer","signalValuesByName","getChffrMetricMappings","metricComment","metric","metrics","metricName","maybeDbc","localStorage","dbcJson","func","wait","immediate","args","arguments","later","apply","callNow","module","exports","Worker","Modal","windowHeight","modalHeight","updateHeights","contentRect","innerHeight","readVariationClasses","classes","variation","checkClosability","checkYScrollability","multiplex","calculateMin","calculateMax","generateColors","_colors","defineProperty","enumberable","byteOrder","signedChar","littleEndianBitDescription","bitIndex","bitRange","bitNumber","bigEndianBitDescription","range","calculateRawRange","rawRange","pow","rawMin","rawMax","parts","lastColor","randomcolor","otherSignal","OpenDBC","github","GitHub","sourceRepo","getRepo","githubUsername","fetchGithubUsername","getUser","user","getProfile","profile","login","repoFullName","username","repoName","getContents","dbcPath","fileContents","rawContentsUrl","download_url","cache","resp","repoSourceIsOpenDbc","repoDetails","full_name","getGithubUsername","getDetails","repoDetailResp","contents","getRef","refResp","getCommit","object","sha","headCommitResp","headCommit","getTree","tree","headTreeResp","headTree","mode","createTree","createTreeResp","createdTree","commit","commitResp","updateHead","updateHeadResp","self","_indexOf","LogStream","_endpoint","_traceCode","trace","PI","_pageInfo","page_info","_token","_print","print","_noFormat","_SSL","XDomainRequest","ssl","protocol","LEENDPOINT","_backlog","_active","_sentPageInfo","_apiCall","request","_getAjaxObject","XMLHttpRequest","constructor","onreadystatechange","readyState","shift","open","setRequestHeader","overrideMimeType","send","_getEvent","prototype","call","Error","_agentInfo","nav","doNotTrack","screen","referrer","innerWidth","browser","appName","version","appVersion","cookie_enabled","cookieEnabled","do_not_track","platform","_rawLog","serialized","ex","oldHandler","onerror","newHandler","Logger","logger","dict","endpoint","_log","info","loggers","_createLogStream","hasOwnProperty","_deprecatedInit","createLogStream","to","_getLogger","_destroyLogStream","styles","it","_definition","_name","classNames"],"mappings":"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,WAChC,eACAF,EAAOX,KACP,GA7CJ,eA0CQc,EA1CR,yBAgDmC,MAA1BA,EAAe9qB,QAhDxB,wD,sHC7GF,oIAGa1c,EAAc,CACzB,2PACA,yPACA,qPACA,yPACA,2PACA,qPACA,qPACA,qPACA,qPACA,uPACA,sPACA,sPACA,sPACA,sPACA,wPACA,sPACA,wPACA,sPACA,0PACA,wPACA,sPACA,sPACA,sPACA,0PACA,sPACA,0PACA,0PACA,sPACA,sPACA,wPACA,sPACA,wPACA,sPACA,sPACA,0PACA,sPACA,sPACA,sPACA,sPACA,sPACA,0PACA,sPACA,0PACA,wPACA,0PACA,sPACA,wPACA,sPACA,0PACA,sPACA,wPACA,wPACA,wPACA,sPACA,wPACA,sPACA,wPACA,sPACA,sPACA,4PACA,sPACA,sPACA,wPACA,sPACA,wPACA,0PACA,wPACA,sPACA,wPACA,0PACA,sPACA,sPACA,8PACA,sPACA,0PACA,wPACA,sPACA,wPACA,wPACA,wPACA,sPACA,0PACA,wPACA,sPACA,0PACA,sPACA,wPACA,sPACA,sPACA,sPACA,sPACA,sPACA,wPACA,0PACA,wPACA,sPACA,sPACA,wPACA,sPACA,sPACA,uPACA,yPACA,uPACA,uPACA,uPACA,yPACA,uPACA,uPACA,uPACA,yPACA,yPACA,uPACA,yPACA,uPACA,yPACA,uPACA,uPACA,uPACA,uPACA,2PACA,wPAGWqb,EAAY,CACvBtmB,IAAKiL,EAAYjM,OACjBiF,KAAM,uBACNyG,SAAU,mBACV7M,IAAKb,IACL6N,QAAQ,EACR3D,YAAa,iCAGFiE,EAAY,CACvBM,SAAU,wCACVC,QAAS4a,EAAUtmB,IACnB2L,WAAYH,IAAO8a,EAAUriB,KAAM,qBACnCmH,IAAK,iJ,gCCzIP,GAAsB,qBAAXlI,EAET,IAAIA,EAASwvC,KAEf,IAAIC,EAAW,SAAXA,SAAoB3J,EAAOrlC,GAC7B,IAAK,IAAI5E,EAAI,EAAGA,EAAIiqC,EAAMhqC,OAAQD,IAChC,GAAI4E,IAAQqlC,EAAMjqC,GAChB,OAAOA,EAGX,OAAQ,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","file":"static/js/main.57aeb7ae.chunk.js","sourcesContent":["import DBC from './models/can/dbc';\n\nconst CorollaDBC = new DBC(`\nCM_ \"AUTOGENERATED FILE, DO NOT EDIT\"\n\n\nCM_ \"Imported file _comma.dbc starts here\"\nBO_ 359 STEERING_IPAS_COMMA: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] \"\" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] \"deg\" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 55|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nCM BO_ STEERING_IPAS_COMMA \"Copy of msg 614 so we can do angle control while the Park Assist ECU is connected (Panda spoofs 614 with 359 on connector J70). Note that addresses 0x266 and 0x167 are checksum-invariant\";\n\n BO_ 512 GAS_COMMAND: 6 EON\n  SG_ GAS_COMMAND : 7|16@0+ (0.159375,-75.555) [0|1] \"\" INTERCEPTOR\n  SG_ GAS_COMMAND2 : 23|16@0+ (0.159375,-151.111) [0|1] \"\" INTERCEPTOR\n  SG_ ENABLE : 39|1@0+ (1,0) [0|1] \"\" INTERCEPTOR\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] \"\" INTERCEPTOR\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] \"\" INTERCEPTOR\n\n BO_ 513 GAS_SENSOR: 6 INTERCEPTOR\n  SG_ INTERCEPTOR_GAS : 7|16@0+ (0.159375,-75.555) [0|1] \"\" EON\n  SG_ INTERCEPTOR_GAS2 : 23|16@0+ (0.159375,-151.111) [0|1] \"\" EON\n  SG_ STATE : 39|4@0+ (1,0) [0|15] \"\" EON\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] \"\" EON\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] \"\" EON\n\n VAL_ 513 STATE 5 \"FAULT_TIMEOUT\" 4 \"FAULT_STARTUP\" 3 \"FAULT_SCE\" 2 \"FAULT_SEND\" 1 \"FAULT_BAD_CHECKSUM\" 0 \"NO_FAULT\" ;\n\n\nCM_ \"Imported file _toyota_2017.dbc starts here\"\nVERSION \"\"\n\n\nNS_ :\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_\n\nBS_:\n\nBU_: XXX DSU HCU EPS IPAS CGW\n\nBO_ 36 KINEMATICS: 8 XXX\n SG_ ACCEL_Y : 33|10@0+ (0.03589,-18.375) [0|65535] \"m/s^2\" XXX\n SG_ YAW_RATE : 1|10@0+ (0.244,-125) [0|65535] \"deg/sec\" XXX\n SG_ STEERING_TORQUE : 17|10@0+ (1,-512) [0|65535] \"\" XXX\n\nBO_ 37 STEER_ANGLE_SENSOR: 8 XXX\n SG_ STEER_ANGLE : 3|12@0- (1.5,0) [-500|500] \"deg\" XXX\n SG_ STEER_FRACTION : 39|4@0- (0.1,0) [-0.7|0.7] \"deg\" XXX\n SG_ STEER_RATE : 35|12@0- (1,0) [-2000|2000] \"deg/s\" XXX\n\nBO_ 166 BRAKE: 8 XXX\n SG_ BRAKE_AMOUNT : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ BRAKE_PEDAL : 23|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 170 WHEEL_SPEEDS: 8 XXX\n SG_ WHEEL_SPEED_FR : 7|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_FL : 23|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_RR : 39|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_RL : 55|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n\nBO_ 180 SPEED: 8 XXX\n SG_ ENCODER : 39|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SPEED : 47|16@0+ (0.01,0) [0|250] \"kph\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 353 DSU_SPEED: 8 XXX\n SG_ FORWARD_SPEED : 15|16@0- (0.00390625,-30) [0|255] \"kph\" XXX\n\nBO_ 466 PCM_CRUISE: 8 XXX\n SG_ GAS_RELEASED : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CRUISE_ACTIVE : 5|1@0+ (1,0) [0|1] \"\" XXX\n SG_ STANDSTILL_ON : 12|1@0+ (1,0) [0|1] \"\" XXX\n SG_ ACCEL_NET : 23|16@0- (0.001,0) [-20|20] \"m/s2\" XXX\n SG_ CRUISE_STATE : 55|4@0+ (1,0) [0|15] \"\" XXX\n SG_ CANCEL_REQ : 49|1@1+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 467 PCM_CRUISE_2: 8 XXX\n SG_ MAIN_ON : 15|1@0+ (1,0) [0|1] \"\" XXX\n SG_ LOW_SPEED_LOCKOUT : 14|2@0+ (1,0) [0|3] \"kph\" XXX\n SG_ SET_SPEED : 23|8@0+ (1,0) [0|255] \"kph\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 552 ACCELEROMETER: 8 XXX\n SG_ ACCEL_Z : 22|15@0- (1,0) [0|32767] \"\" XXX\n SG_ ACCEL_X : 6|15@0- (0.001,0) [-20|20] \"m/s2\" XXX\n\nBO_ 560 BRAKE_MODULE2: 7 XXX\n SG_ BRAKE_PRESSED : 26|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 614 STEERING_IPAS: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] \"\" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] \"deg\" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00_1 : 55|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 643 PRE_COLLISION: 7 DSU\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 15|8@0+ (1,0) [0|255] \"\" XXX\n SG_ FORCE : 23|16@0- (2,0) [0|255] \"N\" XXX\n SG_ SET_ME_X002 : 33|8@0+ (1,0) [0|3] \"\" XXX\n SG_ BRAKE_STATUS : 39|3@0+ (1,0) [0|255] \"\" XXX\n SG_ STATE : 36|3@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X003 : 40|1@0+ (1,0) [0|1] \"\" XXX\n SG_ PRECOLLISION_ACTIVE : 41|1@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 55|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 740 STEERING_LKA: 5 XXX\n SG_ LKA_STATE : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ STEER_REQUEST : 0|1@0+ (1,0) [0|1] \"\" XXX\n SG_ COUNTER : 6|6@0+ (1,0) [0|63] \"\" XXX\n SG_ SET_ME_1 : 7|1@0+ (1,0) [0|1] \"\" XXX\n SG_ STEER_TORQUE_CMD : 15|16@0- (1,0) [0|65535] \"\" XXX\n SG_ CHECKSUM : 39|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 742 LEAD_INFO: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" HCU\n SG_ LEAD_REL_SPEED : 23|12@0- (0.025,0) [-100|100] \"m/s\" HCU\n SG_ LEAD_LONG_DIST : 7|13@0+ (0.05,0) [0|300] \"m\" HCU\n\nBO_ 835 ACC_CONTROL: 8 DSU\n SG_ ACCEL_CMD : 7|16@0- (0.001,0) [-20|20] \"m/s2\" HCU\n SG_ SET_ME_X01 : 23|2@0+ (1,0) [0|3] \"\" HCU\n SG_ DISTANCE : 20|1@0+ (1,0) [0|1] \"\" XXX\n SG_ MINI_CAR : 21|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X3 : 19|4@0+ (1,0) [0|15] \"\" XXX\n SG_ SET_ME_1 : 30|1@0+ (1,0) [0|1] \"\" HCU\n SG_ RELEASE_STANDSTILL : 31|1@0+ (1,0) [0|1] \"\" HCU\n SG_ CANCEL_REQ : 24|1@0+ (1,0) [0|1] \"\" HCU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 836 PRE_COLLISION_2: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 869 DSU_CRUISE : 7 DSU\n SG_ RES_BTN : 3|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SET_BTN : 2|1@0+ (1,0) [0|0] \"\" XXX\n SG_ CANCEL_BTN : 1|1@0+ (1,0) [0|0] \"\" XXX\n SG_ MAIN_ON : 0|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SET_SPEED : 15|8@0+ (1,0) [0|0] \"km/h\" XXX\n SG_ CRUISE_REQUEST : 31|8@0+ (100,-12800) [0|0] \"N\" XXX\n SG_ LEAD_DISTANCE : 39|8@0+ (1,0) [0|0] \"m\" XXX\n\nBO_ 921 PCM_CRUISE_SM: 8 XXX\n SG_ MAIN_ON : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CRUISE_CONTROL_STATE : 11|4@0+ (1,0) [0|15] \"\" XXX\n SG_ DISTANCE_LINES : 14|2@0+ (1,0) [0|3] \"\" XXX\n SG_ UI_SET_SPEED : 31|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 951 ESP_CONTROL: 8 ESP\n SG_ TC_DISABLED : 13|1@0+ (1,0) [0|1] \"\" XXX\n SG_ VSC_DISABLED : 12|2@0+ (1,0) [0|1] \"\" XXX\n SG_ BRAKE_LIGHTS_ACC : 18|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1041 ACC_HUD: 8 DSU\n SG_ FCW : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X20 : 15|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X10 : 39|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X80 : 55|8@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1042 LKAS_HUD: 8 XXX\n SG_ BARRIERS : 1|2@0+ (1,0) [0|3] \"\" XXX\n SG_ RIGHT_LINE : 3|2@0+ (1,0) [0|3] \"\" XXX\n SG_ LEFT_LINE : 5|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X01 : 7|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X01_2 : 11|2@0+ (1,0) [0|3] \"\" XXX\n SG_ LDA_ALERT : 9|2@0+ (1,0) [0|3] \"\" XXX\n SG_ TWO_BEEPS : 12|1@0+ (1,0) [0|1] \"\" XXX\n SG_ ADJUSTING_CAMERA : 13|1@0+ (1,0) [0|1] \"\" XXX\n SG_ LDA_MALFUNCTION : 15|1@0+ (1,0) [0|1] \"\" XXX\n SG_ REPEATED_BEEPS : 32|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X0C : 23|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X2C : 47|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X38 : 55|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X02 : 63|8@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1043 TIME : 8 CGW\n SG_ YEAR : 7|8@0+ (1,0) [0|0] \"year\" XXX\n SG_ MONTH : 15|8@0+ (1,0) [0|0] \"month\" XXX\n SG_ DAY : 23|8@0+ (1,0) [0|0] \"day\" XXX\n SG_ HOUR : 31|8@0+ (1,0) [0|0] \"hour\" XXX\n SG_ MINUTE : 39|8@0+ (1,0) [0|0] \"minute\" XXX\n SG_ GMT_DIFF : 55|1@0+ (1,0) [0|0] \"\" XXX\n SG_ GMTDIFF_HOURS : 54|4@0+ (1,0) [0|0] \"hours\" XXX\n SG_ GMTDIFF_MINUTES : 50|6@0+ (1,0) [0|0] \"minutes\" XXX\n SG_ SUMMER : 60|1@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1408 VIN_PART_1: 8 CGW\n SG_ VIN_1 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_2 : 15|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_3 : 23|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_4 : 31|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_5 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_6 : 47|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_7 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_8 : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1409 VIN_PART_2: 8 CGW\n SG_ VIN_9 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_10 : 15|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_11 : 23|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_12 : 31|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_13 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_14 : 47|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_15 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_16 : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1410 VIN_PART_3: 8 CGW\n SG_ VIN_17 : 7|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1553 UI_SETTING: 8 XXX\n SG_ UNITS : 26|2@0+ (1,0) [0|3] \"\" XXX\n\nBO_ 1556 STEERING_LEVERS: 8 XXX\n SG_ TURN_SIGNALS : 29|2@0+ (1,0) [0|3] \"\" XXX\n\nBO_ 1568 SEATS_DOORS: 8 XXX\n SG_ SEATBELT_DRIVER_UNLATCHED : 62|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_FL : 45|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_RL : 42|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_RR : 43|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_FR : 44|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1570 LIGHT_STALK: 8 SCM\n SG_ AUTO_HIGH_BEAM : 37|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1161 RSA1: 8 FCM\n SG_ TSGN1 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY1 : 12|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT1 : 9|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDVAL1 : 23|8@0+ (1,0) [0|0] \"kph\" XXX\n SG_ SPLSGN1 : 31|4@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN2 : 27|4@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGN2 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY2 : 44|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT2 : 41|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDVAL2 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ BZRRQ_P : 63|2@0+ (1,0) [0|0] \"\" XXX\n SG_ BZRRQ_A : 61|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SYNCID1 : 59|4@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1162 RSA2: 8 FCM\n SG_ TSGN3 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY3 : 12|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT3 : 9|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN3 : 31|4@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN4 : 27|4@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGN4 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY4 : 44|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT4 : 41|2@0+ (1,0) [0|0] \"\" XXX\n SG_ DPSGNREQ : 54|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SGNNUMP : 53|3@0+ (1,0) [0|0] \"\" XXX\n SG_ SGNNUMA : 50|3@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDUNT : 63|2@0+ (1,0) [0|0] \"\" XXX\n SG_ TSRWMSG : 61|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SYNCID2 : 59|4@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1163 RSA3: 8 FCM\n SG_ TSREQPD : 7|1@0+ (1,0) [0|0] \"\" XXX\n SG_ TSRMSW : 6|1@0+ (1,0) [0|0] \"\" XXX\n SG_ OTSGNNTM : 5|2@0+ (1,0) [0|0] \"\" XXX\n SG_ NTLVLSPD : 3|2@0+ (1,0) [0|0] \"\" XXX\n SG_ OVSPNTM : 1|2@0+ (1,0) [0|0] \"\" XXX\n SG_ OVSPVALL : 11|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ OVSPVALM : 19|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ OVSPVALH : 27|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ TSRSPU : 33|2@0+ (1,0) [0|0] \"\" XXX\n\nCM_ SG_ 36 ACCEL_Y \"unit is tbd\";\nCM_ SG_ 36 YAW_RATE \"verify\";\nCM_ SG_ 36 STEERING_TORQUE \"does not seem the steer torque, tbd\";\nCM_ SG_ 37 STEER_FRACTION \"1/15th of the signal STEER_ANGLE, which is 1.5 deg; note that 0x8 is never set\";\nCM_ SG_ 37 STEER_RATE \"factor is tbd\";\nCM_ SG_ 466 ACCEL_NET \"net acceleration produced by the system, given ACCEL_CMD, road grade and other factors\";\nCM_ SG_ 467 SET_SPEED \"43 kph are shown as 28mph, so conversion isnt perfect\";\nCM_ SG_ 467 LOW_SPEED_LOCKOUT \"in low speed lockout, system would always disengage below 28mph\";\nCM_ SG_ 560 BRAKE_PRESSED \"another brake pressed?\";\nCM_ SG_ 608 STEER_TORQUE_DRIVER \"driver torque\";\nCM_ SG_ 608 STEER_OVERRIDE \"set when driver torque exceeds a certain value\";\nCM_ SG_ 614 ANGLE \"set to measured angle when ipas control isn't active\";\nCM_ SG_ 643 COUNTER \"only used on cars that use this msg for cruise control\";\nCM_ SG_ 643 BRAKE_STATUS \"only used on cars that use this msg for cruise control\";\nCM_ SG_ 643 PRECOLLISION_ACTIVE \"set 0.5s before any braking\";\nCM_ SG_ 921 UI_SET_SPEED \"set speed shown in UI with user set unit\";\nCM_ SG_ 951 BRAKE_LIGHTS_ACC \"brake lights when ACC commands decel\";\nCM_ SG_ 1042 SET_ME_1 \"unclear what this is, but it's always 1 in drive traces\";\nCM_ SG_ 1042 REPEATED_BEEPS \"recommended for fcw and other important alerts\";\nCM_ SG_ 1161 SPDVAL1 \"Numbers 0-199 is displayed, 200-254 displays circle without number and 255 is for no limit.\";\nCM_ SG_ 1161 SYNCID1 \"counter from 1 to f at 1 Hz\";\nCM_ SG_ 1161 SPDVAL2 \"conditional speed value 70\"\nCM_ SG_ 1162 SGNNUMP \"1 if SPDVAL1 is set, otherwise 0\";\nCM_ SG_ 1162 SYNCID2 \"counter from 1 to f at 1 Hz\";\nCM_ SG_ 1163 TSREQPD \"always 1\";\nCM_ SG_ 1163 TSRMSW \"always 1\";\nCM_ SG_ 1163 OTSGNNTM \"always 3\";\nCM_ SG_ 1163 NTLVLSPD \"always 3\";\nCM_ SG_ 1163 OVSPNTM \"always 3\";\nCM_ SG_ 1163 OVSPVALL \"-5 at start then 2 after 2 seconds\";\nCM_ SG_ 1163 OVSPVALM \"-5 at start then 5 after 2 seconds\";\nCM_ SG_ 1163 OVSPVALH \"-5 at start then 10 after 2 seconds\";\nCM_ SG_ 1163 TSRSPU \"always 1\";\n\nVAL_ 466 CRUISE_STATE 8 \"active\" 7 \"standstill\" 1 \"off\";\nVAL_ 467 LOW_SPEED_LOCKOUT 2 \"low speed locked\" 1 \"ok\";\nVAL_ 614 STATE 3 \"enabled\" 1 \"disabled\";\nVAL_ 614 DIRECTION_CMD 3 \"right\" 2 \"center\" 1 \"left\";\nVAL_ 643 STATE 0 \"normal\" 1 \"adaptive_cruise_control\" 3 \"emergency_braking\";\nVAL_ 921 CRUISE_CONTROL_STATE 2 \"disabled\" 11 \"hold\" 10 \"hold_waiting_user_cmd\" 6 \"enabled\" 5 \"faulted\";\nVAL_ 1042 LDA_ALERT 3 \"hold with continuous beep\" 2 \"LDA unavailable\" 1 \"hold\" 0 \"none\";\nVAL_ 1042 BARRIERS 3 \"both\" 2 \"right\" 1 \"left\" 0 \"none\";\nVAL_ 1042 RIGHT_LINE 3 \"orange\" 2 \"faded\" 1 \"solid\" 0 \"none\";\nVAL_ 1042 LEFT_LINE 3 \"orange\" 2 \"faded\" 1 \"solid\" 0 \"none\";\nVAL_ 1553 UNITS 1 \"km\" 2 \"miles\";\nVAL_ 1556 TURN_SIGNALS 3 \"none\" 2 \"right\" 1 \"left\";\nVAL_ 1161 TSGN1 1 \"speed sign\" 0 \"none\";\nVAL_ 1161 TSGN2 1 \"speed sign\" 0 \"none\";\nVAL_ 1161 SPLSGN2 15 \"conditional blank\" 4 \"wet road\" 5 \"rain\" 0 \"none\";\nVAL_ 1162 TSGN3 0 \"none\" 1 \"speed sign\" 2 \"0 unlimited\" 7 \"unlimited\" 16 \"highway\" 17 \"no highway\" 18 \"motorway\" 19 \"no motorway\" 20 \"in city\" 21 \"outside city\" 22 \"pedestrian area\" 23 \"no pedestrian area\" 65 \"no overtaking left\" 66 \"no overtaking right\" 67 \"overtaking allowed again\" 129 \"no entry\";\nVAL_ 1162 SPLSGN3 15 \"conditional blank\" 4 \"wet road\" 5 \"rain\" 0 \"none\";\n\n\nCM_ \"CHFFR_METRIC 37 STEER_ANGLE STEER_ANGLE 0.36 180\";\n\nCM_ \"toyota_nodsu_pt.dbc starts here\"\n\n\n\nBO_ 401 STEERING_LTA: 8 XXX\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SETME_X3 : 29|2@0+ (1,0) [0|3] \"\" XXX\n SG_ PERCENTAGE : 39|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SETME_X64 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ ANGLE : 55|8@0- (0.5,0) [0|255] \"\" XXX\n SG_ STEER_ANGLE_CMD : 15|16@0- (0.0573,0) [-540|540] \"\" XXX\n SG_ STEER_REQUEST : 25|1@0+ (1,0) [0|1] \"\" XXX\n SG_ BIT : 30|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 550 BRAKE_MODULE: 8 XXX\n SG_ BRAKE_PRESSURE : 0|9@0+ (1,0) [0|511] \"\" XXX\n SG_ BRAKE_POSITION : 16|9@0+ (1,0) [0|511] \"\" XXX\n SG_ BRAKE_PRESSED : 37|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 705 GAS_PEDAL: 8 XXX\n SG_ GAS_RELEASED : 3|1@0+ (1,0) [0|1] \"\" XXX\n SG_ GAS_PEDAL : 55|8@0+ (0.005,0) [0|1] \"\" XXX\n\nBO_ 608 STEER_TORQUE_SENSOR: 8 XXX\n SG_ STEER_TORQUE_EPS : 47|16@0- (0.73,0) [-20000|20000] \"\" XXX\n SG_ STEER_TORQUE_DRIVER : 15|16@0- (1,0) [-32768|32767] \"\" XXX\n SG_ STEER_OVERRIDE : 0|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n SG_ STEER_ANGLE : 31|16@0- (0.0573,0) [-500|500] \"\" XXX\n\nBO_ 610 EPS_STATUS: 8 EPS\n SG_ IPAS_STATE : 3|4@0+ (1,0) [0|15] \"\" XXX\n SG_ LKA_STATE : 31|7@0+ (1,0) [0|127] \"\" XXX\n SG_ TYPE : 24|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 956 GEAR_PACKET: 8 XXX\n SG_ SPORT_ON : 2|1@0+ (1,0) [0|1] \"\" XXX\n SG_ GEAR : 13|6@0+ (1,0) [0|63] \"\" XXX\n SG_ ECON_ON : 40|1@0+ (1,0) [0|1] \"\" XXX\n\nCM_ SG_ 548 BRAKE_PRESSURE \"seems prop to pedal force\";\nCM_ SG_ 548 BRAKE_POSITION \"seems proportional to pedal displacement, unclear the max value of 0x1c8\";\nCM_ SG_ 610 TYPE \"seems 1 on Corolla, 0 on all others\";\nVAL_ 610 IPAS_STATE 5 \"override\" 3 \"enabled\" 1 \"disabled\";\nVAL_ 610 LKA_STATE 25 \"temporary_fault\" 9 \"temporary_fault2\" 5 \"active\" 1 \"standby\";\nVAL_ 956 GEAR 0 \"D\" 1 \"S\" 8 \"N\" 16 \"R\" 32 \"P\";\nVAL_ 956 SPORT_ON 0 \"off\" 1 \"on\";\nVAL_ 956 ECON_ON 0 \"off\" 1 \"on\";\n`);\n\nexport default CorollaDBC;\n","export function shade([r, g, b], opacity) {\n  /*\n    @param {Array} rgb\n    @param {Number} opacity -1.0 -> +1.0\n        negative opacity will darken image\n\n    returns new RGB array\n    */\n  const t = opacity < 0 ? 0 : 255;\n  const opacityPos = Math.abs(opacity);\n\n  return [\n    Math.round((t - r) * opacityPos) + r,\n    Math.round((t - g) * opacityPos) + g,\n    Math.round((t - b) * opacityPos) + b\n  ];\n}\n","function findMaxByteStateChangeCount(messages) {\n  return Object.values(messages)\n    .map((m) => m.byteStateChangeCounts)\n    .reduce((counts, countArr) => counts.concat(countArr), []) // flatten arrays\n    .reduce((count1, count2) => (count1 > count2 ? count1 : count2), 0); // find max\n}\n\nfunction addCanMessage(\n  canMessage,\n  dbc,\n  canStartTime,\n  messages,\n  prevMsgEntries,\n  byteStateChangeCountsByMessage\n) {\n  const {\n    address, busTime, data, bus\n  } = canMessage;\n  const id = `${bus}:${address.toString(16)}`;\n\n  if (messages[id] === undefined) messages[id] = createMessageSpec(dbc, address, id, bus);\n\n  const prevMsgEntry = messages[id].entries.length > 0\n    ? messages[id].entries[messages[id].entries.length - 1]\n    : prevMsgEntries[id] || null;\n\n  if (\n    byteStateChangeCountsByMessage[id]\n    && messages[id].byteStateChangeCounts.every((c) => c === 0)\n  ) {\n    messages[id].byteStateChangeCounts = byteStateChangeCountsByMessage[id];\n  }\n\n  const { msgEntry, byteStateChangeCounts } = parseMessage(\n    dbc,\n    busTime,\n    address,\n    data,\n    canStartTime,\n    prevMsgEntry\n  );\n\n  messages[id].byteStateChangeCounts = byteStateChangeCounts.map(\n    (count, idx) => messages[id].byteStateChangeCounts[idx] + count\n  );\n\n  messages[id].entries.push(msgEntry);\n\n  return msgEntry;\n}\n\nfunction createMessageSpec(dbc, address, id, bus) {\n  const frame = dbc.getMessageFrame(address);\n  const size = frame ? frame.size : 8;\n\n  return {\n    address,\n    id,\n    bus,\n    entries: [],\n    frame,\n    byteColors: Array(size).fill(0),\n    byteStateChangeCounts: Array(size).fill(0)\n  };\n}\n\nfunction determineByteStateChangeTimes(\n  hexData,\n  time,\n  msgSize,\n  lastParsedMessage\n) {\n  const byteStateChangeCounts = Array(msgSize).fill(0);\n  let byteStateChangeTimes;\n\n  if (!lastParsedMessage) {\n    byteStateChangeTimes = Array(msgSize).fill(time);\n  } else {\n    // debugger;\n    byteStateChangeTimes = lastParsedMessage.byteStateChangeTimes;\n\n    for (let i = 0; i < byteStateChangeTimes.length; i++) {\n      const currentData = hexData.substr(i * 2, 2);\n      const prevData = lastParsedMessage.hexData.substr(i * 2, 2);\n\n      if (currentData !== prevData) {\n        byteStateChangeTimes[i] = time;\n        byteStateChangeCounts[i] = 1;\n      }\n    }\n  }\n\n  return { byteStateChangeTimes, byteStateChangeCounts };\n}\n\nfunction createMessageEntry(\n  dbc,\n  address,\n  time,\n  relTime,\n  data,\n  byteStateChangeTimes\n) {\n  return {\n    signals: dbc.getSignalValues(address, data),\n    address,\n    data,\n    time,\n    relTime,\n    hexData: Buffer.from(data).toString('hex'),\n    byteStateChangeTimes,\n    updated: Date.now()\n  };\n}\n\nfunction reparseMessage(dbc, msg, lastParsedMessage) {\n  const msgSpec = dbc.getMessageFrame(msg.address);\n  const msgSize = msgSpec ? msgSpec.size : 8;\n\n  const {\n    byteStateChangeTimes,\n    byteStateChangeCounts\n  } = determineByteStateChangeTimes(\n    msg.hexData,\n    msg.relTime,\n    msgSize,\n    lastParsedMessage\n  );\n\n  const msgEntry = {\n    ...msg,\n    signals: dbc.getSignalValues(msg.address, msg.data),\n    byteStateChangeTimes,\n    updated: Date.now()\n  };\n\n  return { msgEntry, byteStateChangeCounts };\n}\n\nfunction parseMessage(dbc, time, address, data, timeStart, lastParsedMessage) {\n  let hexData;\n  if (typeof data === 'string') {\n    hexData = data;\n    data = Buffer.from(data, 'hex');\n  } else {\n    hexData = Buffer.from(data).toString('hex');\n  }\n  const msgSpec = dbc.getMessageFrame(address);\n  const msgSize = msgSpec ? msgSpec.size : Math.max(8, data.length);\n  const relTime = time - timeStart;\n\n  const {\n    byteStateChangeTimes,\n    byteStateChangeCounts\n  } = determineByteStateChangeTimes(\n    hexData,\n    relTime,\n    msgSize,\n    lastParsedMessage\n  );\n  const msgEntry = createMessageEntry(\n    dbc,\n    address,\n    time,\n    relTime,\n    data,\n    byteStateChangeTimes\n  );\n\n  return { msgEntry, byteStateChangeCounts };\n}\n\nconst BIG_ENDIAN_START_BITS = [];\nfor (let i = 0; i < 8 * 64; i += 8) {\n  for (let j = 7; j > -1; j--) {\n    BIG_ENDIAN_START_BITS.push(i + j);\n  }\n}\n\nfunction bigEndianBitIndex(matrixBitIndex) {\n  return BIG_ENDIAN_START_BITS.indexOf(matrixBitIndex);\n}\n\nfunction matrixBitNumber(bigEndianIndex) {\n  return BIG_ENDIAN_START_BITS[bigEndianIndex];\n}\n\nfunction setMessageByteColors(message, maxByteStateChangeCount) {\n  message.byteColors = message.byteStateChangeCounts\n    .map((count) => (isNaN(count)\n      ? 0\n      : Math.min(255, 75 + 180 * (count / maxByteStateChangeCount))))\n    .map((red) => `rgb(${Math.round(red)},0,0)`);\n\n  return message;\n}\n\nfunction maxMessageSize(message, initial = 8) {\n  let max = initial;\n  for (const entry of message.entries) {\n    const data = Buffer.from(entry.hexData, 'hex');\n    if (data.length > max) {\n      max = data.length;\n    }\n  }\n  return max;\n}\n\nexport default {\n  bigEndianBitIndex,\n  addCanMessage,\n  createMessageSpec,\n  matrixBitNumber,\n  parseMessage,\n  reparseMessage,\n  findMaxByteStateChangeCount,\n  setMessageByteColors,\n  createMessageEntry,\n  maxMessageSize,\n};\n","import { getUrlParameter } from './utils/url';\n\nconst ENV = process.env.NODE_ENV === 'production' ? 'prod' : 'debug';\n\nconst ENV_GITHUB_CLIENT_ID = {\n  debug: 'f1e42d14f45491f9ca34',\n  prod: '4b43250e7499a97d62a5'\n};\nexport const GITHUB_CLIENT_ID = ENV_GITHUB_CLIENT_ID[ENV];\n\nconst ENV_GITHUB_REDIRECT_URL = {\n  debug: 'http://127.0.0.1:1235/callback',\n  prod: 'https://api.comma.ai/cabana/ghcallback'\n};\nexport const GITHUB_REDIRECT_URL = ENV_GITHUB_REDIRECT_URL[ENV];\nexport const GITHUB_AUTH_TOKEN_KEY = 'gh_access_token';\nexport const OPENDBC_SOURCE_REPO = 'commaai/opendbc';\n\nexport const USE_UNLOGGER = typeof window !== 'undefined' && getUrlParameter('unlogger') !== null;\nexport const UNLOGGER_HOST = 'http://localhost:8080/unlogger';\n\nexport const LOGENTRIES_TOKEN = '4bc98019-8277-4fe0-867c-ed21ea843cc5';\n\nexport const PART_SEGMENT_LENGTH = 3;\n\nexport const CAN_GRAPH_MAX_POINTS = 5000;\n\nexport const STREAMING_WINDOW = 60;\n\nconst ENV_EXPLORER_URL = {\n  debug: 'http://127.0.0.1:3000/',\n  prod: 'https://connect.comma.ai/'\n};\nexport const EXPLORER_URL = ENV_EXPLORER_URL[ENV];\n","/* eslint-disable no-restricted-globals */\nexport function objToQuery(obj) {\n  return Object.keys(obj)\n    .map((k) => `${k}=${encodeURIComponent(decodeURIComponent(obj[k]))}`)\n    .join('&');\n}\n\nexport function getUrlParameter(name) {\n  const { location } = window;\n  name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regex = new RegExp(`[\\\\?&]${name}=([^&#]*)`);\n  const results = regex.exec(location.search);\n\n  return results === null\n    ? null\n    : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\nexport function modifyQueryParameters({ add, remove = [] }) {\n  const regex = new RegExp('[\\\\?&]([^&#]+)=([^&#]*)');\n  const results = regex.exec(location.search);\n\n  let params = {};\n  if (results != null) {\n    for (let i = 1; i < results.length - 1; i += 2) {\n      const key = results[i];\n      const value = results[i + 1];\n      params[key] = value;\n    }\n    for (const key in params) {\n      if (remove.indexOf(key) !== -1) {\n        delete params[key];\n      }\n    }\n    params = { ...params, ...add };\n  } else {\n    params = add;\n  }\n\n  return `${location.origin + location.pathname}?${objToQuery(params)}`;\n}\n","import React, { Component } from 'react';\nimport Moment from 'moment';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { createWriteStream } from 'streamsaver';\nimport Panda from '@commaai/pandajs';\nimport CommaAuth, { storage as CommaAuthStorage, config as AuthConfig } from '@commaai/my-comma-auth';\nimport { raw as RawDataApi, drives as DrivesApi } from '@commaai/comma-api';\nimport { timeout, interval } from 'thyming';\nimport {\n  USE_UNLOGGER,\n  PART_SEGMENT_LENGTH,\n  STREAMING_WINDOW,\n  GITHUB_AUTH_TOKEN_KEY\n} from './config';\nimport * as GithubAuth from './api/github-auth';\n\nimport DBC from './models/can/dbc';\nimport Meta from './components/Meta';\nimport Explorer from './components/Explorer';\nimport OnboardingModal from './components/Modals/OnboardingModal';\nimport SaveDbcModal from './components/SaveDbcModal';\nimport LoadDbcModal from './components/LoadDbcModal';\nimport debounce from './utils/debounce';\nimport EditMessageModal from './components/EditMessageModal';\nimport {\n  persistDbc,\n  fetchPersistedDbc,\n  unpersistGithubAuthToken\n} from './api/localstorage';\nimport OpenDbc from './api/OpenDbc';\nimport UnloggerClient from './api/unlogger';\nimport { hash } from './utils/string';\nimport { modifyQueryParameters } from './utils/url';\nimport DbcUtils from './utils/dbc';\nimport { demoLogUrls, demoRoute } from './demo';\n\nconst RLogDownloader = require('./workers/rlog-downloader.worker');\nconst LogCSVDownloader = require('./workers/dbc-csv-downloader.worker');\nconst MessageParser = require('./workers/message-parser.worker');\nconst CanStreamerWorker = require('./workers/CanStreamerWorker.worker');\n\nconst dataCache = {};\n\n\nexport default class CanExplorer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: {},\n      thumbnails: [],\n      selectedMessages: [],\n      route: null,\n      canFrameOffset: 0,\n      routeInitTime: 0,\n      firstFrameTime: 0,\n      firstCanTime: null,\n      lastBusTime: null,\n      selectedMessage: null,\n      currentParts: [0, 0],\n      currentPart: 0,\n      currentWorkers: {},\n      loadingParts: [],\n      loadedParts: [],\n      showOnboarding: false,\n      showLoadDbc: false,\n      showSaveDbc: false,\n      showEditMessageModal: false,\n      editMessageModalMessage: null,\n      dbc: props.dbc ? props.dbc : new DBC(),\n      dbcText: props.dbc ? props.dbc.text() : new DBC().text(),\n      dbcFilename: props.dbcFilename ? props.dbcFilename : 'New_DBC',\n      dbcLastSaved: null,\n      seekTime: props.seekTime || 0,\n      seekIndex: 0,\n      maxByteStateChangeCount: 0,\n      partsLoaded: 0,\n      spawnWorkerHash: null,\n      attemptingPandaConnection: false,\n      pandaNoDeviceSelected: false,\n      live: false,\n      isGithubAuthenticated:\n        props.githubAuthToken !== null && props.githubAuthToken !== undefined,\n      shareUrl: null,\n      logUrls: null\n    };\n\n    this.openDbcClient = new OpenDbc(props.githubAuthToken);\n    if (USE_UNLOGGER) {\n      this.unloggerClient = new UnloggerClient();\n    }\n\n    this.showOnboarding = this.showOnboarding.bind(this);\n    this.hideOnboarding = this.hideOnboarding.bind(this);\n    this.showLoadDbc = this.showLoadDbc.bind(this);\n    this.hideLoadDbc = this.hideLoadDbc.bind(this);\n    this.showSaveDbc = this.showSaveDbc.bind(this);\n    this.hideSaveDbc = this.hideSaveDbc.bind(this);\n    this.showEditMessageModal = this.showEditMessageModal.bind(this);\n    this.hideEditMessageModal = this.hideEditMessageModal.bind(this);\n    this.onDbcSelected = this.onDbcSelected.bind(this);\n    this.onDbcSaved = this.onDbcSaved.bind(this);\n    this.onConfirmedSignalChange = this.onConfirmedSignalChange.bind(this);\n    this.onPartChange = this.onPartChange.bind(this);\n    this.onMessageFrameEdited = this.onMessageFrameEdited.bind(this);\n    this.onSeek = this.onSeek.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onMessageSelected = this.onMessageSelected.bind(this);\n    this.onMessageUnselected = this.onMessageUnselected.bind(this);\n    this.initCanData = this.initCanData.bind(this);\n    this.updateSelectedMessages = this.updateSelectedMessages.bind(this);\n    this.handlePandaConnect = this.handlePandaConnect.bind(this);\n    this.processStreamedCanMessages = this.processStreamedCanMessages.bind(\n      this\n    );\n    this.onStreamedCanMessagesProcessed = this.onStreamedCanMessagesProcessed.bind(\n      this\n    );\n    this.showingModal = this.showingModal.bind(this);\n    this.lastMessageEntriesById = this.lastMessageEntriesById.bind(this);\n    this.githubSignOut = this.githubSignOut.bind(this);\n    this.downloadLogAsCSV = this.downloadLogAsCSV.bind(this);\n\n    this.pandaReader = new Panda();\n    this.pandaReader.onMessage(this.processStreamedCanMessages);\n  }\n\n  componentDidMount() {\n    this.dataCacheTimer = interval(() => {\n      const { currentParts } = this.state;\n      let { loadedParts } = this.state;\n      if (this.loadMessagesFromCacheRunning || loadedParts.length < 4) {\n        return;\n      }\n      loadedParts.forEach((part) => {\n        if (part >= currentParts[0] && part <= currentParts[1]) {\n          return;\n        }\n        if (Date.now() - dataCache[part].lastUsed > 3 * 60 * 1000) {\n          console.log('Decaching part', part);\n          loadedParts = loadedParts.filter((p) => p !== part);\n          this.setState({\n            loadedParts\n          }, () => { delete dataCache[part]; });\n        }\n      });\n    }, 10000);\n\n    const { dongleId, name } = this.props;\n    if (CommaAuth.isAuthenticated() && !name) {\n      this.showOnboarding();\n    } else if (this.props.isDemo) {\n      // is demo!\n\n      const logUrls = global.retropilotLoaded ? global.retropilotLogUrls : demoLogUrls;\n      const route = global.retropilotLoaded ? global.retropilotRoute : demoRoute;\n\n      this.setState({\n        logUrls,\n        route,\n        currentParts: [0, Math.min(logUrls.length - 1, PART_SEGMENT_LENGTH - 1)],\n        currentPart: 0\n      }, this.initCanData);\n    } else if (\n      this.props.max\n      && this.props.url\n      && !this.props.exp\n      && !this.props.sig\n    ) {\n      // legacy share? maybe dead code\n      const { max, url } = this.props;\n      const startTime = Moment(name, 'YYYY-MM-DD--H-m-s');\n\n      const route = {\n        fullname: `${dongleId}|${name}`,\n        proclog: max,\n        url,\n        start_time: startTime\n      };\n      this.setState(\n        {\n          route,\n          currentParts: [0, Math.min(max, PART_SEGMENT_LENGTH - 1)]\n        },\n        this.initCanData\n      );\n    } else if (dongleId && name) {\n      const routeName = `${dongleId}|${name}`;\n      let routePromise;\n      let logUrlsPromise;\n\n      if (this.props.url) {\n        routePromise = Promise.resolve({\n          maxqcamera: null,\n          url: this.props.url,\n        });\n      } else {\n        routePromise = DrivesApi.getRouteInfo(routeName);\n      }\n\n      if (this.props.sig && this.props.exp) {\n        logUrlsPromise = RawDataApi.getLogUrls(routeName, {\n          sig: this.props.sig,\n          exp: this.props.exp\n        });\n      } else {\n        logUrlsPromise = RawDataApi.getLogUrls(routeName);\n      }\n      Promise.all([routePromise, logUrlsPromise])\n        .then((initData) => {\n          const [route, logUrls] = initData;\n          const newState = {\n            route: {\n              fullname: routeName,\n              proclog: logUrls.length - 1,\n              start_time: Moment(name, 'YYYY-MM-DD--H-m-s'),\n              url: route.url.replace('chffrprivate.blob.core.windows.net', 'chffrprivate.azureedge.net'),\n              maxqcamera: route.maxqcamera ? route.maxqcamera : logUrls.length - 1,\n            },\n            currentParts: [\n              0,\n              Math.min(logUrls.length - 1, PART_SEGMENT_LENGTH - 1)\n            ],\n            logUrls\n          };\n          this.setState(newState, this.initCanData);\n\n          DrivesApi.getShareSignature(routeName).then((shareSignature) => this.setState({\n            shareUrl: modifyQueryParameters({\n              add: {\n                exp: shareSignature.exp,\n                sig: shareSignature.sig,\n                max: logUrls.length - 1,\n                url: route.url.replace('chffrprivate.blob.core.windows.net', 'chffrprivate.azureedge.net'),\n              },\n              remove: [GITHUB_AUTH_TOKEN_KEY]\n            })\n          }));\n        })\n        .catch((err) => {\n          console.log(err);\n          CommaAuthStorage.logOut().then(() => {\n            CommaAuthStorage.isAuthed = false;\n            this.showOnboarding();\n          });\n        });\n    } else {\n      this.showOnboarding();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dataCacheTimer) {\n      this.dataCacheTimer();\n    }\n  }\n\n  initCanData() {\n    this.spawnWorker(this.state.currentParts);\n  }\n\n  onDbcSelected(dbcFilename, dbc) {\n    const { route } = this.state;\n    this.hideLoadDbc();\n    dbc.lastUpdated = Date.now();\n    this.persistDbc({ dbcFilename, dbc });\n\n    if (route) {\n      this.setState(\n        {\n          dbc,\n          dbcFilename,\n          dbcText: dbc.text(),\n          partsLoaded: 0,\n          selectedMessage: null,\n          messages: {}\n        },\n        () => {\n          this.loadMessagesFromCache();\n        }\n      );\n    } else {\n      this.setState({\n        dbc,\n        dbcFilename,\n        dbcText: dbc.text(),\n        messages: {}\n      });\n    }\n  }\n\n  onDbcSaved(dbcFilename) {\n    const dbcLastSaved = Moment();\n    this.setState({ dbcLastSaved, dbcFilename });\n    this.hideSaveDbc();\n  }\n\n  // async downloadDbcFile() {\n  //   const blob = new Blob([this.props.dbc.text()], {type: \"text/plain;charset=utf-8\"});\n  //   const filename = this.state.dbcFilename.replace(/\\.dbc/g, '') + '.dbc';\n  //   FileSaver.saveAs(blob, filename, true);\n  // }\n\n  downloadLogAsCSV() {\n    console.log('downloadLogAsCSV:start');\n    const { dbcFilename } = this.state;\n    const fileStream = createWriteStream(\n      `${dbcFilename.replace(/\\.dbc/g, '-')}${+new Date()}.csv`\n    );\n    const writer = fileStream.getWriter();\n    const encoder = new TextEncoder();\n\n    if (this.state.live) {\n      return this.downloadLiveLogAsCSV(dataHandler);\n    }\n    return this.downloadRawLogAsCSV(dataHandler);\n\n    function dataHandler(e) {\n      const { logData, shouldClose, progress } = e.data;\n      if (shouldClose) {\n        console.log('downloadLogAsCSV:close');\n        writer.close();\n        return;\n      }\n      console.log('CSV export progress:', progress);\n      const uint8array = encoder.encode(`${logData}\\n`);\n      writer.write(uint8array);\n    }\n  }\n\n  downloadRawLogAsCSV(handler) {\n    return this.downloadLiveLogAsCSV(handler);\n  }\n\n  downloadLiveLogAsCSV(handler) {\n    // Trigger processing of in-memory data in worker\n    // this method *could* just fetch the data needed for the worked, but\n    // eventually this might be in it's own worker instead of the shared one\n    const { firstCanTime, canFrameOffset } = this.state;\n    const worker = new LogCSVDownloader();\n\n    worker.onmessage = handler;\n\n    worker.postMessage({\n      data: Object.keys(this.state.messages).map((sourceId) => {\n        const source = this.state.messages[sourceId];\n        return {\n          id: source.id,\n          bus: source.bus,\n          address: source.address,\n          entries: source.entries.slice()\n        };\n      }),\n      canStartTime: firstCanTime - canFrameOffset\n    });\n  }\n\n  mergeThumbnails(newThumbnails) {\n    const { thumbnails } = this.state;\n    if (!newThumbnails || !newThumbnails.length) {\n      return thumbnails;\n    }\n    if (!thumbnails.length) {\n      return newThumbnails;\n    }\n\n    let oldIndex = 0;\n    let newIndex = 0;\n\n    // is old immediately after new?\n    if (newThumbnails[0].monoTime > thumbnails[thumbnails.length - 1]) {\n      return thumbnails.concat(newThumbnails);\n    }\n    // is new immediately after old?\n    if (newThumbnails[newThumbnails.length - 1] < thumbnails[0]) {\n      return newThumbnails.concat(thumbnails);\n    }\n    let result = [];\n    while (oldIndex < thumbnails.length && newIndex < newThumbnails.length) {\n      if (thumbnails[oldIndex].monoTime < newThumbnails[newIndex].monoTime) {\n        result.push(thumbnails[oldIndex]);\n        oldIndex += 1;\n      } else {\n        result.push(newThumbnails[newIndex]);\n        newIndex += 1;\n      }\n    }\n    if (oldIndex < thumbnails.length) {\n      result = result.concat(thumbnails.slice(oldIndex));\n    } else if (newIndex < newThumbnails.length) {\n      result = result.concat(newThumbnails.slice(newIndex));\n    }\n\n    return result;\n  }\n\n  cancelWorker(workerHash) {\n    // actually don't...\n    return;\n  }\n\n  spawnWorker(options) {\n    let { currentParts, currentWorkers, loadingParts } = this.state;\n    console.log('Checking worker for', currentParts);\n    if (loadingParts.length > 1) {\n      // only 2 workers at a time pls\n      return;\n    }\n    const [minPart, maxPart] = currentParts;\n\n    // updated worker list (post canceling, and this time a copy)\n    currentWorkers = { ...this.state.currentWorkers };\n\n    const { loadedParts, currentPart } = this.state;\n\n    let part = -1;\n    const allWorkerParts = loadingParts.concat(loadedParts);\n\n    for (let partOffset = 0; partOffset <= maxPart - minPart; ++partOffset) {\n      let tempPart = currentPart + partOffset;\n      if (tempPart > maxPart) {\n        tempPart = minPart + ((tempPart - minPart) % (maxPart - minPart + 1));\n      }\n      if (allWorkerParts.indexOf(tempPart) === -1) {\n        part = tempPart;\n        break;\n      }\n    }\n    if (part === -1) {\n      return;\n    }\n\n    console.log('Starting worker for part', part);\n    // options is object of {part, prevMsgEntries, spawnWorkerHash, prepend}\n    options = options || {};\n    let { prevMsgEntries } = options;\n    const prepend = false;\n\n    const {\n      dbc,\n      route,\n      firstCanTime,\n      canFrameOffset\n    } = this.state;\n    let { maxByteStateChangeCount } = this.state;\n\n    if (!prevMsgEntries) {\n      // we have previous messages loaded\n      const { messages } = this.state;\n      prevMsgEntries = {};\n      Object.keys(messages).forEach((key) => {\n        const { entries } = messages[key];\n        prevMsgEntries[key] = entries[entries.length - 1];\n      });\n    }\n\n    // var worker = new CanFetcher();\n    const worker = new RLogDownloader();\n\n    const spawnWorkerHash = hash(Math.random().toString(16));\n    currentWorkers[spawnWorkerHash] = {\n      part,\n      worker\n    };\n\n    loadingParts = [part, ...loadingParts];\n\n    this.setState({\n      currentWorkers,\n      loadingParts\n    });\n\n    worker.onmessage = (e) => {\n      if (this.state.currentWorkers[spawnWorkerHash] === undefined) {\n        console.log('Worker was canceled');\n        return;\n      }\n\n      maxByteStateChangeCount = e.data.maxByteStateChangeCount;\n      const {\n        newMessages,\n        newThumbnails,\n        isFinished,\n        routeInitTime,\n        firstFrameTime,\n      } = e.data;\n      if (maxByteStateChangeCount > this.state.maxByteStateChangeCount) {\n        this.setState({ maxByteStateChangeCount });\n      } else {\n        maxByteStateChangeCount = this.state.maxByteStateChangeCount;\n      }\n      if (routeInitTime !== this.state.routeInitTime) {\n        this.setState({ routeInitTime });\n      }\n      if (firstFrameTime && firstFrameTime !== this.state.firstFrameTime) {\n        this.setState({ firstFrameTime });\n      }\n\n      if (newMessages) {\n        this.addMessagesToDataCache(part, newMessages, newThumbnails);\n      }\n\n      // const messages = this.addAndRehydrateMessages(\n      //   newMessages,\n      //   maxByteStateChangeCount\n      // );\n      // const prevMsgEntries = {};\n      // Object.keys(newMessages).forEach((key) => {\n      //   prevMsgEntries[key] = newMessages[key].entries[newMessages[key].entries.length - 1];\n      // });\n\n      // const thumbnails = this.mergeThumbnails(newThumbnails);\n\n      if (isFinished) {\n        const loadingParts = this.state.loadingParts.filter((p) => p !== part);\n        const loadedParts = [part, ...this.state.loadedParts];\n\n        this.setState(\n          {\n            partsLoaded: this.state.partsLoaded + 1,\n            loadingParts,\n            loadedParts\n          },\n          () => {\n            this.spawnWorker({\n              prevMsgEntries,\n              spawnWorkerHash,\n              prepend\n            });\n            if (window.dataCallback) {\n              window.dataCallback();\n              window.dataCallback = null;\n            }\n          }\n        );\n      }\n    };\n\n    worker.postMessage({\n      // old stuff for reverse compatibility for easier testing\n      base: route.url,\n      num: part,\n\n      // so that we don't try to read metadata about it...\n      isDemo: this.props.isDemo,\n      isLegacyShare: this.props.isLegacyShare,\n      logUrls: this.state.logUrls,\n\n      // data that is used\n      dbcText: dbc.text(),\n      route: route.fullname,\n      part,\n      canStartTime: firstCanTime != null ? firstCanTime - canFrameOffset : null,\n      prevMsgEntries,\n      maxByteStateChangeCount\n    });\n  }\n\n  addAndRehydrateMessages(newMessages, options) {\n    // Adds new message entries to messages state\n    // and \"rehydrates\" ES6 classes (message frame)\n    // lost from JSON serialization in webworker data cloning.\n    // handles merging the data in correct order\n    options = options || {};\n\n    const messages = { ...this.state.messages };\n\n    Object.keys(newMessages).forEach((key) => {\n      // add message\n      if (options.replace !== true && key in messages) {\n        // should merge here instead of concat\n        // assumes messages are always sequential\n        const msgEntries = messages[key].entries;\n        const newMsgEntries = newMessages[key].entries;\n        const msgLength = msgEntries.length;\n        const newMsgLength = newMsgEntries.length;\n        const entryLength = msgLength + newMsgLength;\n        messages[key] = {\n          ...messages[key],\n          entries: Array(entryLength)\n        };\n\n        let msgIndex = 0;\n        let newMsgIndex = 0;\n\n        for (let i = 0; i < entryLength; ++i) {\n          if (newMsgIndex >= newMsgLength) {\n            messages[key].entries[i] = msgEntries[msgIndex++];\n          } else if (msgIndex >= msgLength) {\n            messages[key].entries[i] = newMsgEntries[newMsgIndex++];\n          } else if (\n            msgEntries[msgIndex].relTime <= newMsgEntries[newMsgIndex].relTime\n          ) {\n            messages[key].entries[i] = msgEntries[msgIndex++];\n          } else if (\n            msgEntries[msgIndex].relTime >= newMsgEntries[newMsgIndex].relTime\n          ) {\n            messages[key].entries[i] = newMsgEntries[newMsgIndex++];\n          }\n        }\n        messages[key].byteStateChangeCounts = newMessages[key].byteStateChangeCounts;\n      } else {\n        messages[key] = newMessages[key];\n        messages[key].frame = this.state.dbc.getMessageFrame(\n          messages[key].address\n        );\n      }\n    });\n\n    const maxByteStateChangeCount = DbcUtils.findMaxByteStateChangeCount(\n      messages\n    );\n    this.setState({\n      maxByteStateChangeCount\n    });\n\n    Object.keys(messages).forEach((key) => {\n      // console.log(key);\n      messages[key] = DbcUtils.setMessageByteColors(\n        messages[key],\n        maxByteStateChangeCount\n      );\n    });\n\n    return messages;\n  }\n\n  async addMessagesToDataCache(part, newMessages, newThumbnails) {\n    const { dbc, currentParts } = this.state;\n    const entry = await this.getParseSegment(part);\n    if (!entry) {\n      // first chunk of data returned from this segment\n      Object.keys(newMessages).forEach((key) => {\n        newMessages[key] = this.parseMessageEntry(newMessages[key], dbc);\n      });\n      dataCache[part] = {\n        messages: newMessages,\n        thumbnails: newThumbnails,\n        lastUpdated: Date.now(),\n        lastUsed: Date.now()\n      };\n      if (part >= currentParts[0] && part <= currentParts[1]) {\n        this.setState({\n          messages: this.addAndRehydrateMessages(newMessages)\n        });\n      }\n      return;\n    }\n\n    entry.lastUsed = Date.now();\n\n    // data is always append only, and always per segment\n    Object.keys(newMessages).forEach((key) => {\n      let msgs = newMessages[key];\n      if (!dataCache[part].messages[key]) {\n        msgs = this.parseMessageEntry(msgs, dbc);\n        dataCache[part].messages[key] = msgs;\n      } else {\n        let { entries } = dataCache[part].messages[key];\n        const lastEntry = entries.length ? entries[entries.length - 1] : null;\n        msgs = this.parseMessageEntry(msgs, dbc, lastEntry);\n        entries = entries.concat(msgs.entries);\n        dataCache[part].messages[key].entries = entries;\n      }\n      newMessages[key] = msgs;\n    });\n    dataCache[part].thumbnails = dataCache[part].thumbnails.concat(newThumbnails);\n\n    if (part >= currentParts[0] && part <= currentParts[1]) {\n      this.setState({\n        messages: this.addAndRehydrateMessages(newMessages)\n      });\n    }\n  }\n\n  async loadMessagesFromCache() {\n    // create a new messages object for state\n    if (this.loadMessagesFromCacheRunning) {\n      if (!this.loadMessagesFromCacheTimer) {\n        this.loadMessagesFromCacheTimer = timeout(() => this.loadMessagesFromCache(), 10);\n      }\n      return;\n    }\n    this.loadMessagesFromCacheRunning = true;\n    if (this.loadMessagesFromCacheTimer) {\n      this.loadMessagesFromCacheTimer();\n      this.loadMessagesFromCacheTimer = null;\n    }\n    const { currentParts, dbc } = this.state;\n    const { lastUpdated } = dbc;\n    const [minPart, maxPart] = currentParts;\n    const messages = {};\n    let thumbnails = [];\n    let isCanceled = false;\n\n    let start = performance.now();\n\n    const promises = [];\n\n    for (let i = minPart, l = maxPart; i <= l; ++i) {\n      promises.push(this.getParseSegment(i));\n    }\n    await promises.reduce(async (prev, p) => {\n      await prev;\n      if (isCanceled) {\n        return;\n      }\n      const cacheEntry = await p;\n      if (this.state.dbc.lastUpdated !== lastUpdated) {\n        if (!isCanceled) {\n          isCanceled = true;\n          this.loadMessagesFromCacheRunning = false;\n          console.log('Canceling!');\n          this.loadMessagesFromCache();\n        }\n        return;\n      }\n      if (cacheEntry) {\n        const newMessages = cacheEntry.messages;\n        thumbnails = thumbnails.concat(cacheEntry.thumbnails);\n        Object.keys(newMessages).forEach((key) => {\n          if (!messages[key]) {\n            messages[key] = { ...newMessages[key] };\n          } else {\n            const newMessageEntries = newMessages[key].entries;\n            const messageEntries = messages[key].entries;\n            if (newMessageEntries.length\n              && newMessageEntries[0].relTime < messageEntries[messageEntries.length - 1].relTime) {\n              console.error('Found out of order messages', newMessageEntries[0], messageEntries[messageEntries.length - 1]);\n            }\n            messages[key].entries = messages[key].entries.concat(newMessages[key].entries);\n          }\n        });\n      }\n      console.log('Done with', performance.now() - start);\n      start = performance.now();\n    }, Promise.resolve());\n\n    if (isCanceled) {\n      return;\n    }\n\n    Object.keys(this.state.messages).forEach((key) => {\n      if (!messages[key]) {\n        messages[key] = this.state.messages[key];\n        messages[key].entries = [];\n      }\n    });\n\n    Object.keys(messages).forEach((key) => {\n      messages[key].frame = dbc.getMessageFrame(\n        messages[key].address\n      );\n    });\n\n    const maxByteStateChangeCount = DbcUtils.findMaxByteStateChangeCount(\n      messages\n    );\n\n    this.setState({\n      maxByteStateChangeCount\n    });\n\n    Object.keys(messages).forEach((key) => {\n      // console.log(key);\n      messages[key] = DbcUtils.setMessageByteColors(\n        messages[key],\n        maxByteStateChangeCount\n      );\n    });\n\n    console.log('Done with old messages', performance.now() - start);\n\n    this.setState({ messages, thumbnails });\n\n    this.loadMessagesFromCacheRunning = false;\n  }\n\n  async getParseSegment(part) {\n    if (!dataCache[part]) {\n      return null;\n    }\n    if (dataCache[part].promise) {\n      await dataCache[part].promise;\n    }\n    dataCache[part].promise = this.getParseSegmentInternal(part);\n\n    return dataCache[part].promise;\n  }\n\n  async getParseSegmentInternal(part) {\n    const start = performance.now();\n    const { dbc } = this.state;\n    if (!dbc.lastUpdated) {\n      dbc.lastUpdated = Date.now();\n    }\n    const { lastUpdated } = dbc;\n    let { messages } = dataCache[part];\n\n    let reparseMessages = {};\n\n    // if (lastUpdated > dataCache[part].lastUpdated) {\n    //   dataCache[part].lastUpdated = Date.now();\n    //   return await this.reparseMessages(messages);\n    // }\n\n    Object.keys(messages).forEach((key) => {\n      if (messages[key].lastUpdated >= lastUpdated) {\n        return;\n      }\n      reparseMessages[key] = messages[key];\n    });\n\n    if (Object.keys(reparseMessages).length) {\n      console.log('Reparsing messages!', Object.keys(reparseMessages).length);\n      reparseMessages = await this.reparseMessages(reparseMessages);\n    }\n\n    messages = {\n      ...messages,\n      ...reparseMessages\n    };\n\n    dataCache[part].messages = messages;\n\n    const end = performance.now();\n    if (end - start > 200) {\n      // warn about anything over 200ms\n      console.warn('getParseSegment took', part, end - start, Object.keys(messages).length);\n    }\n\n    return dataCache[part];\n  }\n\n  decacheMessageId(messageId) {\n    Object.keys(dataCache).forEach((part) => {\n      if (dataCache[part].messages[messageId]) {\n        dataCache[part].messages[messageId].lastUpdated = 0;\n      }\n    });\n  }\n\n  async reparseMessages(_messages) {\n    const messages = _messages;\n    const { dbc } = this.state;\n    dbc.lastUpdated = dbc.lastUpdated || Date.now();\n\n    Object.keys(messages).forEach((key) => {\n      messages[key].frame = dbc.getMessageFrame(messages[key].address);\n    });\n\n    return new Promise((resolve, reject) => {\n      const worker = new MessageParser();\n      worker.onmessage = (e) => {\n        const newMessages = e.data.messages;\n        Object.keys(newMessages).forEach((key) => {\n          newMessages[key].lastUpdated = dbc.lastUpdated;\n          newMessages[key].frame = dbc.getMessageFrame(newMessages[key].address);\n        });\n        resolve(newMessages);\n      };\n\n      worker.postMessage({\n        messages,\n        dbcText: dbc.text(),\n        canStartTime: this.state.firstCanTime\n      });\n    });\n  }\n\n  parseMessageEntry(_entry, dbc, lastMsg) {\n    const entry = _entry;\n    dbc.lastUpdated = dbc.lastUpdated || Date.now();\n    entry.lastUpdated = dbc.lastUpdated;\n    entry.frame = dbc.getMessageFrame(\n      entry.address\n    );\n\n    let prevMsgEntry = lastMsg || null;\n    const byteStateChangeCounts = [];\n    // entry.messages[id].byteStateChangeCounts = byteStateChangeCounts.map(\n    //   (count, idx) => entry.messages[id].byteStateChangeCounts[idx] + count\n    // );\n    entry.entries = entry.entries.map((message) => {\n      if (message.hexData) {\n        prevMsgEntry = DbcUtils.reparseMessage(dbc, message, prevMsgEntry);\n      } else {\n        prevMsgEntry = DbcUtils.parseMessage(\n          dbc,\n          message.time,\n          message.address,\n          message.data,\n          message.timeStart,\n          prevMsgEntry\n        );\n      }\n      byteStateChangeCounts.push(prevMsgEntry.byteStateChangeCounts);\n      prevMsgEntry = prevMsgEntry.msgEntry;\n      return prevMsgEntry;\n    });\n    entry.byteStateChangeCounts = byteStateChangeCounts.reduce((memo, val) => {\n      if (!memo) {\n        return val;\n      }\n      return memo.map((count, idx) => val[idx] + count);\n    }, null);\n\n    return entry;\n  }\n\n  showingModal() {\n    const {\n      showOnboarding,\n      showLoadDbc,\n      showSaveDbc,\n      showAddSignal,\n      showEditMessageModal\n    } = this.state;\n    return (\n      showOnboarding\n      || showLoadDbc\n      || showSaveDbc\n      || showAddSignal\n      || showEditMessageModal\n    );\n  }\n\n  showOnboarding() {\n    if (!CommaAuth.isAuthenticated() && window.sessionStorage && window.location &&\n      window.location.pathname !== AuthConfig.AUTH_PATH)\n    {\n      window.sessionStorage.setItem('onboardingPath', window.location.href);\n    }\n    this.setState({ showOnboarding: true });\n  }\n\n  hideOnboarding() {\n    this.setState({ showOnboarding: false });\n  }\n\n  showLoadDbc() {\n    this.setState({ showLoadDbc: true });\n  }\n\n  hideLoadDbc() {\n    this.setState({ showLoadDbc: false });\n  }\n\n  showSaveDbc() {\n    this.setState({ showSaveDbc: true });\n  }\n\n  hideSaveDbc() {\n    this.setState({ showSaveDbc: false });\n  }\n\n  updateMessageFrame(messageId, frame) {\n    const { messages } = this.state;\n\n    messages[messageId].frame = frame;\n    this.setState({ messages });\n  }\n\n  persistDbc({ dbcFilename, dbc }) {\n    const { route } = this.state;\n    if (route) {\n      persistDbc(route.fullname, { dbcFilename, dbc });\n    } else {\n      persistDbc('live', { dbcFilename, dbc });\n    }\n\n    this.loadMessagesFromCache();\n  }\n\n  onConfirmedSignalChange(message, signals) {\n    const { dbc, dbcFilename } = this.state;\n    const frameSize = DbcUtils.maxMessageSize(message);\n    dbc.setSignals(message.address, { ...signals }, frameSize);\n\n    this.persistDbc({ dbcFilename, dbc });\n\n    this.updateMessageFrame(message.id, dbc.getMessageFrame(message.address));\n\n    this.setState({ dbc, dbcText: dbc.text() }, () => {\n      this.decacheMessageId(message.id);\n      this.loadMessagesFromCache();\n    });\n  }\n\n  partChangeDebounced = debounce(() => {\n    this.loadMessagesFromCache();\n\n    this.spawnWorker();\n  }, 500);\n\n  onPartChange(part) {\n    let {\n      currentParts, currentPart, canFrameOffset, route\n    } = this.state;\n    if (canFrameOffset === -1 || part === currentPart) {\n      return;\n    }\n\n    // determine new parts to load, whether to prepend or append\n    let maxPart = Math.min(route.proclog, part + 1);\n    const minPart = Math.max(0, maxPart - PART_SEGMENT_LENGTH + 1);\n    if (minPart === 0) {\n      maxPart = Math.min(route.proclog, 2);\n    }\n\n    // update current parts\n    currentParts = [minPart, maxPart];\n    currentPart = part;\n\n    if (\n      currentPart !== this.state.currentPart\n      || currentParts[0] !== this.state.currentParts[0]\n      || currentParts[1] !== this.state.currentParts[1]\n    ) {\n      // update state then load new parts\n      this.setState({ currentParts, currentPart }, this.partChangeDebounced);\n    }\n  }\n\n  showEditMessageModal(msgKey) {\n    const msg = this.state.messages[msgKey];\n    console.log(msg);\n    if (!msg.frame) {\n      msg.frame = this.state.dbc.createFrame(msg.address);  // TODO frameSize\n    }\n\n    this.setState({\n      showEditMessageModal: true,\n      editMessageModalMessage: msgKey,\n      messages: this.state.messages,\n      dbcText: this.state.dbc.text()\n    });\n  }\n\n  hideEditMessageModal() {\n    this.setState({ showEditMessageModal: false });\n  }\n\n  onMessageFrameEdited(messageFrame) {\n    const {\n      messages, dbcFilename, dbc, editMessageModalMessage\n    } = this.state;\n\n    const message = { ...messages[editMessageModalMessage] };\n    message.frame = messageFrame;\n    dbc.messages.set(messageFrame.id, messageFrame);\n    this.persistDbc({ dbcFilename, dbc });\n\n    messages[editMessageModalMessage] = message;\n    this.setState({ messages, dbc, dbcText: dbc.text() });\n    this.hideEditMessageModal();\n  }\n\n  onSeek(seekIndex, seekTime) {\n    this.setState({ seekIndex, seekTime });\n\n    const { currentPart } = this.state;\n    const part = ~~(seekTime / 60);\n    if (part !== currentPart) {\n      this.onPartChange(part);\n    }\n  }\n\n  onUserSeek(seekTime) {\n    if (USE_UNLOGGER) {\n      this.unloggerClient.seek(this.props.dongleId, this.props.name, seekTime);\n    }\n\n    const msg = this.state.messages[this.state.selectedMessage];\n    let seekIndex;\n    if (msg) {\n      seekIndex = msg.entries.findIndex((e) => e.relTime >= seekTime);\n      if (seekIndex === -1) {\n        seekIndex = 0;\n      }\n    } else {\n      seekIndex = 0;\n    }\n\n    this.onSeek(seekIndex, seekTime);\n  }\n\n  onMessageSelected(msgKey) {\n    let { seekTime, seekIndex, messages } = this.state;\n    const msg = messages[msgKey];\n\n    if (seekTime > 0 && msg.entries.length > 0) {\n      seekIndex = msg.entries.findIndex((e) => e.relTime >= seekTime);\n      if (seekIndex === -1) {\n        seekIndex = 0;\n      }\n\n      seekTime = msg.entries[seekIndex].relTime;\n    }\n\n    this.setState({ seekTime, seekIndex, selectedMessage: msgKey });\n  }\n\n  updateSelectedMessages(selectedMessages) {\n    this.setState({ selectedMessages });\n  }\n\n  onMessageUnselected(msgKey) {\n    this.setState({ selectedMessage: null });\n  }\n\n  loginWithGithub() {\n    const { route } = this.state;\n    return (\n      <a\n        href={GithubAuth.authorizeUrl(\n          route && route.fullname ? route.fullname : ''\n        )}\n        className=\"button button--dark button--inline\"\n      >\n        <i className=\"fa fa-github\" />\n        <span> Log in with Github</span>\n      </a>\n    );\n  }\n\n  lastMessageEntriesById(obj, [msgId, message]) {\n    obj[msgId] = message.entries[message.entries.length - 1];\n    return obj;\n  }\n\n  processStreamedCanMessages(newCanMessages) {\n    const { dbcText } = this.state;\n    const {\n      firstCanTime,\n      lastBusTime,\n      messages,\n      maxByteStateChangeCount\n    } = this.state;\n    // map msg id to arrays\n    const prevMsgEntries = Object.entries(messages).reduce(\n      this.lastMessageEntriesById,\n      {}\n    );\n\n    const byteStateChangeCountsByMessage = Object.entries(messages).reduce(\n      (obj, [msgId, msg]) => {\n        obj[msgId] = msg.byteStateChangeCounts;\n        return obj;\n      },\n      {}\n    );\n\n    this.canStreamerWorker.postMessage({\n      newCanMessages,\n      prevMsgEntries,\n      firstCanTime,\n      dbcText,\n      lastBusTime,\n      byteStateChangeCountsByMessage,\n      maxByteStateChangeCount\n    });\n  }\n\n  firstEntryIndexInsideStreamingWindow(entries) {\n    const lastEntryTime = entries[entries.length - 1].relTime;\n    const windowFloor = lastEntryTime - STREAMING_WINDOW;\n\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].relTime > windowFloor) {\n        return i;\n      }\n    }\n\n    return 0;\n  }\n\n  enforceStreamingMessageWindow(messages) {\n    const messageIds = Object.keys(messages);\n    for (let i = 0; i < messageIds.length; i++) {\n      const messageId = messageIds[i];\n      const message = messages[messageId];\n      if (message.entries.length < 2) {\n        continue;\n      }\n\n      const lastEntryTime = message.entries[message.entries.length - 1].relTime;\n      const entrySpan = lastEntryTime - message.entries[0].relTime;\n      if (entrySpan > STREAMING_WINDOW) {\n        const newEntryFloor = this.firstEntryIndexInsideStreamingWindow(\n          message.entries\n        );\n        message.entries = message.entries.slice(newEntryFloor);\n        messages[messageId] = message;\n      }\n    }\n\n    return messages;\n  }\n\n  _onStreamedCanMessagesProcessed(data) {\n    let {\n      newMessages,\n      seekTime,\n      lastBusTime,\n      firstCanTime,\n      maxByteStateChangeCount\n    } = data;\n\n    if (maxByteStateChangeCount < this.state.maxByteStateChangeCount) {\n      maxByteStateChangeCount = this.state.maxByteStateChangeCount;\n    }\n\n    let messages = this.addAndRehydrateMessages(newMessages);\n    messages = this.enforceStreamingMessageWindow(messages);\n    let { seekIndex, selectedMessages } = this.state;\n    if (\n      selectedMessages.length > 0\n      && messages[selectedMessages[0]] !== undefined\n    ) {\n      seekIndex = Math.max(0, messages[selectedMessages[0]].entries.length - 1);\n    }\n    this.setState({\n      messages,\n      seekTime,\n      seekIndex,\n      lastBusTime,\n      firstCanTime,\n      maxByteStateChangeCount\n    });\n  }\n\n  onStreamedCanMessagesProcessed(e) {\n    this._onStreamedCanMessagesProcessed(e.data);\n  }\n\n  async handlePandaConnect(e) {\n    this.setState({ attemptingPandaConnection: true, live: true });\n\n    const persistedDbc = fetchPersistedDbc('live');\n    if (persistedDbc) {\n      const { dbc, dbcText } = persistedDbc;\n      this.setState({ dbc, dbcText });\n    }\n    this.canStreamerWorker = new CanStreamerWorker();\n    this.canStreamerWorker.onmessage = this.onStreamedCanMessagesProcessed;\n\n    // if any errors go off during connection, mark as not trying to connect anymore...\n    const unlisten = this.pandaReader.onError((err) => {\n      console.error(err.stack || err);\n      this.setState({ attemptingPandaConnection: false });\n    });\n    try {\n      await this.pandaReader.start();\n      this.setState({\n        showOnboarding: false,\n        showLoadDbc: true\n      });\n    } catch (e) {}\n    this.setState({ attemptingPandaConnection: false });\n    unlisten();\n  }\n\n  githubSignOut(e, dataArray) {\n    unpersistGithubAuthToken();\n    this.setState({ isGithubAuthenticated: false });\n\n    e.preventDefault();\n  }\n\n  render() {\n    const {\n      route,\n      messages,\n      selectedMessages,\n      currentParts,\n      dbcFilename,\n      dbcLastSaved,\n      seekTime,\n      seekIndex,\n      shareUrl,\n      maxByteStateChangeCount,\n      live,\n      thumbnails,\n      selectedMessage,\n      canFrameOffset,\n      firstCanTime,\n      currentPart,\n      partsLoaded\n    } = this.state;\n\n    const { startTime, segments } = this.props;\n\n    return (\n      <div\n        id=\"cabana\"\n        className={cx({ 'is-showing-modal': this.showingModal() })}\n      >\n        <div className=\"cabana-header\">\n          <a className=\"cabana-header-logo\" href=\"/\">\n            Comma Cabana\n          </a>\n          <div className=\"cabana-header-account\">\n            {this.state.isGithubAuthenticated ? (\n              <div>\n                <p>GitHub Authenticated</p>\n                <p\n                  className=\"cabana-header-account-signout\"\n                  onClick={this.githubSignOut}\n                >\n                  Sign out\n                </p>\n              </div>\n            ) : (\n              this.loginWithGithub()\n            )}\n          </div>\n        </div>\n        <div className=\"cabana-window\">\n          <Meta\n            url={this.state.route ? route.url : null}\n            messages={messages}\n            selectedMessages={selectedMessages}\n            updateSelectedMessages={this.updateSelectedMessages}\n            showEditMessageModal={this.showEditMessageModal}\n            currentParts={currentParts}\n            onMessageSelected={this.onMessageSelected}\n            onMessageUnselected={this.onMessageUnselected}\n            showLoadDbc={this.showLoadDbc}\n            showSaveDbc={this.showSaveDbc}\n            dbcFilename={dbcFilename}\n            dbcLastSaved={dbcLastSaved}\n            dongleId={this.props.dongleId}\n            name={this.props.name}\n            route={route}\n            seekTime={seekTime}\n            seekIndex={seekIndex}\n            shareUrl={shareUrl}\n            maxByteStateChangeCount={maxByteStateChangeCount}\n            isDemo={this.props.isDemo}\n            live={live}\n            saveLog={debounce(this.downloadLogAsCSV, 500)}\n          />\n          {route || live ? (\n            <Explorer\n              url={route ? route.url : null}\n              live={live}\n              messages={messages}\n              thumbnails={thumbnails}\n              selectedMessage={selectedMessage}\n              onConfirmedSignalChange={this.onConfirmedSignalChange}\n              onSeek={this.onSeek}\n              onUserSeek={this.onUserSeek}\n              canFrameOffset={canFrameOffset}\n              firstCanTime={firstCanTime}\n              seekTime={seekTime}\n              startTime={startTime}\n              startSegments={segments}\n              seekIndex={seekIndex}\n              currentParts={currentParts}\n              selectedPart={currentPart}\n              partsLoaded={partsLoaded}\n              autoplay={this.props.autoplay}\n              showEditMessageModal={this.showEditMessageModal}\n              onPartChange={this.onPartChange}\n              routeStartTime={\n                route ? route.start_time : Moment()\n              }\n              videoOffset={ (this.state.firstFrameTime && this.state.routeInitTime) ? this.state.firstFrameTime - this.state.routeInitTime : 0 }\n              partsCount={route ? route.proclog : 0}\n              maxqcamera={route ? route.maxqcamera : 0}\n            />\n          ) : null}\n        </div>\n\n        {this.state.showOnboarding ? (\n          <OnboardingModal\n            handlePandaConnect={this.handlePandaConnect}\n            attemptingPandaConnection={this.state.attemptingPandaConnection}\n            routes={this.state.routes}\n          />\n        ) : null}\n\n        {this.state.showLoadDbc ? (\n          <LoadDbcModal\n            onDbcSelected={this.onDbcSelected}\n            handleClose={this.hideLoadDbc}\n            openDbcClient={this.openDbcClient}\n            loginWithGithub={this.loginWithGithub()}\n          />\n        ) : null}\n\n        {this.state.showSaveDbc ? (\n          <SaveDbcModal\n            dbc={this.state.dbc}\n            sourceDbcFilename={this.state.dbcFilename}\n            onDbcSaved={this.onDbcSaved}\n            handleClose={this.hideSaveDbc}\n            openDbcClient={this.openDbcClient}\n            hasGithubAuth={this.props.githubAuthToken !== null}\n            loginWithGithub={this.loginWithGithub()}\n          />\n        ) : null}\n\n        {this.state.showEditMessageModal ? (\n          <EditMessageModal\n            handleClose={this.hideEditMessageModal}\n            handleSave={this.onMessageFrameEdited}\n            message={this.state.messages[this.state.editMessageModalMessage]}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nCanExplorer.propTypes = {\n  dongleId: PropTypes.string,\n  name: PropTypes.string,\n  dbc: PropTypes.instanceOf(DBC),\n  dbcFilename: PropTypes.string,\n  githubAuthToken: PropTypes.string,\n  autoplay: PropTypes.bool,\n  max: PropTypes.number,\n  url: PropTypes.string,\n  startTime: PropTypes.number,\n  segments: PropTypes.array\n};\n","import { GITHUB_CLIENT_ID, GITHUB_REDIRECT_URL } from '../config';\nimport { objToQuery } from '../utils/url';\n\nexport function authorizeUrl(route) {\n  const params = {\n    client_id: GITHUB_CLIENT_ID,\n    redirect_uri: GITHUB_REDIRECT_URL,\n    scope: 'user:email public_repo',\n    state: JSON.stringify({ route })\n  };\n\n  return `http://github.com/login/oauth/authorize?${objToQuery(params)}`;\n}\n","import LogEntries from './LogEntries';\nimport { LOGENTRIES_TOKEN } from '../config';\n\nclass CloudLog {\n  constructor() {\n    LogEntries.init({\n      token: LOGENTRIES_TOKEN,\n      no_format: true,\n      catchall: false\n    });\n    this.context = {};\n  }\n\n  bind(obj) {\n    this.context.update(obj);\n  }\n\n  emit(message, level = 'log') {\n    if (typeof global.__JEST__ !== 'undefined') {\n      // Don't log in testing environment\n      return;\n    }\n\n    const entry = {\n      ctx: this.context,\n      created: new Date().getTime() / 1000,\n      msg: message,\n      src: 'JSCloudLog'\n    };\n\n    if (level === 'log') {\n      LogEntries.log(entry);\n    } else if (level === 'warn') {\n      LogEntries.warn(entry);\n    } else if (level === 'error') {\n      LogEntries.error(entry);\n    }\n  }\n\n  log(message) {\n    this.emit(message);\n  }\n\n  warn(message) {\n    this.emit(message, 'warn');\n  }\n\n  error(message) {\n    this.emit(message, 'error');\n  }\n}\n\nexport default new CloudLog();\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { StyleSheet } from 'aphrodite/no-important';\nimport css from '../utils/css';\n\nimport SignalLegend from './SignalLegend';\nimport Signal from '../models/can/signal';\nimport { shade } from '../utils/color';\nimport DbcUtils from '../utils/dbc';\n\n/*\nAddSignals component draws an 8x8 matrix\nrepresenting the bytes in a CAN message, alongside\na signal legend. Dragging on the matrix\neither extends or creates a signal, which is\nconfigurable in the legend.\n*/\n\nconst Styles = StyleSheet.create({\n  bit: {\n    margin: 0,\n    padding: 9,\n    userSelect: 'none',\n    cursor: 'pointer',\n    textAlign: 'center',\n    position: 'relative'\n  },\n  bitSelectedStyle: {\n    backgroundColor: 'rgba(0,119,158,0.5)'\n  },\n  byteIndex: {\n    backgroundColor: '#ededed'\n  },\n  bitSignificance: {\n    fontSize: 12,\n    display: 'block',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: '0 auto'\n  },\n  highlightedSignalTitle: {\n    backgroundColor: 'rgba(0,0,0,0.2)'\n  }\n});\n\nexport default class AddSignals extends Component {\n  static propTypes = {\n    message: PropTypes.object,\n    onConfirmedSignalChange: PropTypes.func,\n    messageIndex: PropTypes.number,\n    onSignalPlotChange: PropTypes.func,\n    plottedSignalUids: PropTypes.array,\n    selectedMessageKey: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n\n    let signals = {};\n    if (props.message && props.message.frame && props.message.frame.signals) {\n      signals = this.copySignals(props.message.frame.signals);\n    }\n\n    this.highlightedSignalTooltipRef = React.createRef();\n\n    this.state = {\n      bits: [],\n      signals,\n      signalStyles: this.calcSignalStyles(signals),\n      highlightedSignal: null,\n      dragStartBit: null,\n      dragSignal: null,\n      dragCurrentBit: null,\n      maxMessageBytes: 8,\n    };\n  }\n\n  copySignals(signals) {\n    return Object.entries(signals).reduce(\n      (signalsCopy, [signalName, signal]) => {\n        signalsCopy[signalName] = Object.assign(Object.create(signal), signal);\n        return signalsCopy;\n      },\n      {}\n    );\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate({}, {});\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.message || prevProps.message.address !== this.props.message.address ||\n      prevProps.selectedMessageKey !== this.props.selectedMessageKey)\n    {\n      const signals = this.props.message.frame ? this.props.message.frame.signals : {};\n\n      this.setState({\n        signals: this.copySignals(signals),\n        maxMessageBytes: DbcUtils.maxMessageSize(this.props.message)\n      }, this.updateSignalStyles);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.selectedMessageKey !== this.props.selectedMessageKey ||\n      nextProps.message.address !== this.props.message.address ||\n      nextProps.message.hexData !== this.props.message.hexData ||\n      nextProps.messageIndex !== this.props.messageIndex ||\n      JSON.stringify(nextProps.plottedSignalUids) !== JSON.stringify(this.props.plottedSignalUids) ||\n      JSON.stringify(this.state) !== JSON.stringify(nextState)\n    );\n  }\n\n  signalColorStyle(signal) {\n    const colors = signal.getColors(this.props.selectedMessageKey);\n\n    let colorRgbStr;\n    let backgroundColor;\n    if (this.state && this.state.highlightedSignal === signal.name) {\n      // when signal highlighted,\n      // darkened background and lightened text.\n\n      const darkenedColors = shade(colors, -0.5);\n      const lightenedColors = shade(colors, 0.9);\n      colorRgbStr = `rgb(${lightenedColors.join(',')})`;\n      backgroundColor = `rgba(${darkenedColors.join(',')},0.5)`;\n    } else {\n      const colorsCommaSep = colors.join(',');\n      colorRgbStr = `rgb(${colorsCommaSep})`;\n      backgroundColor = `rgba(${colorsCommaSep},0.2)`;\n    }\n\n    const style = StyleSheet.create({\n      signal: { color: colorRgbStr, backgroundColor }\n    }).signal;\n    return style;\n  }\n\n  updateSignalStyles = () => {\n    const signalStyles = this.calcSignalStyles(this.state.signals);\n\n    this.setState({ signalStyles });\n    this.matrixMouseMove();\n  };\n\n  calcSignalStyles(signals) {\n    const signalStyles = {};\n    Object.values(signals).forEach((signal) => {\n      signalStyles[signal.name] = this.signalColorStyle(signal);\n    });\n\n    return signalStyles;\n  }\n\n  signalForBit(bitIdx) {\n    // bitIdx in [0,64)\n    // returns instance of Signal\n\n    return Object.values(this.state.signals).filter(\n      (signal) => signal.bitDescription(bitIdx) !== null\n    )[0];\n  }\n\n  onSignalHover = (signal) => {\n    if (!signal) return;\n\n    this.setState({ highlightedSignal: signal.name }, this.updateSignalStyles);\n  };\n\n  signalBitIndex(bitIdx, signal) {\n    // todo does this work for both big and little endian?\n    let { startBit } = signal;\n    if (!signal.isLittleEndian) {\n      startBit = DbcUtils.bigEndianBitIndex(startBit);\n    }\n    return bitIdx - startBit;\n  }\n\n  onBitHover = (bitIdx, signal) => {\n    let { dragStartBit, signals, dragSignal } = this.state;\n\n    if (dragStartBit !== null) {\n      if (dragSignal !== null) {\n        signals = this.copySignals(signals);\n        dragSignal = Object.assign(Object.create(dragSignal), dragSignal);\n\n        if (dragStartBit === dragSignal.startBit && dragSignal.size > 1) {\n          if (!dragSignal.isLittleEndian) {\n            // should not be able to drag the msb past the lsb\n            const hoveredBigEndian = DbcUtils.bigEndianBitIndex(bitIdx);\n            const lsbBigEndian = dragSignal.lsbBitNumber();\n\n            if (hoveredBigEndian > lsbBigEndian) {\n              return;\n            }\n          } else {\n            // should not be able to drag the lsb past the msb\n            if (bitIdx > dragSignal.msbBitIndex()) {\n              return;\n            }\n          }\n\n          const diff = bitIdx - dragStartBit;\n\n          if (dragSignal.isLittleEndian) {\n            dragSignal.size -= diff;\n          } else if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n\n          dragSignal.startBit += diff;\n\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.startBit;\n        } else if (dragSignal.size === 1) {\n          // 1-bit signals can be dragged in either direction\n          if (Math.floor(bitIdx / 8) === Math.floor(dragStartBit / 8)) {\n            if (bitIdx > dragStartBit) {\n              if (dragSignal.isLittleEndian) {\n                dragSignal.size = bitIdx - dragSignal.startBit;\n              } else {\n                dragSignal.startBit = bitIdx;\n                dragSignal.size = bitIdx - dragStartBit + 1;\n                dragStartBit = bitIdx;\n              }\n            } else if (dragSignal.isLittleEndian) {\n              dragSignal.startBit = bitIdx;\n              dragSignal.size = dragStartBit - bitIdx + 1;\n              dragStartBit = bitIdx;\n            } else {\n              dragSignal.size = dragStartBit - bitIdx + 1;\n              dragStartBit = bitIdx;\n            }\n          }\n\n          signals[dragSignal.name] = dragSignal;\n        } else if (\n          dragSignal.isLittleEndian\n          && dragStartBit === dragSignal.msbBitIndex()\n        ) {\n          if (bitIdx < dragSignal.startBit) {\n            // should not be able to drag the MSB past the LSB\n            return;\n          }\n          const diff = bitIdx - dragStartBit;\n          if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.msbBitIndex();\n        } else if (\n          !dragSignal.isLittleEndian\n          && dragStartBit === dragSignal.lsbBitIndex()\n        ) {\n          const diff = bitIdx - dragStartBit;\n          if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.lsbBitIndex();\n        }\n        this.setState({\n          signals,\n          dragSignal,\n          dragCurrentBit: bitIdx,\n          dragStartBit\n        });\n      } else {\n        this.setState({ dragCurrentBit: bitIdx });\n      }\n    }\n    if (signal) {\n      this.onSignalHover(signal);\n    }\n  };\n\n  onSignalHoverEnd = (signal) => {\n    if (!signal) return;\n\n    this.setState({ highlightedSignal: null }, this.updateSignalStyles);\n  };\n\n  nextNewSignalName() {\n    const existingNames = Object.keys(this.state.signals);\n    let signalNum = 1;\n    let signalName;\n    do {\n      signalName = `NEW_SIGNAL_${signalNum}`;\n      signalNum++;\n    } while (existingNames.indexOf(signalName) !== -1);\n\n    return signalName;\n  }\n\n  onBitMouseDown(dragStartBit, dragSignal) {\n    this.setState({\n      dragStartBit,\n      dragSignal: dragSignal || null\n    });\n  }\n\n  createSignal({ startBit, size, isLittleEndian }) {\n    const signal = new Signal({\n      name: this.nextNewSignalName(),\n      startBit,\n      size,\n      isLittleEndian\n    });\n    let { signals } = this.state;\n    signals = { ...signals };\n    signals[signal.name] = signal;\n\n    this.setState({ signals }, this.propagateUpSignalChange);\n  }\n\n  createSignalIfNotExtendingOne(dragStartBit, dragEndBit) {\n    if (this.state.dragSignal === null) {\n      // check for overlapping bits\n      for (let i = dragStartBit; i <= dragEndBit; i++) {\n        if (this.signalForBit(i) !== undefined) {\n          // Don't create signal if a signal is already defined in the selected range.\n          return;\n        }\n      }\n      const isDragAcrossSingleByte = Math.floor(dragEndBit / 8) === Math.floor(dragStartBit / 8);\n      const isDragDirectionUp = !isDragAcrossSingleByte && dragEndBit < dragStartBit;\n\n      let isLittleEndian;\n      if (isDragAcrossSingleByte || !isDragDirectionUp) {\n        isLittleEndian = dragStartBit % 8 < 4;\n      } else {\n        isLittleEndian = dragStartBit % 8 >= 4;\n      }\n      let size;\n      let startBit = dragStartBit;\n\n      if (isDragAcrossSingleByte) {\n        size = Math.abs(dragEndBit - dragStartBit) + 1;\n      } else if (isLittleEndian) {\n        if (dragEndBit > dragStartBit) {\n          startBit = dragStartBit;\n          size = dragEndBit - dragStartBit + 1;\n        } else {\n          startBit = dragEndBit;\n          size = dragStartBit - dragEndBit + 1;\n        }\n      } else {\n        if (dragEndBit < dragStartBit) {\n          startBit = dragEndBit;\n        }\n        size = Math.abs(\n          DbcUtils.bigEndianBitIndex(dragEndBit)\n              - DbcUtils.bigEndianBitIndex(dragStartBit)\n        ) + 1;\n      }\n\n      this.createSignal({ startBit, size, isLittleEndian });\n    }\n  }\n\n  onBitMouseUp(dragEndBit, signal) {\n    if (this.state.dragStartBit !== null) {\n      const { dragStartBit } = this.state;\n\n      if (dragEndBit !== dragStartBit) {\n        // one-bit signal requires double click\n        // see onBitDoubleClick\n        this.createSignalIfNotExtendingOne(dragStartBit, dragEndBit);\n      }\n      this.propagateUpSignalChange();\n      this.resetDragState();\n    }\n  }\n\n  byteValueHex(byteIdx) {\n    const { entries } = this.props.message;\n    if (this.props.messageIndex < entries.length) {\n      const entry = entries[this.props.messageIndex];\n\n      return entry.hexData.substr(byteIdx * 2, 2);\n    }\n    return '--';\n  }\n\n  bitValue(byteIdx, byteBitIdx) {\n    const { entries } = this.props.message;\n    if (this.props.messageIndex < entries.length) {\n      const entry = entries[this.props.messageIndex];\n      const data = Buffer.from(entry.hexData, 'hex');\n      if (byteIdx >= data.length) {\n        return '-';\n      }\n      const byte = data.readInt8(byteIdx);\n      return (byte >> byteBitIdx) & 1;\n    }\n    return '-';\n  }\n\n  bitIsContainedInSelection(bitIdx, isLittleEndian = false) {\n    const { dragStartBit, dragCurrentBit } = this.state;\n\n    if (isLittleEndian || dragStartBit % 8 < 4) {\n      return (\n        dragStartBit !== null\n        && dragCurrentBit !== null\n        && bitIdx >= dragStartBit\n        && bitIdx <= dragCurrentBit\n      );\n    }\n    const bigEndianStartBit = DbcUtils.bigEndianBitIndex(dragStartBit);\n    const bigEndianCurrentBit = DbcUtils.bigEndianBitIndex(dragCurrentBit);\n    const bigEndianBitIdx = DbcUtils.bigEndianBitIndex(bitIdx);\n    return (\n      dragStartBit !== null\n      && dragCurrentBit !== null\n      && bigEndianBitIdx >= bigEndianStartBit\n      && bigEndianBitIdx <= bigEndianCurrentBit\n    );\n  }\n\n  onBitDoubleClick(startBit, signal) {\n    if (signal === undefined) {\n      this.createSignal({ startBit, size: 1, isLittleEndian: false });\n    }\n  }\n\n  renderBitMatrix() {\n    const { message } = this.props;\n    const rows = [];\n    let rowCount;\n    if (message.frame && message.frame.size) {\n      rowCount = Math.floor((message.frame.size * 8) / 8);\n    } else {\n      rowCount = this.state.maxMessageBytes;\n    }\n\n    for (let i = 0; i < rowCount; i++) {\n      const rowBits = [];\n\n      rowBits.push(<td key={`rowIndex${i}`} className={css(Styles.bit, Styles.byteIndex)}>{i.toString()}</td>);\n\n      for (let j = 7; j >= 0; j--) {\n        const bitIdx = i * 8 + j;\n        const signal = this.signalForBit(bitIdx);\n        let bitStyle = null;\n        let bitSignificance = '';\n        if (signal) {\n          bitStyle = this.state.signalStyles[signal.name] || null;\n          const bitDesc = signal.bitDescription(bitIdx);\n          bitSignificance = bitDesc.isMsb ? 'msb' : bitDesc.isLsb ? 'lsb' : '';\n        } else if (this.bitIsContainedInSelection(bitIdx)) {\n          bitStyle = Styles.bitSelectedStyle;\n        }\n        const className = css('bit', Styles.bit, bitStyle);\n        const bitValue = this.bitValue(i, j);\n\n        rowBits.push(\n          <td\n            key={j.toString()}\n            className={className}\n            onMouseEnter={() => this.onBitHover(bitIdx, signal)}\n            onMouseLeave={() => this.onSignalHoverEnd(signal)}\n            onMouseDown={this.onBitMouseDown.bind(this, bitIdx, signal)}\n            onMouseUp={this.onBitMouseUp.bind(this, bitIdx, signal)}\n            onDoubleClick={() => this.onBitDoubleClick(bitIdx, signal)}\n          >\n            <span>{bitValue}</span>\n            <span className={css(Styles.bitSignificance)}>\n              {bitSignificance}\n            </span>\n          </td>\n        );\n      }\n\n      rowBits.push(<td key=\"hex-repr\" className={css(Styles.bit)}><b>{this.byteValueHex(i)}</b></td>);\n      rows.push(<tr key={i.toString()}>{rowBits}</tr>);\n    }\n\n    return (\n      <div className=\"cabana-explorer-signals-matrix\" onMouseMove={this.matrixMouseMove}>\n        {this.state.highlightedSignal &&\n          <p ref={this.highlightedSignalTooltipRef} className=\"cabana-explorer-signals-matrix-tooltip\" />\n        }\n        <table cellSpacing={0} onMouseLeave={this.resetDragState}>\n          <tbody>{rows}</tbody>\n        </table>\n      </div>\n    );\n  }\n\n  resetDragState = () => {\n    this.setState({\n      dragStartBit: null,\n      dragSignal: null,\n      dragCurrentBit: null\n    });\n  };\n\n  matrixMouseMove = (ev) => {\n    if (this.state.highlightedSignal && this.highlightedSignalTooltipRef.current) {\n      const tt = this.highlightedSignalTooltipRef.current;\n      const signal = this.state.signals[this.state.highlightedSignal];\n\n      tt.innerHTML = signal.name;\n      if (ev) {\n        tt.style.left = (ev.clientX + 15) + 'px';\n        tt.style.top = (ev.clientY + 5) + 'px';\n      }\n    }\n  };\n\n  onTentativeSignalChange = (signal) => {\n    // Tentative signal changes are not propagated up\n    // but their effects are displayed in the bitmatrix\n    const { signals } = this.state;\n    signals[signal.name] = signal;\n    this.setState({ signals });\n  };\n\n  onSignalChange = (signal) => {\n    const { signals } = this.state;\n\n    if (signal.name in signals && signals[signal.name].uid !== signal.uid) {\n      return false;\n    }\n\n    for (const signalName in signals) {\n      if (signals[signalName].uid === signal.uid) {\n        delete signals[signalName];\n      }\n    }\n    signals[signal.name] = signal;\n\n    this.setState({ signals }, this.propagateUpSignalChange);\n    return true;\n  };\n\n  onSignalRemove = (signal) => {\n    const { signals } = this.state;\n    delete signals[signal.name];\n    this.setState({ signals }, this.propagateUpSignalChange);\n  };\n\n  propagateUpSignalChange() {\n    const { signals } = this.state;\n\n    this.props.onConfirmedSignalChange(\n      this.props.message,\n      this.copySignals(signals)\n    );\n  }\n\n  onSignalPlotChange = (shouldPlot, signalUid) => {\n    const { message } = this.props;\n\n    this.props.onSignalPlotChange(shouldPlot, message.id, signalUid);\n  };\n\n  render() {\n    const { selectedMessageKey } = this.props;\n    return (\n      <div className=\"cabana-explorer-signals-controller\">\n        {Object.keys(this.state.signals).length === 0 ? (\n          <p>Double click or drag to add a signal</p>\n        ) : null}\n        {this.props.message.entries[this.props.messageIndex] ? (\n          <div className=\"cabana-explorer-signals-time\">\n            <p>\n              time:\n              {' '}\n              {this.props.message.entries[\n                this.props.messageIndex\n              ].relTime.toFixed(3)}\n            </p>\n          </div>\n        ) : null}\n        {this.renderBitMatrix()}\n        <SignalLegend\n          signals={this.state.signals}\n          signalStyles={this.state.signalStyles}\n          highlightedSignal={this.state.highlightedSignal}\n          onSignalHover={this.onSignalHover}\n          onSignalHoverEnd={this.onSignalHoverEnd}\n          onTentativeSignalChange={this.onTentativeSignalChange}\n          onSignalChange={this.onSignalChange}\n          onSignalRemove={this.onSignalRemove}\n          onSignalPlotChange={this.onSignalPlotChange}\n          plottedSignalUids={this.props.plottedSignalUids}\n          selectedMessageKey={selectedMessageKey}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport qs from 'query-string';\nimport CommaAuth, { config as AuthConfig } from '@commaai/my-comma-auth';\n\nimport { EXPLORER_URL } from '../../config';\nimport Modal from './baseModal';\n\nexport default class OnboardingModal extends Component {\n  static propTypes = {\n    handlePandaConnect: PropTypes.func,\n    routes: PropTypes.array\n  };\n\n  static instructionalImages = {\n    step2: require('../../images/webusb-enable-experimental-features.png'),\n    step3: require('../../images/webusb-enable-webusb.png')\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      webUsbEnabled: !!navigator.usb,\n      viewingUsbInstructions: false,\n      pandaConnected: false\n    };\n\n    this.attemptPandaConnection = this.attemptPandaConnection.bind(this);\n    this.toggleUsbInstructions = this.toggleUsbInstructions.bind(this);\n    this.navigateToExplorer = this.navigateToExplorer.bind(this);\n  }\n\n  componentDidMount() {\n    const script = document.createElement(\"script\");\n    document.body.appendChild(script);\n    script.onload = () => {\n      window.AppleID.auth.init({\n        clientId : AuthConfig.APPLE_CLIENT_ID,\n        scope : AuthConfig.APPLE_SCOPES,\n        redirectURI : AuthConfig.APPLE_REDIRECT_URI,\n        state : AuthConfig.APPLE_STATE,\n      });\n    };\n    script.src = \"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js\";\n    script.async = true;\n    document.addEventListener('AppleIDSignInOnSuccess', (data) => {\n      const { code, state } = data.detail.authorization;\n      window.location = [AuthConfig.APPLE_REDIRECT_PATH, qs.stringify({ code, state })].join('?');\n    });\n    document.addEventListener('AppleIDSignInOnFailure', console.log);\n  }\n\n  attemptPandaConnection() {\n    if (!this.state.webUsbEnabled) {\n      return;\n    }\n    this.props.handlePandaConnect();\n  }\n\n  toggleUsbInstructions() {\n    this.setState({\n      viewingUsbInstructions: !this.state.viewingUsbInstructions\n    });\n  }\n\n  navigateToExplorer() {\n    window.location.href = EXPLORER_URL;\n  }\n\n  filterRoutesWithCan(drive) {\n    return drive.can === true;\n  }\n\n  renderPandaEligibility() {\n    const { webUsbEnabled, pandaConnected } = this.state;\n    const { attemptingPandaConnection } = this.props;\n    if (!webUsbEnabled) {\n      return (\n        <p>\n          <i className=\"fa fa-exclamation-triangle\" />\n          <span onClick={this.toggleUsbInstructions}>\n            <span>WebUSB is not enabled in your Chrome settings</span>\n          </span>\n        </p>\n      );\n    }\n    if (!pandaConnected && attemptingPandaConnection) {\n      return (\n        <p>\n          <i className=\"fa fa-spinner animate-spin\" />\n          <span className=\"animate-pulse-opacity\">\n            Waiting for panda USB connection\n          </span>\n        </p>\n      );\n    }\n  }\n\n  renderLogin() {\n    if (CommaAuth.isAuthenticated()) {\n      return (\n        <button onClick={this.navigateToExplorer} className=\"button--primary button--kiosk\">\n          <i className=\"fa fa-video-camera\" />\n          <strong>Find a drive in connect</strong>\n          <sup>Click \"View in cabana\" while replaying a drive</sup>\n        </button>\n      );\n    } else {\n      return <>\n        <a href={ AuthConfig.GOOGLE_REDIRECT_LINK } className=\"button button--primary button--icon\">\n          <i className=\"fa fa-google\" />\n          <strong>Sign in with Google</strong>\n        </a>\n        <button onClick={ () => window.AppleID.auth.signIn() } className=\"button button--primary button--icon\">\n          <i className=\"fa fa-apple\" />\n          <strong>Sign in with Apple</strong>\n        </button>\n        <a href={ AuthConfig.GITHUB_REDIRECT_LINK } className=\"button button--primary button--icon\">\n          <i className=\"fa fa-github\" />\n          <strong>Sign in with GitHub</strong>\n        </a>\n      </>;\n    }\n  }\n\n  renderOnboardingOptions() {\n    return (\n      <div className=\"cabana-onboarding-modes\">\n        <div className=\"cabana-onboarding-mode\">{this.renderLogin()}</div>\n        <div className=\"cabana-onboarding-mode\">\n          <button\n            className={cx('button--secondary button--kiosk', {\n              'is-disabled':\n                !this.state.webUsbEnabled\n                || this.props.attemptingPandaConnection\n            })}\n            onClick={this.attemptPandaConnection}\n          >\n            <i className=\"fa fa-bolt\" />\n            <strong>Launch Realtime Streaming</strong>\n            <sup>\n              Interactively stream car data over USB with\n              {' '}\n              <em>panda</em>\n            </sup>\n            {this.renderPandaEligibility()}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderUsbInstructions() {\n    return (\n      <div className=\"cabana-onboarding-instructions\">\n        <button\n          className=\"button--small button--inverted\"\n          onClick={this.toggleUsbInstructions}\n        >\n          <i className=\"fa fa-chevron-left\" />\n          <span> Go back</span>\n        </button>\n        <h3>Follow these directions to enable WebUSB:</h3>\n        <ol className=\"cabana-onboarding-instructions-list list--bubbled\">\n          <li>\n            <p>\n              <strong>Open your Chrome settings:</strong>\n            </p>\n            <div className=\"inset\">\n              <span>\n                chrome://flags/#enable-experimental-web-platform-features\n              </span>\n            </div>\n          </li>\n          <li>\n            <p>\n              <strong>Enable Experimental Platform features:</strong>\n            </p>\n            <img\n              alt=\"Screenshot of Google Chrome Experimental Platform features\"\n              src={OnboardingModal.instructionalImages.step2}\n            />\n          </li>\n          <li>\n            <p>\n              <strong>Enable WebUSB:</strong>\n            </p>\n            <img\n              alt=\"Screenshot of Google Chrome enable WebUSB\"\n              src={OnboardingModal.instructionalImages.step3}\n            />\n          </li>\n          <li>\n            <p>\n              <strong>\n                Relaunch your Chrome browser and try enabling live mode again.\n              </strong>\n            </p>\n          </li>\n        </ol>\n      </div>\n    );\n  }\n\n  renderModalContent() {\n    if (this.state.viewingUsbInstructions) {\n      return this.renderUsbInstructions();\n    }\n    return this.renderOnboardingOptions();\n  }\n\n  renderModalFooter() {\n    return (\n      <p>\n        <span>\n          Don't have a\n          {' '}\n          <a\n            href=\"https://comma.ai/shop/products/panda\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            panda\n          </a>\n          ?\n          {' '}\n        </span>\n        <span>\n          <a\n            href=\"https://comma.ai/shop/products/panda\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Get one here\n          </a>\n          {' '}\n        </span>\n        <span>\n          or\n          {' '}\n          <a href={`${window.location.href}?demo=1`}>try the demo</a>\n.\n        </span>\n      </p>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Welcome to Cabana\"\n        subtitle=\"Get started by selecting a drive from connect or enabling live mode\"\n        footer={this.renderModalFooter()}\n        disableClose\n        variations={['wide', 'dark']}\n      >\n        {this.renderModalContent()}\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport FileSaver from 'file-saver';\n\nimport OpenDbc from '../api/OpenDbc';\nimport DBC from '../models/can/dbc';\nimport Modal from './Modals/baseModal';\n// import TabStyles from '../styles/modal-tabs';\n\nexport default class SaveDbcModal extends Component {\n  static propTypes = {\n    dbc: PropTypes.instanceOf(DBC).isRequired,\n    sourceDbcFilename: PropTypes.string.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    onDbcSaved: PropTypes.func.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired,\n    hasGithubAuth: PropTypes.bool.isRequired,\n    loginWithGithub: PropTypes.element.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tab: 'GitHub',\n      openDbcFork: null,\n      dbcFilename: this.props.sourceDbcFilename,\n      tabs: ['GitHub', 'Download'],\n      commitMessage: 'OpenDBC updates'\n    };\n\n    this.commitToGitHub = this.commitToGitHub.bind(this);\n    this.downloadDbcFile = this.downloadDbcFile.bind(this);\n    this.forkOpenDbcAndWait = this.forkOpenDbcAndWait.bind(this);\n    this.renderForkButton = this.renderForkButton.bind(this);\n    this.renderTabNavigation = this.renderTabNavigation.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  async componentDidMount() {\n    const openDbcFork = await this.props.openDbcClient.getUserOpenDbcFork();\n    this.setState({ openDbcFork });\n  }\n\n  async commitToGitHub() {\n    const { openDbcFork, dbcFilename } = this.state;\n    const filename = `${dbcFilename.replace(/\\.dbc/g, '')}.dbc`;\n    const success = await this.props.openDbcClient.commitFile(\n      openDbcFork,\n      filename,\n      this.props.dbc.text(),\n      this.state.commitMessage\n    );\n    if (success) {\n      this.props.onDbcSaved(filename);\n    }\n  }\n\n  async downloadDbcFile() {\n    const blob = new Blob([this.props.dbc.text()], {\n      type: 'text/plain;charset=utf-8'\n    });\n    const filename = `${this.state.dbcFilename.replace(/\\.dbc/g, '')}.dbc`;\n    FileSaver.saveAs(blob, filename, true);\n  }\n\n  async forkOpenDbcAndWait() {\n    const forkResponseSuccess = await this.props.openDbcClient.fork();\n    if (forkResponseSuccess) {\n      let isTimedOut = false;\n      const timeout = window.setTimeout(() => {\n        isTimedOut = true;\n      }, 30000);\n\n      const interval = window.setInterval(() => {\n        if (!isTimedOut) {\n          this.props.openDbcClient.getUserOpenDbcFork().then((openDbcFork) => {\n            if (openDbcFork !== null) {\n              this.setState({ openDbcFork });\n              window.clearInterval(interval);\n              window.clearTimeout(timeout);\n            }\n          });\n        } else {\n          window.clearInterval(interval);\n        }\n      }, 3000);\n    } else {\n      // fork failed\n    }\n  }\n\n  primaryActionDisabled() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        this.state.openDbcFork != null && this.state.dbcFilename.length > 0\n      );\n    }\n    if (tab === 'Download') {\n      return true;\n    }\n  }\n\n  renderForkButton() {\n    return (\n      <button onClick={this.forkOpenDbcAndWait}>\n        <i className=\"fa fa-code-fork\" />\n        <span> Fork OpenDBC</span>\n      </button>\n    );\n  }\n\n  renderForkStep() {\n    const { openDbcFork } = this.state;\n    let content;\n    if (openDbcFork !== null) {\n      content = (\n        <button disabled>\n          <i className=\"fa fa-code-fork\" />\n          <span>\n            {' '}\n            Forked:\n            {openDbcFork}\n          </span>\n        </button>\n      );\n    } else if (this.props.hasGithubAuth) {\n      content = this.renderForkButton();\n    } else {\n      content = this.props.loginWithGithub;\n    }\n    return (\n      <div>\n        {openDbcFork !== null ? this.renderForkButton() : null}\n        {content}\n        <hr />\n      </div>\n    );\n  }\n\n  renderFilenameField() {\n    return (\n      <div className=\"form-field\" data-extension=\".dbc\">\n        <label htmlFor=\"filename\">\n          <span>Choose a filename:</span>\n          <sup>Pick a unique name for your car DBC file</sup>\n        </label>\n        <input\n          type=\"text\"\n          id=\"filename\"\n          value={this.state.dbcFilename.replace(/\\.dbc/g, '')}\n          size={this.state.dbcFilename.length + 2}\n          onChange={(e) => this.setState({ dbcFilename: e.target.value })}\n        />\n      </div>\n    );\n  }\n\n  renderTabNavigation() {\n    return (\n      <div className=\"cabana-tabs-navigation\">\n        {this.state.tabs.map((tab) => (\n          <button\n            className={cx({ 'is-active': this.state.tab === tab })}\n            onClick={() => {\n              this.setState({ tab });\n            }}\n            key={tab}\n          >\n            <span>{tab}</span>\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  renderCommitMessage() {\n    return (\n      <div className=\"form-field\">\n        <label htmlFor=\"commit-message\">\n          <span>Commit Message:</span>\n          <sup>Message appears in git logs</sup>\n        </label>\n        <input\n          type=\"text\"\n          id=\"commit-message\"\n          value={this.state.commitMessage}\n          onChange={(e) => this.setState({ commitMessage: e.target.value })}\n        />\n      </div>\n    );\n  }\n\n  renderTabContent() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        <div>\n          {this.renderForkStep()}\n          {this.renderFilenameField()}\n          {this.renderCommitMessage()}\n        </div>\n      );\n    }\n    if (tab === 'Download') {\n      return <div>{this.renderFilenameField()}</div>;\n    }\n  }\n\n  renderActions() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        <div>\n          <button className=\"button--inverted\" onClick={this.props.handleClose}>\n            <span>Cancel</span>\n          </button>\n          <button className=\"button--primary\" onClick={this.commitToGitHub}>\n            <span>Commit to GitHub</span>\n          </button>\n        </div>\n      );\n    }\n    if (tab === 'Download') {\n      return (\n        <div>\n          <button className=\"button--inverted\" onClick={this.props.handleClose}>\n            <span>Cancel</span>\n          </button>\n          <button className=\"button--primary\" onClick={this.downloadDbcFile}>\n            <span>Download</span>\n          </button>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Save DBC File\"\n        subtitle=\"Save your progress and output to a DBC file\"\n        handleClose={this.props.handleClose}\n        navigation={this.renderTabNavigation()}\n        actions={this.renderActions()}\n      >\n        {this.renderTabContent()}\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from './Modals/baseModal';\n\nexport default class EditMessageModal extends Component {\n  static propTypes = {\n    handleClose: PropTypes.func.isRequired,\n    handleSave: PropTypes.func.isRequired,\n    message: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messageFrame: props.message.frame.copy()\n    };\n    this.handleSave = this.handleSave.bind(this);\n    this.editTransmitter = this.editTransmitter.bind(this);\n    this.addTransmitter = this.addTransmitter.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  handleSave() {\n    this.props.handleSave(this.state.messageFrame);\n  }\n\n  addTransmitter() {\n    const { messageFrame } = this.state;\n    messageFrame.addTransmitter();\n    this.setState({ messageFrame });\n  }\n\n  editTransmitter(transmitter) {}\n\n  renderActions() {\n    return (\n      <div>\n        <button className=\"button--inverted\" onClick={this.props.handleClose}>\n          Cancel\n        </button>\n        <button className=\"button--primary\" onClick={this.handleSave}>\n          Save Message\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title={`Edit Message: (${this.props.message.id})`}\n        subtitle=\"Make changes and update defaults of this message\"\n        handleClose={this.props.handleClose}\n        handleSave={this.handleSave}\n        actions={this.renderActions()}\n      >\n        <div className=\"form-field\">\n          <label htmlFor=\"message_name\">\n            <span>Name</span>\n            <sup>Customize the name of this message</sup>\n          </label>\n          <input\n            type=\"text\"\n            id=\"message_name\"\n            value={this.state.messageFrame.name}\n            onChange={(e) => {\n              const { messageFrame } = this.state;\n              messageFrame.name = e.target.value;\n              this.setState({ messageFrame });\n            }}\n          />\n        </div>\n        <div className=\"form-field\">\n          <label htmlFor=\"message_size\">\n            <span>Size</span>\n            <sup>Add a size parameter to this message</sup>\n          </label>\n          <input\n            type=\"number\"\n            id=\"message_size\"\n            value={this.state.messageFrame.size}\n            onChange={(e) => {\n              const { messageFrame } = this.state;\n              messageFrame.size = parseInt(e.target.value, 10);\n              this.setState({ messageFrame });\n            }}\n          />\n        </div>\n        <div className=\"form-field u-hidden\">\n          <label htmlFor=\"message_transmitters\">\n            <span>Transmitters</span>\n            <sup>\n              Add the physical ECU units that this message is coming from.\n            </sup>\n          </label>\n          <div className=\"form-field-inset\">\n            <ul className=\"form-field-inset-list\">\n              {this.state.messageFrame.transmitters.map((transmitter) => (\n                <li className=\"form-field-inset-list-item\" key={transmitter}>\n                  <div className=\"form-field-inset-list-item-title\">\n                    <span>{transmitter}</span>\n                  </div>\n                  <div className=\"form-field-inset-list-item-action\">\n                    <button className=\"button--tiny button--alpha\">Edit</button>\n                  </div>\n                </li>\n              ))}\n              <button className=\"button--tiny button--alpha\">\n                <span>\n                  <i className=\"fa fa-plus\" />\n                  {' '}\nAdd Transmitter\n                </span>\n              </button>\n            </ul>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n","import SocketIO from 'socket.io-client';\nimport { UNLOGGER_HOST } from '../config';\n\nexport default class UnloggerClient {\n  constructor() {\n    this.socket = SocketIO(UNLOGGER_HOST);\n  }\n\n  seek(dongleId, baseTime, seekSeconds) {\n    this.socket.emit('seek', dongleId, baseTime, seekSeconds);\n  }\n}\n","export function hash(str) {\n  let hash = 5381;\n  let i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  // to positive number\n  return (hash >>> 0).toString(16);\n}\n","import qs from 'query-string';\nimport CommaAuth, { config as AuthConfig, storage as AuthStorage } from '@commaai/my-comma-auth';\nimport { auth as AuthApi, request as Request } from '@commaai/comma-api';\nimport Sentry from './logging/Sentry';\nimport { getUrlParameter, modifyQueryParameters } from './utils/url';\nimport { GITHUB_AUTH_TOKEN_KEY } from './config';\nimport {\n  fetchPersistedDbc,\n  fetchPersistedGithubAuthToken,\n  persistGithubAuthToken\n} from './api/localstorage';\nimport { demoProps } from './demo';\nimport { loadRetropilotDrive } from './retropilotloader';\n\nasync function authenticate() {\n  if (window.location && window.location.pathname === AuthConfig.AUTH_PATH) {\n    try {\n      const { code, provider } = qs.parse(window.location.search);\n      const token = await AuthApi.refreshAccessToken(code, provider);\n      if (token) {\n        AuthStorage.setCommaAccessToken(token);\n\n        // reset stored path\n        if (window.sessionStorage) {\n          const onboardingPath = window.sessionStorage.getItem('onboardingPath');\n          if (onboardingPath) {\n            window.sessionStorage.removeItem('onboardingPath');\n            window.location = onboardingPath;\n          }\n        }\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const token = await CommaAuth.init();\n  if (token) {\n    Request.configure(token);\n  }\n}\n\nexport default function init() {\n  Sentry.init();\n\n  const routeFullName = getUrlParameter('route');\n  const isDemo = !!getUrlParameter('demo');\n  let segments = getUrlParameter('segments');\n  if (segments && segments.length) {\n    segments = segments.split(',').map(Number);\n\n    if (segments.length !== 2) {\n      segments = undefined;\n    }\n  }\n\n  let props = {\n    autoplay: true,\n    startTime: Number(getUrlParameter('seekTime') || 0),\n    segments,\n    isDemo\n  };\n  let persistedDbc = null;\n\n  if (routeFullName) {\n    const [dongleId, route] = routeFullName.split('|');\n    props.dongleId = dongleId;\n    props.name = route;\n\n    persistedDbc = fetchPersistedDbc(routeFullName);\n\n    const max = getUrlParameter('max');\n    const url = getUrlParameter('url');\n    const exp = getUrlParameter('exp');\n    const sig = getUrlParameter('sig');\n\n    if (max) {\n      props.max = max;\n    }\n    if (url) {\n      props.url = url;\n    }\n    if (exp) {\n      props.exp = exp;\n    }\n    if (sig) {\n      props.sig = sig;\n    }\n    props.isLegacyShare = max && url && !exp && !sig;\n    props.isShare = max && url && exp && sig;\n  } else if (isDemo) {\n    props = { ...props, ...demoProps };\n  }\n\n  if (persistedDbc) {\n    const { dbcFilename, dbc } = persistedDbc;\n    props.dbc = dbc;\n    props.dbcFilename = dbcFilename;\n  }\n\n  const authTokenQueryParam = getUrlParameter(GITHUB_AUTH_TOKEN_KEY);\n  if (authTokenQueryParam !== null) {\n    props.githubAuthToken = authTokenQueryParam;\n    persistGithubAuthToken(authTokenQueryParam);\n    const urlNoAuthToken = modifyQueryParameters({\n      remove: [GITHUB_AUTH_TOKEN_KEY]\n    });\n    window.location.href = urlNoAuthToken;\n  } else {\n    props.githubAuthToken = fetchPersistedGithubAuthToken();\n  }\n\n  return new Promise((resolve) => {\n\n    authenticate()\n      .then(() => {\n        const retropilotHost = getUrlParameter('retropilotHost') || '';\n        const driveIdentifier = getUrlParameter('retropilotIdentifier') || '';\n        const seekTime = getUrlParameter('seekTime') || 0;\n        return loadRetropilotDrive(retropilotHost, driveIdentifier, seekTime);\n      })\n      .then(() => {\n        if (global.retropilotLoaded) {\n          Object.assign(props, global.retropilotProps);\n        }\n      })\n      .then(() => {\n        resolve(props);\n      });\n  });\n}\n","import Raven from 'raven-js';\n\nfunction init() {\n  if (process.env.NODE_ENV === 'production') {\n    const opts = {};\n\n    if (typeof __webpack_hash__ !== 'undefined') { // eslint-disable-line camelcase\n      opts.release = __webpack_hash__; // eslint-disable-line no-undef, camelcase\n    }\n\n    Raven.config(\n      'https://50006e5d91894f508dd288bbbf4585a6@sentry.io/185303',\n      opts\n    ).install();\n  }\n}\n\nexport default { init };\n","import Moment from 'moment';\nimport CorollaDBC from './corolla-dbc';\nimport DBC from './models/can/dbc';\nimport { fetchPersistedDbc } from './api/localstorage';\n\nexport async function loadRetropilotDrive(retropilotHost, driveIdentifier, seekTime) {\n  if (driveIdentifier == null || !driveIdentifier.length) {\n    global.retropilotLoaded = false;\n    return;\n  }\n\n  const response = await fetch(retropilotHost + 'useradmin/cabana_drive/' + encodeURIComponent(driveIdentifier));\n  let retropilotDrive;\n  try {\n    retropilotDrive = await response.json();\n  } catch (exception) {}\n\n  if (!retropilotDrive || !retropilotDrive.logUrls) {\n    alert(retropilotDrive && retropilotDrive.status ? retropilotDrive.status : 'fetching retropilot drive failed!');\n    global.retropilotLoaded = false;\n    return;\n  }\n  global.retropilotLogUrls = retropilotDrive.logUrls;\n\n  const dbcObj = retropilotDrive.dbc && retropilotDrive.dbc.length > 0 ? new DBC(retropilotDrive.dbc) : CorollaDBC;\n\n  global.retropilotProps = {\n    autoplay: true,\n    startTime: seekTime,\n    segments: global.retropilotLogUrls.length,\n    isDemo: true,\n    max: global.retropilotLogUrls.length,\n    name: retropilotDrive.driveIdentifier,\n    dongleId: retropilotDrive.dongleId,\n    dbc: dbcObj,\n    dbcFilename: retropilotDrive.dbcFilename || 'toyota_nodsu_pt_generated.dbc',\n  };\n\n  global.retropilotRoute = {\n    fullname: retropilotDrive.name,\n    proclog: global.retropilotProps.max,\n    start_time: Moment(global.retropilotProps.name, 'YYYY-MM-DD--H-m-s'),\n    url: retropilotDrive.driveUrl,\n  };\n\n  if (global.retropilotProps.max > 0) {\n    const persistedDbc = fetchPersistedDbc(global.retropilotRoute.fullname);\n    if (persistedDbc) {\n      const { dbcFilename, dbc } = persistedDbc;\n      global.retropilotProps.dbc = dbc;\n      global.retropilotProps.dbcFilename = dbcFilename;\n    }\n    global.retropilotLoaded = true;\n  } else {\n    global.retropilotLoaded = false;\n  }\n}\n","function elementWiseEquals(arr1, arr2) {\n  return (\n    arr1.length === arr2.length && arr1.every((ele, idx) => arr2[idx] === ele)\n  );\n}\n\nfunction findIndexRight(arr, condition) {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    if (condition(arr[i])) {\n      return i;\n    }\n  }\n}\n\nexport default { elementWiseEquals, findIndexRight };\n","import ArrayUtils from '../utils/array';\nimport { CAN_GRAPH_MAX_POINTS } from '../config';\n\nfunction signalColors(signal, msg) {\n  return signal.colors.map((v) => (v ^ msg.address) ^ msg.bus);\n}\n\nfunction _calcGraphData(msg, signalUid, firstCanTime) {\n  if (!msg) return null;\n\n  const signal = Object.values(msg.frame.signals).find(\n    (s) => s.uid === signalUid\n  );\n  if (!signal) {\n    console.warn('_calcGraphData: no signal', signalUid, msg);\n    return null;\n  }\n  let samples = [];\n  const skip = Math.floor(msg.entries.length / CAN_GRAPH_MAX_POINTS);\n\n  if (skip === 0) {\n    samples = msg.entries;\n  } else {\n    for (let i = 0; i < msg.entries.length; i += skip) {\n      samples.push(msg.entries[i]);\n    }\n    // Always include last message entry, which faciliates graphData comparison\n    samples.push(msg.entries[msg.entries.length - 1]);\n  }\n  if (!samples.length) {\n    return [];\n  }\n\n  const colors = signal.getColors(msg.id);\n  signalUid = msg.id + signalUid;\n  // sorting these doesn't fix the phantom lines\n  let lastEntry = samples[0].relTime;\n  return samples\n    .filter((e) => e.signals[signal.name] !== undefined)\n    .map((entry) => {\n      if (entry.relTime < lastEntry) {\n        console.log(msg);\n        console.error('Found out of order messages');\n        debugger;\n      }\n      if (entry.relTime - lastEntry > 2) {\n        signalUid = Math.random().toString(36);\n      }\n      lastEntry = entry.relTime;\n      // console.log(entry.relTime - lastEntry);\n      return {\n        x: entry.time,\n        relTime: entry.relTime,\n        y: parseFloat(entry.signals[signal.name]),\n        unit: signal.unit,\n        color: `rgba(${colors.join(',')}, 0.5)`,\n        signalName: signal.name,\n        signalUid\n      };\n    });\n}\n\nfunction appendNewGraphData(plottedSignals, graphData, messages, firstCanTime) {\n  const messagesPerPlot = plottedSignals.map((plottedMessages) => plottedMessages.reduce((messages, { messageId, signalUid }) => {\n    messages.push(messageId);\n    return messages;\n  }, []));\n\n  const extendedPlots = messagesPerPlot\n    .map((plottedMessageIds, index) => ({ plottedMessageIds, index })) // preserve index so we can look up graphData\n    .filter(({ plottedMessageIds, index }) => {\n      if (index < graphData.length) {\n        let maxGraphTime = 0;\n        const { series } = graphData[index];\n        if (series.length > 0) {\n          maxGraphTime = series[graphData[index].series.length - 1].relTime;\n        }\n\n        return plottedMessageIds.some(\n          (messageId) => (messages[messageId].entries.length > 0 && series.length === 0)\n            || messages[messageId].entries.some((e) => e.relTime > maxGraphTime)\n        );\n      }\n      return false;\n    })\n    .map(({ plottedMessageIds, index }) => {\n      plottedMessageIds = plottedMessageIds.reduce((arr, messageId) => {\n        if (arr.indexOf(messageId) === -1) {\n          arr.push(messageId);\n        }\n        return arr;\n      }, []);\n      return { plottedMessageIds, index };\n    });\n\n  extendedPlots.forEach(({ plottedMessageIds, index }) => {\n    const signalUidsByMessageId = plottedSignals[index].reduce(\n      (obj, { messageId, signalUid }) => {\n        if (!obj[messageId]) {\n          obj[messageId] = [];\n        }\n        obj[messageId].push(signalUid);\n        return obj;\n      },\n      {}\n    );\n    const { series } = graphData[index];\n    const graphDataMaxMessageTimes = plottedMessageIds.reduce(\n      (obj, messageId) => {\n        const signalUids = signalUidsByMessageId[messageId];\n        const maxIndex = ArrayUtils.findIndexRight(\n          series,\n          (entry) => signalUids.indexOf(entry.signalUid) !== -1\n        );\n        if (maxIndex) {\n          obj[messageId] = series[maxIndex].relTime;\n        } else if (series.length > 0) {\n          obj[messageId] = series[series.length - 1].relTime;\n        } else {\n          // Graph data is empty\n          obj[messageId] = -1;\n        }\n\n        return obj;\n      },\n      {}\n    );\n\n    let newGraphData = [];\n    plottedMessageIds\n      .map((messageId) => ({ messageId, entries: messages[messageId].entries }))\n      .filter(\n        (\n          { messageId, entries } // Filter to only messages with stale graphData\n        ) => entries[entries.length - 1].relTime\n          > graphDataMaxMessageTimes[messageId]\n      )\n      .forEach(({ messageId, entries }) => {\n        // Compute and append new graphData\n        const firstNewEntryIdx = entries.findIndex(\n          (entry) => entry.relTime > graphDataMaxMessageTimes[messageId]\n        );\n\n        const newEntries = entries.slice(firstNewEntryIdx);\n        signalUidsByMessageId[messageId].forEach((signalUid) => {\n          const signalGraphData = _calcGraphData(\n            {\n              ...messages[messageId],\n              entries: newEntries\n            },\n            signalUid,\n            firstCanTime\n          );\n\n          newGraphData = newGraphData.concat(signalGraphData);\n        });\n      });\n\n    const messageIdOutOfBounds = series.length > 0\n      && plottedMessageIds.find(\n        (messageId) => messages[messageId].entries.length > 0\n          && series[0].relTime < messages[messageId].entries[0].relTime\n      );\n    graphData[index] = {\n      series: graphData[index].series.concat(newGraphData),\n      updated: Date.now()\n    };\n\n    if (messageIdOutOfBounds) {\n      const graphDataLowerBound = graphData[index].series.findIndex(\n        (e) => e.relTime > messages[messageIdOutOfBounds].entries[0].relTime\n      );\n\n      if (graphDataLowerBound) {\n        graphData[index].series = graphData[index].series.slice(\n          graphDataLowerBound\n        );\n      }\n    }\n  });\n\n  return [...graphData];\n}\n\nexport default { _calcGraphData, appendNewGraphData, signalColors };\n","export default {\n  \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\n  \"width\": 500,\n  \"height\": 212,\n  \"autosize\": \"none\",\n  \"padding\": {\n    \"top\": 5,\n    \"left\": 70,\n    \"right\": 20,\n    \"bottom\": 20\n  },\n  \"data\": [\n    {\n      \"name\": \"table\"\n    },\n    {\n      \"name\": \"segment\"\n    },\n    {\n      \"name\": \"tooltip\",\n      \"source\": \"table\",\n      \"transform\": [\n        {\n          \"type\": \"filter\",\n          \"expr\": \"abs(datum.relTime - tipTime) <= 0.05\"\n        },\n        {\n          \"type\": \"aggregate\",\n          \"groupby\": [\"color\"],\n          \"fields\": [\n            \"relTime\",\n            \"y\",\n            \"unit\"\n          ],\n          \"ops\": [\n            \"min\",\n            \"argmin\",\n            \"argmin\"\n          ],\n          \"as\": [\n            \"min\",\n            \"argmin\",\n            \"argmin\"\n          ]\n        }\n      ]\n    },\n    {\n      \"name\": \"ySegmentScale\",\n      \"source\": \"table\",\n      \"transform\": [\n        {\n          \"type\": \"filter\",\n          \"expr\": \"length(segment) != 2 || (datum.relTime >= segment[0] && datum.relTime <= segment[1])\"\n        },\n        {\n          \"type\": \"extent\",\n          \"field\": \"y\",\n          \"signal\": \"ySegment\"\n        }\n      ]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"xscale\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"x\"\n      },\n      \"zero\": false\n    },\n    {\n      \"name\": \"xrelscale\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"relTime\"\n      },\n      \"zero\": false,\n      \"clamp\": true,\n      \"nice\": true,\n      \"domainRaw\": {\n        \"signal\": \"segment\"\n      }\n    },\n    {\n      \"name\": \"yscale\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"clamp\": true,\n      \"zero\": false,\n      \"nice\": true,\n      \"domain\": {\n        \"signal\": \"ySegment\"\n      }\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"color\"\n      },\n      \"range\": {\n        \"data\": \"table\",\n        \"field\": \"color\"\n      }\n    }\n  ],\n\n\n  \"axes\": [\n    {\n      \"orient\": \"bottom\",\n      \"scale\": \"xrelscale\",\n      \"labelOverlap\": true\n    },\n    {\n      \"orient\": \"left\",\n      \"scale\": \"yscale\",\n      \"format\": \".6~g\"\n    }\n  ],\n\n  \"signals\": [\n    {\n      \"name\": \"tipTime\",\n      \"on\": [\n        {\n          \"events\": \"mousemove\",\n          \"update\": \"invert('xrelscale', x())\"\n        },\n        {\n          \"events\": \"mouseout\",\n          \"update\": \"null\"\n        }\n      ]\n    },\n    {\n      \"name\": \"clickTime\",\n      \"on\": [\n        {\n          \"events\": \"click\",\n          \"update\": \"invert('xrelscale', x())\"\n        }\n      ]\n    },\n    {\n      \"name\": \"videoTime\"\n    },\n    {\n      \"name\": \"segment\",\n      \"value\": {\n        \"data\": \"table\",\n        \"field\": \"relTime\"\n      }\n    }\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"group\",\n      \"name\": \"plot\",\n      \"interactive\": true,\n      \"encode\": {\n        \"enter\": {\n          \"width\": {\n            \"signal\": \"width\"\n          },\n          \"height\": {\n            \"signal\": \"height\"\n          },\n          \"fill\": {\n            \"value\": \"transparent\"\n          }\n        }\n      },\n      \"signals\": [\n        {\n          \"name\": \"brush\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@boundingRect:mousedown\",\n              \"update\": \"[x(), x()]\"\n            },\n            {\n              \"events\": \"[@boundingRect:mousedown, window:mouseup] > window:mousemove!\",\n              \"update\": \"[brush[0], clamp(x(), 0, width)]\"\n            },\n            {\n              \"events\": {\n                \"signal\": \"delta\"\n              },\n              \"update\": \"clampRange([anchor[0] + delta, anchor[1] + delta], 0, width)\"\n            }\n          ]\n        },\n        {\n          \"name\": \"anchor\",\n          \"value\": null,\n          \"on\": [\n            {\n              \"events\": \"@brush:mousedown\",\n              \"update\": \"slice(brush)\"\n            }\n          ]\n        },\n        {\n          \"name\": \"xdown\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@brush:mousedown\",\n              \"update\": \"x()\"\n            }\n          ]\n        },\n        {\n          \"name\": \"xup\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@brush:mouseup\",\n              \"update\": \"x()\"\n            }\n          ]\n        },\n        {\n          \"name\": \"delta\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"[@brush:mousedown, window:mouseup] > window:mousemove!\",\n              \"update\": \"x() - xdown\"\n            }\n          ]\n        },\n        {\n          \"name\": \"segment\",\n          \"push\": \"outer\",\n          \"on\": [\n            {\n              \"events\": \"window:mouseup\",\n              \"update\": \"span(brush) && span(brush) > 15 ? invert('xrelscale', brush) : segment\"\n            }\n          ]\n        }\n      ],\n      \"marks\": [\n        {\n          \"type\": \"group\",\n          \"from\": {\n            \"facet\": {\n              \"name\": \"series\",\n              \"data\": \"table\",\n              \"groupby\": \"signalUid\"\n            }\n          },\n          \"marks\": [{\n            \"type\": \"line\",\n            \"name\": \"lineMark\",\n            \"from\": {\n              \"data\": \"series\"\n            },\n            \"interactive\": true,\n            \"encode\": {\n              \"update\": {\n                \"value\": \"natural\",\n                \"tension\": 0,\n                \"x\": {\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"relTime\"\n                },\n                \"y\": {\n                  \"scale\": \"yscale\",\n                  \"field\": \"y\"\n                },\n                \"detail\": {\n                  \"field\": \"signalUid\"\n                }\n              },\n              \"hover\": {\n                \"fillOpacity\": {\n                  \"value\": 0.5\n                }\n              },\n              \"enter\": {\n                \"clip\": {\n                  \"value\": true\n                },\n                \"stroke\": {\n                  \"scale\": \"color\",\n                  \"field\": \"color\"\n                },\n                \"strokeWidth\": {\n                  \"value\": 2\n                }\n              }\n            }\n          }]\n        },\n        {\n          \"type\": \"rect\",\n          \"interactive\": true,\n          \"name\": \"brush\",\n          \"encode\": {\n            \"enter\": {\n              \"y\": {\n                \"value\": 0\n              },\n              \"height\": {\n                \"signal\": \"height\"\n              },\n              \"fill\": {\n                \"value\": \"#333\"\n              },\n              \"fillOpacity\": {\n                \"value\": 0.2\n              }\n            },\n            \"update\": {\n              \"x\": {\n                \"signal\": \"brush[0]\"\n              },\n              \"x2\": {\n                \"signal\": \"brush[1]\"\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"rule\",\n          \"encode\": {\n            \"update\": {\n              \"y\": {\n                \"value\": 0\n              },\n              \"y2\": {\n                \"field\": {\n                  \"group\": \"height\"\n                }\n              },\n              \"stroke\": {\n                \"value\": \"#000\"\n              },\n              \"strokeWidth\": {\n                \"value\": 2\n              },\n              \"x\": {\n                \"scale\": \"xrelscale\",\n                \"signal\": \"videoTime\",\n                \"offset\": 0.5\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"symbol\",\n          \"from\": {\n            \"data\": \"tooltip\"\n          },\n          \"encode\": {\n            \"update\": {\n              \"x\": {\n                \"scale\": \"xrelscale\",\n                \"field\": \"argmin.relTime\"\n              },\n              \"y\": {\n                \"scale\": \"yscale\",\n                \"field\": \"argmin.y\"\n              },\n              \"size\": {\n                \"value\": 50\n              },\n              \"fill\": {\n                \"value\": \"black\"\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"group\",\n          \"from\": {\n            \"data\": \"tooltip\"\n          },\n          \"interactive\": false,\n          \"name\": \"tooltipGroup\",\n          \"encode\": {\n            \"update\": {\n              \"x\": [\n                {\n                  \"test\": \"inrange(datum.argmin.relTime + 80, domain('xrelscale'))\",\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"argmin.relTime\"\n                },\n                {\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"argmin.relTime\",\n                  \"offset\": -80\n                }\n              ],\n              \"y\": {\n                \"scale\": \"yscale\",\n                \"field\": \"argmin.y\"\n              },\n              \"height\": {\n                \"value\": 20\n              },\n              \"width\": {\n                \"value\": 80\n              },\n              \"fill\": {\n                \"value\": \"#fff\"\n              },\n              \"fillOpacity\": {\n                \"value\": 0.85\n              },\n              \"stroke\": {\n                \"value\": \"#aaa\"\n              },\n              \"strokeWidth\": {\n                \"value\": 0.5\n              }\n            }\n          },\n          \"marks\": [\n            {\n              \"type\": \"text\",\n              \"interactive\": false,\n              \"encode\": {\n                \"update\": {\n                  \"text\": {\n                    \"signal\": \"format(parent.argmin.relTime, ',.2f') + ': ' + format(parent.argmin.y, ',.2f') + ' ' + parent.argmin.unit\"\n                  },\n                  \"fill\": {\n                    \"value\": \"black\"\n                  },\n                  \"fontWeight\": {\n                    \"value\": \"bold\"\n                  },\n                  \"y\": {\n                    \"value\": 20\n                  }\n                }\n              }\n            }\n          ]\n        },\n        {\n          \"type\": \"rect\",\n          \"name\": \"boundingRect\",\n          \"interactive\": true,\n          \"encode\": {\n            \"enter\": {\n              \"width\": {\n                \"signal\": \"width\"\n              },\n              \"height\": {\n                \"signal\": \"height\"\n              },\n              \"fill\": {\n                \"value\": \"transparent\"\n              }\n            }\n          }\n        }\n      ]\n    }\n  ]\n};\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Vega } from 'react-vega';\n\nimport Signal from '../models/can/signal';\nimport GraphData from '../models/graph-data';\nimport CanPlotSpec from '../vega/CanPlot';\nimport debounce from '../utils/debounce';\n\nconst DefaultPlotInnerStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0\n};\n\nexport default class CanGraph extends Component {\n  static emptyTable = [];\n\n  static propTypes = {\n    plottedSignal: PropTypes.string,\n    messages: PropTypes.object,\n    messageId: PropTypes.string,\n    messageName: PropTypes.string,\n    signalSpec: PropTypes.instanceOf(Signal),\n    segment: PropTypes.array,\n    unplot: PropTypes.func,\n    onRelativeTimeClick: PropTypes.func,\n    currentTime: PropTypes.number,\n    onSegmentChanged: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    container: PropTypes.object,\n    dragPos: PropTypes.object,\n    canReceiveGraphDrop: PropTypes.bool,\n    onGraphRefAvailable: PropTypes.func,\n    plottedSignals: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      plotInnerStyle: null,\n      shiftX: 0,\n      shiftY: 0,\n      bounds: null,\n      isDataInserted: false,\n      data: this.getGraphData(props),\n      spec: this.getGraphSpec(props)\n    };\n    this.onNewView = this.onNewView.bind(this);\n    this.onSignalClickTime = this.onSignalClickTime.bind(this);\n    this.onSignalSegment = this.onSignalSegment.bind(this);\n    this.onDragAnchorMouseDown = this.onDragAnchorMouseDown.bind(this);\n    this.onDragAnchorMouseUp = this.onDragAnchorMouseUp.bind(this);\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onPlotResize = this.onPlotResize.bind(this);\n    this.insertData = this.insertData.bind(this);\n  }\n\n  getGraphData(props) {\n    let firstRelTime = -1;\n    let lastRelTime = -1;\n    const series = props.plottedSignals\n      .map((signals) => {\n        const { messageId, signalUid } = signals;\n        const { entries } = props.messages[messageId];\n        if (entries.length) {\n          let messageRelTime = entries[0].relTime;\n          if (firstRelTime === -1) {\n            firstRelTime = messageRelTime;\n          } else {\n            firstRelTime = Math.min(firstRelTime, messageRelTime);\n          }\n          messageRelTime = entries[entries.length - 1].relTime;\n          lastRelTime = Math.max(lastRelTime, messageRelTime);\n        }\n        return GraphData._calcGraphData(\n          props.messages[messageId],\n          signalUid,\n          0\n        );\n      })\n      .reduce((m, v) => m.concat(v), []);\n\n    return {\n      updated: Date.now(),\n      series,\n      firstRelTime,\n      lastRelTime\n    };\n  }\n\n  getGraphSpec(props) {\n    return {\n      ...CanPlotSpec,\n      scales: [\n        {\n          ...CanPlotSpec.scales[0],\n          domainMin: props.segment[0],\n          domainMax: props.segment[1]\n        },\n        ...CanPlotSpec.scales.slice(1)\n      ]\n    };\n  }\n\n  segmentIsNew(newSegment) {\n    return (\n      newSegment.length !== this.props.segment.length\n      || !newSegment.every((val, idx) => this.props.segment[idx] === val)\n    );\n  }\n\n  visualChanged(prevProps, nextProps) {\n    return (\n      prevProps.canReceiveGraphDrop !== nextProps.canReceiveGraphDrop\n      || JSON.stringify(prevProps.dragPos) !== JSON.stringify(nextProps.dragPos)\n    );\n  }\n\n  onPlotResize(options) {\n    if (!this.view) {\n      return;\n    }\n\n    let bounds = null; // eslint-disable-line no-unused-vars\n    if (options && options.bounds) {\n      this.setState({ bounds: options.bounds });\n      bounds = options.bounds;\n    } else {\n      bounds = this.state.bounds;\n    }\n\n    this.view.runAfter(this.updateBounds);\n  }\n\n  updateBounds = debounce(() => {\n    this.view.signal('width', this.state.bounds.width - 90);\n    this.view.signal('height', 0.4 * (this.state.bounds.width - 40)); // 5:2 aspect ratio\n\n    this.view.run();\n  }, 100);\n\n  insertData = debounce(() => {\n    if (!this.view) {\n      console.log('Cannot insertData');\n      return;\n    }\n\n    // adding plot points by diff isn't faster since it basically has to be n^2\n    // out-of-order events make it so that you can't just check the bounds\n    const { series } = this.state.data;\n    const changeset = this.view\n      .changeset()\n      .remove((v) => true)\n      .insert(series);\n    this.view.change('table', changeset);\n    this.view.run();\n  }, 250);\n\n  componentDidUpdate(prevProps) {\n    if (this.props.dragPos && JSON.stringify(prevProps.dragPos) !== JSON.stringify(this.props.dragPos)) {\n      this.updateStyleFromDragPos(this.props.dragPos);\n    } else if (!this.props.dragPos && this.state.plotInnerStyle !== null) {\n      this.setState({ plotInnerStyle: null });\n    }\n\n    if (prevProps.messages !== this.props.messages || prevProps.plottedSignal !== this.props.plottedSignal) {\n      const data = this.getGraphData(this.props);\n      this.setState({ data });\n    }\n    if (this.segmentIsNew(this.props.segment)) {\n      this.setState({ spec: this.getGraphSpec(this.props) });\n    }\n\n    if (this.view) {\n      if (this.props.segment.length > 0) {\n        // Set segmented domain\n        this.view.signal('segment', this.props.segment);\n      } else {\n        // Reset segment to full domain\n        this.view.signal('segment', 0);\n      }\n      this.view.signal('videoTime', this.props.currentTime);\n      this.view.runAsync();\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (!this.view) {\n      return true;\n    }\n    if (this.props.messages !== nextProps.messages || this.props.plottedSignal !== nextProps.plottedSignal ||\n      this.segmentIsNew(nextProps.segment) || this.state.spec !== nextState.spec)\n    {\n      return true;\n    }\n    if (this.state.data !== nextState.data) {\n      this.insertData();\n    }\n    if (this.props.currentTime !== nextProps.currentTime) {\n      this.view.signal('videoTime', nextProps.currentTime);\n    }\n    if (this.segmentIsNew(nextProps.segment)) {\n      if (nextProps.segment.length > 0) {\n        // Set segmented domain\n        this.view.signal('segment', nextProps.segment);\n      } else {\n        // Reset segment to full domain\n        this.view.signal('segment', 0);\n      }\n    }\n    this.view.runAsync();\n    return false;\n  }\n\n  updateStyleFromDragPos({ left, top }) {\n    const plotInnerStyle = { ...this.state.plotInnerStyle };\n    plotInnerStyle.left = left;\n    plotInnerStyle.top = top;\n    this.setState({ plotInnerStyle });\n  }\n\n  onNewView(view) {\n    this.view = view;\n\n    if (this.state.bounds) {\n      this.onPlotResize();\n    }\n    if (this.props.segment.length > 0) {\n      view.signal('segment', this.props.segment);\n    }\n    view.signal('videoTime', this.props.currentTime);\n\n    this.insertData();\n  }\n\n  onSignalClickTime(signal, clickTime) {\n    // console.log('onSignalClickTime', signal, clickTime);\n    if (clickTime !== undefined) {\n      this.props.onRelativeTimeClick(this.props.messageId, clickTime);\n    }\n  }\n\n  onSignalSegment(signal, segment) {\n    // console.log('onSignalSegment', signal, segment);\n    if (!Array.isArray(segment)) {\n      return;\n    }\n\n    this.props.onSegmentChanged(this.props.messageId, segment);\n\n    if (!this.view) {\n      return;\n    }\n\n    this.view.runAfter(() => {\n      const state = this.view.getState();\n      state.subcontext[0].signals.brush = 0;\n      this.view.setState(state);\n      this.insertData();\n    });\n  }\n\n  plotInnerStyleFromMouseEvent(e) {\n    const { shiftX, shiftY } = this.state;\n    const plotInnerStyle = { ...DefaultPlotInnerStyle };\n    const rect = this.props.container.getBoundingClientRect();\n\n    const x = e.clientX - rect.left - shiftX;\n    const y = e.clientY - rect.top - shiftY;\n    plotInnerStyle.left = x;\n    plotInnerStyle.top = y;\n    return plotInnerStyle;\n  }\n\n  onDragAnchorMouseDown(e) {\n    e.persist();\n    const shiftX = e.clientX - e.target.getBoundingClientRect().left;\n    const shiftY = e.clientY - e.target.getBoundingClientRect().top;\n    this.setState({ shiftX, shiftY }, () => {\n      this.setState({ plotInnerStyle: this.plotInnerStyleFromMouseEvent(e) });\n    });\n    this.props.onDragStart(\n      this.props.messageId,\n      this.props.signalSpec.uid,\n      shiftX,\n      shiftY\n    );\n  }\n\n  onDragAnchorMouseUp(e) {\n    this.props.onDragEnd();\n    this.setState({\n      plotInnerStyle: null,\n      shiftX: 0,\n      shiftY: 0\n    });\n  }\n\n  onDragStart(e) {\n    e.preventDefault();\n    return false;\n  }\n\n  render() {\n    const { plotInnerStyle } = this.state;\n    const canReceiveDropClass = this.props.canReceiveGraphDrop\n      ? 'is-droppable'\n      : null;\n\n    return (\n      <div\n        className=\"cabana-explorer-visuals-plot\"\n        ref={this.props.onGraphRefAvailable}\n      >\n        <div\n          className={cx(\n            'cabana-explorer-visuals-plot-inner',\n            canReceiveDropClass\n          )}\n          style={plotInnerStyle || null}\n        >\n          <div\n            className=\"cabana-explorer-visuals-plot-draganchor\"\n            onMouseDown={this.onDragAnchorMouseDown}\n          >\n            <span className=\"fa fa-bars\" />\n          </div>\n          {this.props.plottedSignals.map(\n            ({ messageId, signalUid, messageName }) => {\n              const signal = Object.values(\n                this.props.messages[messageId].frame.signals\n              ).find((s) => s.uid === signalUid);\n              const colors = signal.getColors(messageId);\n\n              return (\n                <div\n                  className=\"cabana-explorer-visuals-plot-header\"\n                  key={`${messageId}_${signal.uid}`}\n                >\n                  <div className=\"cabana-explorer-visuals-plot-header-toggle\">\n                    <button\n                      className=\"button--tiny\"\n                      onClick={() => this.props.unplot(messageId, signalUid)}\n                    >\n                      <span>Hide Plot</span>\n                    </button>\n                  </div>\n                  <div className=\"cabana-explorer-visuals-plot-header-copy\">\n                    <div className=\"cabana-explorer-visuals-plot-message\">\n                      <span>\n                        {messageName}\n                        {' '}\n                        {messageId}\n                      </span>\n                    </div>\n                    <div className=\"cabana-explorer-visuals-plot-signal\">\n                      <div\n                        className=\"cabana-explorer-visuals-plot-signal-color\"\n                        style={{ background: `rgb(${colors}` }}\n                      />\n                      <strong>{signal.name}</strong>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n          <Measure bounds onResize={this.onPlotResize}>\n            {({ measureRef }) => (\n              <div\n                ref={measureRef}\n                className=\"cabana-explorer-visuals-plot-container\"\n              >\n                <Vega\n                  onNewView={this.onNewView}\n                  logLevel={1}\n                  signalListeners={{\n                    clickTime: this.onSignalClickTime,\n                    segment: this.onSignalSegment\n                  }}\n                  renderer=\"canvas\"\n                  spec={this.state.spec}\n                  actions={false}\n                  data={{\n                    table: this.state.data.series\n                  }}\n                />\n              </div>\n            )}\n          </Measure>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CanGraph from './CanGraph';\n\nexport default class CanGraphList extends Component {\n  static propTypes = {\n    plottedSignals: PropTypes.array.isRequired,\n    messages: PropTypes.object.isRequired,\n    onGraphTimeClick: PropTypes.func.isRequired,\n    seekTime: PropTypes.number.isRequired,\n    onSegmentChanged: PropTypes.func.isRequired,\n    onSignalUnplotPressed: PropTypes.func.isRequired,\n    segment: PropTypes.array.isRequired,\n    mergePlots: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      draggingSignal: {},\n      dragPos: null,\n      dragShift: null,\n      graphToReceiveDrop: null\n    };\n\n    this.plotListRef = React.createRef();\n    this.plotRefs = [];\n    this.renderSignalPlot = this.renderSignalPlot.bind(this);\n    this.onGraphDragStart = this.onGraphDragStart.bind(this);\n    this.onGraphDragEnd = this.onGraphDragEnd.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n  }\n\n  onGraphDragStart(messageId, signalUid, shiftX, shiftY) {\n    this.setState({\n      draggingSignal: { messageId, signalUid },\n      dragShift: { x: shiftX, y: shiftY }\n    });\n  }\n\n  determineDraggingGraph() {\n    const { draggingSignal } = this.state;\n    return this.plotRefs.find(\n      ({ messageId, signalUid }) => draggingSignal.messageId === messageId\n        && draggingSignal.signalUid === signalUid\n    );\n  }\n\n  onMouseMove(e) {\n    const { dragShift } = this.state;\n    if (dragShift === null) {\n      if (this.state.graphToReceiveDrop !== null) {\n        this.setState({ graphToReceiveDrop: null });\n      }\n      return;\n    }\n    const rect = this.plotListRef.current.getBoundingClientRect();\n    const draggingGraph = this.determineDraggingGraph();\n    if (draggingGraph) {\n      draggingGraph.ref.hidden = true;\n      const ele = document.elementFromPoint(e.clientX, e.clientY);\n      draggingGraph.ref.hidden = false;\n      const closestPlot = ele.closest('.cabana-explorer-visuals-plot');\n      const closestPlotRef = this.plotRefs.find(\n        ({ ref, messageId, signalUid }) => !(\n          messageId === draggingGraph.messageId\n            && signalUid === draggingGraph.signalUid\n        ) && ref.isEqualNode(closestPlot)\n      );\n      if (closestPlotRef) {\n        this.setState({ graphToReceiveDrop: closestPlotRef });\n      } else {\n        this.setState({ graphToReceiveDrop: null });\n      }\n    }\n    const left = e.clientX - rect.left - dragShift.x;\n    const top = e.clientY - rect.top - dragShift.y;\n\n    this.setState({ dragPos: { left, top } });\n  }\n\n  onGraphDragEnd() {\n    if (this.state.graphToReceiveDrop !== null) {\n      this.props.mergePlots({\n        fromPlot: this.state.draggingSignal,\n        toPlot: this.state.graphToReceiveDrop\n      });\n    }\n\n    this.setState({\n      draggingSignal: {},\n      dragShift: null,\n      dragPos: null,\n      graphToReceiveDrop: null\n    });\n  }\n\n  addCanGraphRef(ref, messageId, signalUid) {\n    if (ref) {\n      let { plotRefs } = this;\n      plotRefs = plotRefs\n        .filter(\n          (ref) => !(ref.messageId === messageId && ref.signalUid === signalUid)\n        )\n        .concat([{ messageId, signalUid, ref }]);\n      this.plotRefs = plotRefs;\n    }\n  }\n\n  renderSignalPlot(plottedSignals, index) {\n    const { draggingSignal, graphToReceiveDrop } = this.state;\n    const { messageId, signalUid } = plottedSignals[0];\n    const msg = this.props.messages[messageId];\n    if (!this.plotListRef.current || !msg) {\n      return [];\n    }\n\n    const signal = Object.values(msg.frame.signals).find(\n      (s) => s.uid === signalUid\n    );\n\n    if (!signal) {\n      return null;\n    }\n\n    const isDragging = draggingSignal.signalUid === signalUid\n      && draggingSignal.messageId === messageId;\n    const canReceiveGraphDrop = graphToReceiveDrop\n      && graphToReceiveDrop.signalUid === signalUid\n      && graphToReceiveDrop.messageId === messageId;\n    plottedSignals = plottedSignals.map((plottedSignal) => ({\n      messageName: this.props.messages[plottedSignal.messageId].frame.name,\n      ...plottedSignal\n    }));\n    const key = plottedSignals.reduce(\n      (key, { messageId, signalUid }) => `${key + messageId}_${signalUid}`,\n      ''\n    );\n    return (\n      <CanGraph\n        onGraphRefAvailable={(ref) => {\n          this.addCanGraphRef(ref, messageId, signalUid);\n        }}\n        key={key}\n        unplot={this.props.onSignalUnplotPressed}\n        messages={this.props.messages}\n        messageId={messageId}\n        messageName={msg.frame ? msg.frame.name : null}\n        signalSpec={Object.assign(Object.create(signal), signal)}\n        onSegmentChanged={this.props.onSegmentChanged}\n        segment={this.props.segment}\n        onRelativeTimeClick={this.props.onGraphTimeClick}\n        currentTime={this.props.seekTime}\n        onDragStart={this.onGraphDragStart}\n        onDragEnd={this.onGraphDragEnd}\n        container={this.plotListRef.current}\n        dragPos={isDragging ? this.state.dragPos : null}\n        canReceiveGraphDrop={canReceiveGraphDrop}\n        plottedSignals={plottedSignals}\n        live={this.props.live}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div\n        className=\"cabana-explorer-visuals-plots\"\n        ref={ this.plotListRef }\n        onMouseMove={this.onMouseMove}\n        onMouseLeave={this.onGraphDragEnd}\n        onMouseUp={this.onGraphDragEnd}\n      >\n        {this.props.plottedSignals.map(this.renderSignalPlot)}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Hls from '@commaai/hls.js';\n\nexport default class HLS extends Component {\n  static propTypes = {\n    source: PropTypes.string.isRequired,\n    startTime: PropTypes.number.isRequired,\n    playbackSpeed: PropTypes.number.isRequired,\n    playing: PropTypes.bool.isRequired,\n    onVideoElementAvailable: PropTypes.func,\n    onClick: PropTypes.func,\n    onLoadStart: PropTypes.func,\n    onLoadEnd: PropTypes.func,\n    onPlaySeek: PropTypes.func,\n    onRestart: PropTypes.func\n  };\n\n  componentDidUpdate(prevProps) {\n    this.videoElement.playbackRate = this.props.playbackSpeed;\n\n    if (prevProps.source !== this.props.source) {\n      this.loadSource(this.props.source);\n    }\n    if (this.props.playing) {\n      if (this.videoElement && (this.videoElement.paused || this.videoElement.currentTime < 0.01)) {\n        this.videoElement.play();\n      }\n    } else {\n      this.videoElement.pause();\n    }\n  }\n\n  componentDidMount() {\n    this.player = new Hls({\n      enableWorker: false,\n      disablePtsDtsCorrectionInMp4Remux: false,\n    });\n    this.player.on(Hls.Events.ERROR, (event, data) => {\n      if (data.fatal) {\n        switch (data.type) {\n          case Hls.ErrorTypes.NETWORK_ERROR:\n          // try to recover network error\n            console.log('fatal network error encountered, try to recover');\n            this.player.startLoad();\n            break;\n          case Hls.ErrorTypes.MEDIA_ERROR:\n            console.log('fatal media error encountered, try to recover');\n            this.player.recoverMediaError();\n            break;\n          default:\n          // cannot recover\n            this.player.destroy();\n            this.player = null;\n            break;\n        }\n      }\n    });\n    this.loadSource();\n  }\n\n  onSeeking = () => {\n    if (!this.props.playing) {\n      this.props.onLoadStart();\n      this.props.onPlaySeek(this.videoElement.currentTime);\n    }\n  };\n\n  // legacy outer scope variable. Revisit this to see if putting in state\n  // makes more sense\n  shouldInitVideoTime = true;\n\n  onSeeked = () => {\n    if (!this.props.playing) {\n      this.props.onLoadEnd();\n    }\n  };\n\n  onLoadedData = () => {\n    if (this.shouldInitVideoTime) {\n      this.videoElement.currentTime = this.props.startTime;\n      this.shouldInitVideoTime = false;\n    }\n  };\n\n  loadSource(source = this.props.source) {\n    if (this.videoElement) {\n      this.player.loadSource(source);\n      this.player.attachMedia(this.videoElement);\n      this.props.onVideoElementAvailable(this.videoElement);\n    }\n  }\n\n  componentWillUnmount() {\n    // destroy hls video source\n    if (this.player) {\n      this.player.destroy();\n      this.player = null;\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"cabana-explorer-visuals-camera-wrapper\"\n        onClick={this.props.onClick}\n      >\n        <video\n          ref={(video) => {\n            this.videoElement = video;\n          }}\n          autoPlay={this.props.playing}\n          muted\n          onWaiting={this.props.onLoadStart}\n          onPlaying={this.props.onLoadEnd}\n          onSeeking={this.onSeeking}\n          onSeeked={this.onSeeked}\n          onLoadedData={this.onLoadedData}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class PlayButton extends Component {\n  static propTypes = {\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    isPlaying: PropTypes.bool,\n    className: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { hover: false };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  imageSource() {\n    const { hover } = this.state;\n    const { isPlaying } = this.props;\n    if (isPlaying) {\n      if (hover) {\n        return `${process.env.PUBLIC_URL}/img/ic_pause_circle_filled_white_24px.svg`;\n      }\n      return `${process.env.PUBLIC_URL}/img/ic_pause_circle_outline_white_24px.svg`;\n    }\n    if (hover) {\n      return `${process.env.PUBLIC_URL}/img/ic_play_circle_filled_white_24px.svg`;\n    }\n    return `${process.env.PUBLIC_URL}/img/ic_play_circle_outline_white_24px.svg`;\n  }\n\n  onClick(e) {\n    const { isPlaying } = this.props;\n\n    if (!isPlaying) {\n      this.props.onPlay();\n    } else {\n      this.props.onPause();\n    }\n  }\n\n  render() {\n    return (\n      <img\n        src={this.imageSource()}\n        alt={this.props.isPlaying ? 'Pause' : 'Play'}\n        className={this.props.className}\n        onClick={this.onClick}\n        onMouseOver={() => this.setState({ hover: true })}\n        onMouseLeave={() => this.setState({ hover: false })}\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PlayButton from '../PlayButton';\nimport debounce from '../../utils/debounce';\n\nexport default class RouteSeeker extends Component {\n  static propTypes = {\n    videoLength: PropTypes.number.isRequired,\n    segmentIndices: PropTypes.arrayOf(PropTypes.number),\n    segment: PropTypes.arrayOf(PropTypes.number),\n    onUserSeek: PropTypes.func,\n    onPlaySeek: PropTypes.func,\n    video: PropTypes.node,\n    onPause: PropTypes.func,\n    onPlay: PropTypes.func,\n    playing: PropTypes.bool,\n    segmentProgress: PropTypes.func,\n    ratioTime: PropTypes.func,\n    nearestFrameTime: PropTypes.number\n  };\n\n  static hiddenMarkerStyle = { display: 'none', left: 0 };\n\n  static zeroSeekedBarStyle = { width: 0 };\n\n  static hiddenTooltipStyle = { display: 'none', left: 0 };\n\n  static markerWidth = 20;\n\n  static tooltipWidth = 50;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      seekedBarStyle: RouteSeeker.zeroSeekedBarStyle,\n      markerStyle: RouteSeeker.hiddenMarkerStyle,\n      tooltipStyle: RouteSeeker.hiddenTooltipStyle,\n      ratio: 0,\n      tooltipTime: '0:00',\n      isPlaying: false,\n      isDragging: false\n    };\n\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onPlay = this.onPlay.bind(this);\n    this.onPause = this.onPause.bind(this);\n    this.executePlayTimer = this.executePlayTimer.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (JSON.stringify(prevProps.segmentIndices) !== JSON.stringify(this.props.segmentIndices)) {\n      this.setState({\n        seekedBarStyle: RouteSeeker.zeroSeekedBarStyle,\n        markerStyle: RouteSeeker.hiddenMarkerStyle,\n        ratio: 0\n      });\n    } else if (this.props.videoLength && prevProps.videoLength !== this.props.videoLength) {\n      // adjust ratio in line with new videoLength\n      const secondsSeeked = this.state.ratio * prevProps.videoLength;\n      const newRatio = secondsSeeked / this.props.videoLength;\n      this.updateSeekedBar(newRatio);\n    }\n\n    if (prevProps.nearestFrameTime !== this.props.nearestFrameTime) {\n      const newRatio = this.props.segmentProgress(this.props.nearestFrameTime);\n      this.updateSeekedBar(newRatio);\n    }\n\n    if (prevProps.playing !== this.props.isPlaying) {\n      if (this.props.playing && !this.state.isPlaying) {\n        this.onPlay();\n      } else if (!this.props.playing && this.state.isPlaying) {\n        this.onPause();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    window.cancelAnimationFrame(this.playTimer);\n  }\n\n  mouseEventXOffsetPercent(e) {\n    const rect = this.progressBar.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n\n    return 100 * (x / this.progressBar.offsetWidth);\n  }\n\n  updateDraggingSeek = debounce((ratio) => this.props.onUserSeek(ratio), 250);\n\n  onMouseMove(e) {\n    const markerOffsetPct = this.mouseEventXOffsetPercent(e);\n    if (markerOffsetPct < 0) {\n      this.onMouseLeave();\n      return;\n    }\n    const { markerWidth } = RouteSeeker;\n\n    const markerLeft = `calc(${markerOffsetPct}% - ${markerWidth / 2}px)`;\n    const markerStyle = {\n      display: '',\n      left: markerLeft\n    };\n    const { tooltipWidth } = RouteSeeker;\n    const tooltipLeft = `calc(${markerOffsetPct}% - ${tooltipWidth / 2}px)`;\n\n    const tooltipStyle = { display: 'flex', left: tooltipLeft };\n    const ratio = Math.max(0, markerOffsetPct / 100);\n    if (this.state.isDragging) {\n      this.updateSeekedBar(ratio);\n      this.updateDraggingSeek(ratio);\n    }\n\n    this.setState({\n      markerStyle,\n      tooltipStyle,\n      tooltipTime: this.props.ratioTime(ratio).toFixed(3)\n    });\n  }\n\n  onMouseLeave(e) {\n    this.setState({\n      markerStyle: RouteSeeker.hiddenMarkerStyle,\n      tooltipStyle: RouteSeeker.hiddenTooltipStyle,\n      isDragging: false\n    });\n  }\n\n  updateSeekedBar(ratio) {\n    const seekedBarStyle = { width: `${100 * ratio}%` };\n    this.setState({ seekedBarStyle, ratio });\n  }\n\n  onClick(e) {\n    let ratio = this.mouseEventXOffsetPercent(e) / 100;\n    ratio = Math.min(1, Math.max(0, ratio));\n    this.updateSeekedBar(ratio);\n    this.props.onUserSeek(ratio);\n  }\n\n  onPlay() {\n    this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n    let { ratio } = this.state;\n    if (ratio >= 1) {\n      ratio = 0;\n    }\n    this.setState({ isPlaying: true, ratio });\n    this.props.onPlay();\n  }\n\n  executePlayTimer() {\n    const { videoElement } = this.props;\n    if (videoElement === null) {\n      this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n      return;\n    }\n\n    let { videoLength, startTime } = this.props;\n    let { currentTime } = videoElement;\n\n    currentTime = roundTime(currentTime);\n    startTime = roundTime(startTime);\n    videoLength = roundTime(videoLength);\n\n    let newRatio = (currentTime - startTime) / videoLength;\n\n    if (newRatio === this.state.ratio) {\n      this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n      return;\n    }\n\n    if ((newRatio >= 1 && this.props.segment && this.props.segment.length) || newRatio < 0) {\n      newRatio = 0;\n      currentTime = startTime;\n      this.props.onUserSeek(newRatio);\n    } else if (newRatio >= 1) {\n      videoElement.pause();\n      this.onPause();\n    }\n\n    if (newRatio >= 0) {\n      this.updateSeekedBar(newRatio);\n      this.props.onPlaySeek(currentTime);\n    }\n\n    this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n  }\n\n  onPause() {\n    window.cancelAnimationFrame(this.playTimer);\n    this.setState({ isPlaying: false });\n    this.props.onPause();\n  }\n\n  onMouseDown() {\n    if (!this.state.isDragging) {\n      this.setState({ isDragging: true });\n    }\n  }\n\n  onMouseUp() {\n    if (this.state.isDragging) {\n      this.setState({ isDragging: false });\n    }\n  }\n\n  render() {\n    const { seekedBarStyle, markerStyle, tooltipStyle } = this.state;\n    return (\n      <div className=\"cabana-explorer-visuals-camera-seeker\">\n        <PlayButton\n          className=\"cabana-explorer-visuals-camera-seeker-playbutton\"\n          onPlay={this.onPlay}\n          onPause={this.onPause}\n          isPlaying={this.state.isPlaying}\n        />\n        <div\n          className=\"cabana-explorer-visuals-camera-seeker-progress\"\n          onMouseMove={this.onMouseMove}\n          onMouseLeave={this.onMouseLeave}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n          onClick={this.onClick}\n          ref={(ref) => (this.progressBar = ref)}\n        >\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-tooltip\"\n            style={tooltipStyle}\n          >\n            {this.state.tooltipTime}\n          </div>\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-marker\"\n            style={markerStyle}\n          />\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-inner\"\n            style={seekedBarStyle}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction roundTime(time) {\n  return Math.round(time * 1000) / 1000;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { StyleSheet, css } from 'aphrodite/no-important';\nimport { video as VideoApi } from '@commaai/comma-api';\n\nimport HLS from './HLS';\nimport RouteSeeker from './RouteSeeker/RouteSeeker';\n\nconst Styles = StyleSheet.create({\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 3\n  },\n  loadingSpinner: {\n    width: '25%',\n    height: '25%',\n    display: 'block'\n  },\n  img: {\n    height: 480,\n    display: 'block',\n    position: 'absolute',\n    zIndex: 2\n  },\n  hls: {\n    zIndex: 1,\n    height: 480,\n    backgroundColor: 'rgba(0,0,0,0.9)'\n  },\n  seekBar: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 4\n  }\n});\n\nexport default class RouteVideoSync extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      videoElement: null,\n      source: null,\n    };\n\n    this.onLoadStart = this.onLoadStart.bind(this);\n    this.onLoadEnd = this.onLoadEnd.bind(this);\n    this.segmentProgress = this.segmentProgress.bind(this);\n    this.onVideoElementAvailable = this.onVideoElementAvailable.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onPlaySeek = this.onPlaySeek.bind(this);\n    this.ratioTime = this.ratioTime.bind(this);\n  }\n\n  componentDidMount() {\n    let videoApi = VideoApi(this.props.url);\n    videoApi.getQcameraStreamIndex().then(() => {\n      this.setState({source: videoApi.getQcameraStreamIndexUrl() + `?s=${this.props.maxqcamera}`});\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    const { userSeekTime } = this.props;\n    const { videoElement } = this.state;\n\n    if (\n      prevProps.userSeekTime\n      && userSeekTime !== prevProps.userSeekTime\n    ) {\n      if (videoElement) {\n        videoElement.currentTime = userSeekTime - this.props.videoOffset;\n      }\n    }\n  }\n\n  onVideoElementAvailable(videoElement) {\n    this.setState({ videoElement });\n  }\n\n  onUserSeek(ratio) {\n    /* ratio in [0,1] */\n\n    const { videoElement } = this.state;\n    const { onUserSeek } = this.props;\n    const seekTime = this.ratioTime(ratio);\n    const funcSeekToRatio = () => onUserSeek(seekTime);\n\n    if (Number.isNaN(videoElement.duration)) {\n      return;\n    }\n    videoElement.currentTime = seekTime - this.props.videoOffset;\n\n    if (ratio !== 0) {\n      funcSeekToRatio();\n    }\n  }\n\n  onPlaySeek(offset) {\n    this.seekTime = offset + this.props.videoOffset;\n    this.props.onPlaySeek(this.seekTime);\n  }\n\n  onLoadStart() {\n    this.setState({\n      isLoading: true\n    });\n  }\n\n  onLoadEnd() {\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  loadingOverlay() {\n    return (\n      <div className={css(Styles.loadingOverlay)}>\n        <img\n          className={css(Styles.loadingSpinner)}\n          src={`${process.env.PUBLIC_URL}/img/loading.svg`}\n          alt=\"Loading video\"\n        />\n      </div>\n    );\n  }\n\n  videoLength() {\n    if (this.props.segment.length) {\n      return this.props.segment[1] - this.props.segment[0];\n    }\n\n    if (this.state.videoElement) {\n      return this.state.videoElement.duration;\n    }\n\n    return 0;\n  }\n\n  startTime() {\n    if (this.props.segment.length) {\n      return this.props.segment[0];\n    }\n\n    return 0;\n  }\n\n  segmentProgress(currentTime) {\n    // returns progress as number in [0,1]\n    const startTime = this.startTime();\n\n    if (currentTime < startTime) {\n      currentTime = startTime;\n    }\n\n    const ratio = (currentTime - startTime) / this.videoLength();\n    return Math.max(0, Math.min(1, ratio));\n  }\n\n  ratioTime(ratio) {\n    return ratio * this.videoLength() + this.startTime();\n  }\n\n  render() {\n    const {\n      isLoading,\n      videoElement,\n    } = this.state;\n    const {\n      userSeekTime,\n      playSpeed,\n      playing,\n      onVideoClick,\n      segmentIndices,\n      startTime,\n      segment\n    } = this.props;\n\n    return (\n      <div className=\"cabana-explorer-visuals-camera\">\n        {isLoading ? this.loadingOverlay() : null}\n        {this.state.source && <HLS\n          className={css(Styles.hls)}\n          source={this.state.source}\n          startTime={(startTime || 0) - this.props.videoOffset}\n          videoLength={this.videoLength()}\n          playbackSpeed={playSpeed}\n          onVideoElementAvailable={this.onVideoElementAvailable}\n          playing={playing}\n          onClick={onVideoClick}\n          onLoadStart={this.onLoadStart}\n          onLoadEnd={this.onLoadEnd}\n          onUserSeek={this.onUserSeek}\n          onPlaySeek={this.onPlaySeek}\n        />}\n        <RouteSeeker\n          className={css(Styles.seekBar)}\n          nearestFrameTime={userSeekTime}\n          segmentProgress={this.segmentProgress}\n          startTime={this.startTime() - this.props.videoOffset}\n          videoLength={this.videoLength()}\n          segmentIndices={segmentIndices}\n          onUserSeek={this.onUserSeek}\n          onPlaySeek={this.onPlaySeek}\n          videoElement={videoElement}\n          onPlay={this.props.onPlay}\n          onPause={this.props.onPause}\n          playing={this.props.playing}\n          ratioTime={this.ratioTime}\n          segment={segment}\n        />\n      </div>\n    );\n  }\n}\n\nRouteVideoSync.propTypes = {\n  segment: PropTypes.array.isRequired,\n  maxqcamera: PropTypes.number,\n  thumbnails: PropTypes.array,\n  url: PropTypes.string.isRequired,\n  playing: PropTypes.bool.isRequired,\n  onPlaySeek: PropTypes.func.isRequired,\n  onUserSeek: PropTypes.func.isRequired,\n  onPlay: PropTypes.func.isRequired,\n  onPause: PropTypes.func.isRequired,\n  userSeekTime: PropTypes.number.isRequired,\n  playSpeed: PropTypes.number.isRequired,\n  onVideoClick: PropTypes.func,\n  segmentIndices: PropTypes.array,\n  startTime: PropTypes.number\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactList from 'react-list';\n\nimport cx from 'classnames';\n\nexport default class CanLog extends Component {\n  static ITEMS_PER_PAGE = 50;\n\n  static propTypes = {\n    plottedSignals: PropTypes.array,\n    segmentIndices: PropTypes.array,\n    onSignalUnplotPressed: PropTypes.func,\n    onSignalPlotPressed: PropTypes.func,\n    message: PropTypes.object,\n    messageIndex: PropTypes.number,\n    onMessageExpanded: PropTypes.func\n  };\n\n  constructor(props) {\n    super(props);\n    // only want to display up to length elements at a time\n    // offset, length\n\n    this.state = {\n      length: 0,\n      expandedMessages: [],\n      messageHeights: [],\n      allPacketsExpanded: false\n    };\n\n    this.renderLogListItemMessage = this.renderLogListItemMessage.bind(this);\n    this.addDisplayedMessages = this.addDisplayedMessages.bind(this);\n    this.renderLogListItem = this.renderLogListItem.bind(this);\n    this.renderLogList = this.renderLogList.bind(this);\n    this.onExpandAllChanged = this.onExpandAllChanged.bind(this);\n    this.toggleExpandAllPackets = this.toggleExpandAllPackets.bind(this);\n    this.toggleSignalPlot = this.toggleSignalPlot.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.message && this.props.message) {\n      this.addDisplayedMessages();\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const curMessageLength = this.props.message\n      ? this.props.message.entries.length\n      : 0;\n    const nextMessageLength = nextProps.message\n      ? nextProps.message.entries.length\n      : 0;\n\n    const shouldUpdate = this.props.message !== nextProps.message\n      || nextMessageLength !== curMessageLength\n      || nextProps.messageIndex !== this.props.messageIndex\n      || nextProps.plottedSignals.length !== this.props.plottedSignals.length\n      || JSON.stringify(nextProps.segmentIndices)\n        !== JSON.stringify(this.props.segmentIndices)\n      || JSON.stringify(nextState) !== JSON.stringify(this.state)\n      || this.props.message !== nextProps.message\n      || (this.props.message !== undefined\n        && nextProps.message !== undefined\n        && this.props.message.frame !== undefined\n        && nextProps.message.frame !== undefined\n        && JSON.stringify(this.props.message.frame)\n          !== JSON.stringify(nextProps.message.frame));\n\n    return shouldUpdate;\n  }\n\n  addDisplayedMessages() {\n    const { length } = this.state;\n    const newLength = length + CanLog.ITEMS_PER_PAGE;\n\n    this.setState({ length: newLength });\n  }\n\n  expandMessage(msg, msgIdx) {\n    this.setState({\n      expandedMessages: this.state.expandedMessages.concat([msg.time])\n    });\n    this.props.onMessageExpanded();\n  }\n\n  collapseMessage(msg, msgIdx) {\n    this.setState({\n      expandedMessages: this.state.expandedMessages.filter(\n        (expMsgTime) => expMsgTime !== msg.time\n      )\n    });\n  }\n\n  isSignalPlotted(msgId, signalUid) {\n    const plottedSignal = this.props.plottedSignals.find((plot) => plot.some(\n      (signal) => signal.messageId === msgId && signal.signalUid === signalUid\n    ));\n    return plottedSignal !== undefined;\n  }\n\n  signalValuePretty(signal, value) {\n    if (signal.isFloat) {\n      return value.toFixed(3);\n    }\n    if (typeof value === 'bigint') {\n      return value.toString();\n    }\n    return value;\n  }\n\n  isMessageExpanded(msg) {\n    return this.state.expandedMessages.indexOf(msg.time) !== -1;\n  }\n\n  toggleSignalPlot(msg, signalUid, plotted) {\n    if (!plotted) {\n      this.props.onSignalPlotPressed(msg, signalUid);\n    } else {\n      this.props.onSignalUnplotPressed(msg, signalUid);\n    }\n  }\n\n  toggleExpandPacketSignals(msgEntry) {\n    if (!this.props.message.frame) {\n      return;\n    }\n    const msgIsExpanded = this.state.allPacketsExpanded || this.isMessageExpanded(msgEntry);\n\n    const msgHasSignals = Object.keys(this.props.message.frame.signals).length > 0;\n    if (msgIsExpanded && msgHasSignals) {\n      this.setState({\n        expandedMessages: this.state.expandedMessages.filter(\n          (expMsgTime) => expMsgTime !== msgEntry.time\n        )\n      });\n    } else if (msgHasSignals) {\n      this.setState({\n        expandedMessages: this.state.expandedMessages.concat([msgEntry.time])\n      });\n      this.props.onMessageExpanded();\n    } else {\n    }\n  }\n\n  renderLogListItemSignals(msgEntry) {\n    const { message } = this.props;\n    return (\n      <div className=\"signals-log-list-signals\">\n        {Object.entries(msgEntry.signals).map(([name, value]) => {\n          const signal = message.frame.signals[name];\n          if (signal === undefined) {\n            // Signal removed?\n            return null;\n          }\n          const unit = signal.unit.length > 0 ? signal.unit : 'units';\n          const isPlotted = this.isSignalPlotted(message.id, signal.uid);\n          const plottedButtonClass = isPlotted ? null : 'button--alpha';\n          const plottedButtonText = isPlotted ? 'Hide Plot' : 'Show Plot';\n          return (\n            <div key={name} className=\"signals-log-list-signal\">\n              <div className=\"signals-log-list-signal-message\">\n                <span>{name}</span>\n              </div>\n              <div className=\"signals-log-list-signal-value\">\n                <span>\n                  (\n                  <strong>{this.signalValuePretty(signal, value)}</strong>\n                  {' '}\n                  {unit}\n)\n                </span>\n              </div>\n              <div\n                className=\"signals-log-list-signal-action\"\n                onClick={() => {\n                  this.toggleSignalPlot(message.id, signal.uid, isPlotted);\n                }}\n              >\n                <button className={cx('button--tiny', plottedButtonClass)}>\n                  <span>{plottedButtonText}</span>\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  renderLogListItemMessage(msgEntry, key) {\n    const { message } = this.props;\n    const msgIsExpanded = this.state.allPacketsExpanded || this.isMessageExpanded(msgEntry);\n    const msgHasSignals = Object.keys(msgEntry.signals).length > 0;\n    const hasSignalsClass = msgHasSignals ? 'has-signals' : null;\n    const expandedClass = msgIsExpanded ? 'is-expanded' : null;\n\n    const msgHexs = [];\n    for (let i = 0; i < msgEntry.data.length; i += 8) {\n      msgHexs.push(msgEntry.hexData.substring(2 * i, 2 * Math.min(i + 8, msgEntry.data.length)));\n    }\n\n    const row = (\n      <div\n        key={key}\n        className={cx('signals-log-list-item', hasSignalsClass, expandedClass)}\n      >\n        <div\n          className=\"signals-log-list-item-header\"\n          onClick={() => {\n            this.toggleExpandPacketSignals(msgEntry);\n          }}\n        >\n          <div className=\"signals-log-list-message\">\n            <strong>\n              {(message.frame ? message.frame.name : null) || message.id}\n            </strong>\n          </div>\n          <div className=\"signals-log-list-time\">\n            <span>[{msgEntry.relTime.toFixed(3)}]</span>\n          </div>\n          <div className=\"signals-log-list-bytes\">\n            { msgHexs.map((hx, i) => <span key={ i } className=\"t-mono\">{ hx }</span> )}\n          </div>\n        </div>\n        <div className=\"signals-log-list-item-body\">\n          {msgIsExpanded ? this.renderLogListItemSignals(msgEntry) : null}\n        </div>\n      </div>\n    );\n\n    return row;\n  }\n\n  renderLogListItem(index, key) {\n    let offset = this.props.messageIndex;\n    if (offset === 0 && this.props.segmentIndices.length === 2) {\n      offset = this.props.segmentIndices[0];\n    }\n    if (offset + index < 0) {\n      debugger;\n    }\n    if (offset + index < this.props.message.entries.length) {\n      return this.renderLogListItemMessage(\n        this.props.message.entries[offset + index],\n        key\n      );\n    }\n    return null;\n  }\n\n  renderLogList(items, ref) {\n    return (\n      <div className=\"signals-log-list\">\n        <div className=\"signals-log-list-header\">\n          <div className=\"signals-log-list-message\">Message</div>\n          <div className=\"signals-log-list-time\">Time</div>\n          <div className=\"signals-log-list-bytes\">Bytes</div>\n        </div>\n        <div className=\"signals-log-list-items\" ref={ref}>\n          {items}\n        </div>\n      </div>\n    );\n  }\n\n  listLength() {\n    const { segmentIndices, messageIndex } = this.props;\n    if (messageIndex > 0) {\n      return this.props.message.entries.length - messageIndex;\n    }\n    if (segmentIndices.length === 2) {\n      return segmentIndices[1] - segmentIndices[0];\n    }\n    if (this.props.message) {\n      return this.props.message.entries.length;\n    }\n    // no message yet\n    return 0;\n  }\n\n  onExpandAllChanged(e) {\n    this.setState({ allPacketsExpanded: e.target.checked });\n  }\n\n  toggleExpandAllPackets() {\n    this.setState({ allPacketsExpanded: !this.state.allPacketsExpanded });\n  }\n\n  render() {\n    const expandAllText = this.state.allPacketsExpanded\n      ? 'Collapse All'\n      : 'Expand All';\n    const expandAllClass = this.state.allPacketsExpanded\n      ? null\n      : 'button--alpha';\n    return (\n      <div className=\"cabana-explorer-signals-log\">\n        <div className=\"cabana-explorer-signals-log-header\">\n          <strong>Message Packets</strong>\n          <button\n            className={cx('button--tiny', expandAllClass)}\n            onClick={this.toggleExpandAllPackets}\n          >\n            {expandAllText}\n          </button>\n        </div>\n        <div className=\"cabana-explorer-signals-log-body\">\n          <ReactList\n            itemRenderer={this.renderLogListItem}\n            itemsRenderer={this.renderLogList}\n            length={this.listLength()}\n            pageSize={50}\n            updateWhenThisValueChanges={this.props.messageIndex}\n            type=\"variable\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","function findTimeIndex(entries, time) {\n  return entries.findIndex((e) => e.time >= time);\n}\n\nfunction findRelativeTimeIndex(entries, relTime) {\n  return entries.findIndex((e) => e.relTime >= relTime);\n}\n\nfunction findSegmentIndices(\n  entries,\n  [segmentTimeLow, segmentTimeHi],\n  isRelative\n) {\n  /*\n    Finds pair of indices (inclusive, exclusive) within entries array\n    whose timestamps match segmentTimeLow and segmentTimeHi.\n    if isRelative === true, then the segment times\n    are assumed to correspond to the `relTime` field of each entry.\n\n    Returns `[segmentIdxLow, segmentIdxHigh]`\n             (inclusive, exclusive)\n    */\n  const timeIndexFunc = isRelative === true ? findRelativeTimeIndex : findTimeIndex;\n\n  const segmentIdxLow = Math.max(0, timeIndexFunc(entries, segmentTimeLow));\n\n  const upperSegments = entries.slice(segmentIdxLow);\n  const upperSegmentIdxHi = timeIndexFunc(upperSegments, segmentTimeHi);\n  const segmentIdxHi = upperSegmentIdxHi >= 0\n    ? upperSegmentIdxHi + segmentIdxLow + 1\n    : entries.length - 1;\n\n  return [\n    segmentIdxLow,\n    Math.max(0, Math.min(segmentIdxHi, entries.length - 1))\n  ];\n}\n\nexport default { findTimeIndex, findRelativeTimeIndex, findSegmentIndices };\n","import React, { Component } from 'react';\n\nexport default class PlaySpeedSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(value) {\n    if (this.props.onPlaySpeedChanged) {\n      this.props.onPlaySpeedChanged(Number(value.currentTarget.value));\n    }\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: 'inline-block',\n          float: 'right',\n          margin: 10\n        }}\n      >\n        <label>Play speed:&nbsp;</label>\n        <select\n          id=\"playSpeed\"\n          style={{\n            width: 70\n          }}\n          onChange={this.onChange}\n          value={this.props.playSpeed}\n        >\n          <option value=\"0.1\">0.1x</option>\n          <option value=\"0.5\">0.5x</option>\n          <option value=\"1\">1x</option>\n          <option value=\"2\">2x</option>\n        </select>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport cx from 'classnames';\n\nimport AddSignals from './AddSignals';\nimport CanGraphList from './CanGraphList';\nimport RouteVideoSync from './RouteVideoSync';\nimport CanLog from './CanLog';\nimport Entries from '../models/can/entries';\nimport debounce from '../utils/debounce';\nimport PlaySpeedSelector from './PlaySpeedSelector';\n\nfunction clipSegment(_segment, _segmentIndices, nextMessage) {\n  let segment = _segment;\n  let segmentIndices = _segmentIndices;\n  if (segment.length === 2) {\n    const segmentStartIdx = nextMessage.entries.findIndex(\n      (e) => e.relTime >= segment[0]\n    );\n    let segmentEndIdx = nextMessage.entries.findIndex(\n      (e) => e.relTime >= segment[1]\n    );\n    if (segmentStartIdx !== -1) {\n      if (segmentEndIdx === -1) {\n        // previous segment end is past bounds of this message\n        segmentEndIdx = nextMessage.entries.length - 1;\n      }\n      const segmentStartTime = nextMessage.entries[segmentStartIdx].relTime;\n      const segmentEndTime = nextMessage.entries[segmentEndIdx].relTime;\n\n      segment = [segmentStartTime, segmentEndTime];\n      segmentIndices = [segmentStartIdx, segmentEndIdx];\n    } else {\n      // segment times are out of boudns for this message\n      segment = [];\n      segmentIndices = [];\n    }\n  }\n\n  return { segment, segmentIndices };\n}\n\nexport default class Explorer extends Component {\n  updateSegment = debounce((messageId, _segment) => {\n    let segment = _segment;\n    const { messages, selectedMessage, currentParts } = this.props;\n    const { entries } = messages[selectedMessage];\n    let segmentIndices = Entries.findSegmentIndices(entries, segment, true);\n\n    // console.log(this.state.segment, '->', segment, segmentIndices);\n    if (\n      segment[0] === currentParts[0] * 60\n      && segment[1] === (currentParts[1] + 1) * 60\n    ) {\n      segment = [];\n      segmentIndices = [];\n    }\n    let { userSeekTime } = this.state;\n    if (segment.length) {\n      userSeekTime = Math.max(segment[0], userSeekTime);\n      userSeekTime = Math.min(segment[1], userSeekTime);\n    } else {\n      userSeekTime = Math.max(currentParts[0] * 60, userSeekTime);\n      userSeekTime = Math.min(currentParts[1] * 60, userSeekTime);\n    }\n    this.setState({\n      segment,\n      segmentIndices,\n      userSeekIndex: segmentIndices[0],\n      userSeekTime\n    });\n  }, 250);\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      plottedSignals: [],\n      segment: props.startSegments || [],\n      segmentIndices: [],\n      shouldShowAddSignal: true,\n      userSeekIndex: 0,\n      userSeekTime: 0,\n      playing: props.autoplay,\n      playSpeed: 1\n    };\n\n    this.onSignalPlotPressed = this.onSignalPlotPressed.bind(this);\n    this.onSignalUnplotPressed = this.onSignalUnplotPressed.bind(this);\n    this.onSegmentChanged = this.onSegmentChanged.bind(this);\n    this.showAddSignal = this.showAddSignal.bind(this);\n    this.onGraphTimeClick = this.onGraphTimeClick.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onPlaySeek = this.onPlaySeek.bind(this);\n    this.onPlay = this.onPlay.bind(this);\n    this.onPause = this.onPause.bind(this);\n    this.onVideoClick = this.onVideoClick.bind(this);\n    this.onSignalPlotChange = this.onSignalPlotChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.mergePlots = this.mergePlots.bind(this);\n    this.toggleShouldShowAddSignal = this.toggleShouldShowAddSignal.bind(this);\n    this.changePlaySpeed = this.changePlaySpeed.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (e.keyCode === 27) {\n      // escape\n      this.resetSegment();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevMessage = prevProps.messages[prevProps.selectedMessage];\n    const curMessage = this.props.messages[this.props.selectedMessage];\n\n    if (Object.keys(prevProps.messages).length === 0 && Object.keys(this.props.messages).length !== 0) {\n      this.resetSegment();\n    }\n\n    if (curMessage && curMessage.frame && prevMessage !== curMessage) {\n      if (Object.keys(curMessage.frame.signals).length === 0) {\n        this.setState({ shouldShowAddSignal: true });\n      }\n    }\n\n    // remove plottedSignals that no longer exist\n    const newPlottedSignals = this.state.plottedSignals\n      .map((plot) => plot.filter(({ messageId, signalUid }) => {\n        const messageExists = Boolean(this.props.messages[messageId]);\n        let signalExists = true;\n        if (messageExists) {\n          signalExists = Object.values(this.props.messages[messageId].frame.signals)\n            .some((signal) => signal.uid === signalUid);\n        }\n\n        return messageExists && signalExists;\n      }))\n      .filter((plot) => plot.length > 0);\n\n    if (this.state.plottedSignals.length !== newPlottedSignals.length) {\n      this.setState({ plottedSignals: newPlottedSignals });\n    }\n\n    if (this.props.selectedMessage && prevProps.selectedMessage !== this.props.selectedMessage) {\n      // Update segment and seek state by finding a entry indices corresponding to old message segment/seek times.\n\n      const { segment, segmentIndices } = clipSegment(\n        this.state.segment,\n        this.state.segmentIndices,\n        curMessage\n      );\n\n      this.setState({\n        segment,\n        segmentIndices,\n        userSeekIndex: this.props.seekIndex,\n      });\n    }\n\n    if (prevMessage && curMessage && prevMessage.entries.length !== curMessage.entries.length) {\n      const { segment, segmentIndices } = clipSegment(\n        this.state.segment,\n        this.state.segmentIndices,\n        curMessage\n      );\n      this.setState({ segment, segmentIndices });\n    }\n  }\n\n  changePlaySpeed(value) {\n    this.setState({\n      playSpeed: value\n    });\n  }\n\n  timeWindow() {\n    const { routeStartTime, currentParts } = this.props;\n\n    if (routeStartTime) {\n      const partStartOffset = currentParts[0] * 60;\n      const partEndOffset = (currentParts[1] + 1) * 60;\n\n      const windowStartTime = routeStartTime\n        .clone()\n        .add(partStartOffset, 's')\n        .format('HH:mm:ss');\n      const windowEndTime = routeStartTime\n        .clone()\n        .add(partEndOffset, 's')\n        .format('HH:mm:ss');\n\n      return `${windowStartTime} - ${windowEndTime}`;\n    }\n    return '';\n  }\n\n  onSignalPlotPressed(messageId, signalUid) {\n    let { plottedSignals } = this.state;\n\n    plottedSignals = [[{ messageId, signalUid }], ...plottedSignals];\n\n    this.setState({ plottedSignals });\n  }\n\n  onSignalUnplotPressed(messageId, signalUid) {\n    const { plottedSignals } = this.state;\n    const newPlottedSignals = plottedSignals\n      .map((plot) => plot.filter(\n        (signal) => !(signal.messageId === messageId && signal.signalUid === signalUid)\n      ))\n      .filter((plot) => plot.length > 0);\n\n    this.setState({ plottedSignals: newPlottedSignals });\n  }\n\n  onSegmentChanged(messageId, segment) {\n    if (Array.isArray(segment)) {\n      this.updateSegment(messageId, segment);\n    }\n  }\n\n  resetSegment() {\n    const { segment, segmentIndices } = this.state;\n    if (segment.length > 0 || segmentIndices.length > 0) {\n      // console.log(this.state.segment, '->', segment, segmentIndices);\n      this.setState({\n        segment: [],\n        segmentIndices: [],\n        userSeekIndex: 0\n      });\n    }\n  }\n\n  showAddSignal() {\n    this.setState({ shouldShowAddSignal: true });\n  }\n\n  toggleShouldShowAddSignal() {\n    this.setState({ shouldShowAddSignal: !this.state.shouldShowAddSignal });\n  }\n\n  indexFromSeekTime(time) {\n    // returns index guaranteed to be in [0, entries.length - 1]\n\n    const { entries } = this.props.messages[this.props.selectedMessage];\n    if (entries.length === 0) return null;\n\n    const { segmentIndices } = this.state;\n    if (segmentIndices.length === 2 && segmentIndices[0] >= 0) {\n      for (\n        let i = segmentIndices[0],\n          l = Math.min(entries.length - 1, segmentIndices[1]);\n        i <= l;\n        i++\n      ) {\n        if (entries[i].relTime >= time) {\n          return i;\n        }\n      }\n      return segmentIndices[1];\n    }\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].relTime >= time) {\n        return i;\n      }\n    }\n    return entries.length - 1;\n  }\n\n  onUserSeek(time) {\n    this.props.onUserSeek(time);\n    this.setState({ userSeekTime: time });\n  }\n\n  onPlaySeek(time) {\n    const message = this.props.messages[this.props.selectedMessage];\n    if (!message || message.entries.length === 0) {\n      this.props.onSeek(0, time);\n      return;\n    }\n\n    const seekIndex = this.indexFromSeekTime(time);\n    const seekTime = time;\n    this.props.onSeek(seekIndex, seekTime);\n  }\n\n  onGraphTimeClick(messageId, time) {\n    this.onUserSeek(time);\n  }\n\n  onPlay() {\n    this.setState({ playing: true });\n  }\n\n  onPause() {\n    this.setState({ playing: false });\n  }\n\n  secondsLoadedRouteRelative(currentParts) {\n    return (currentParts[1] - currentParts[0] + 1) * 60;\n  }\n\n  secondsLoaded() {\n    return this.props.partsCount * 60;\n  }\n\n  onVideoClick() {\n    const playing = !this.state.playing;\n    this.setState({ playing });\n  }\n\n  seekTime() {\n    const { userSeekIndex } = this.state;\n    const msg = this.props.messages[this.props.selectedMessage];\n    return msg.entries[userSeekIndex].time;\n  }\n\n  onSignalPlotChange(shouldPlot, messageId, signalUid) {\n    if (shouldPlot) {\n      this.onSignalPlotPressed(messageId, signalUid);\n    } else {\n      this.onSignalUnplotPressed(messageId, signalUid);\n    }\n  }\n\n  renderSelectMessagePrompt() {\n    return (\n      <div className=\"cabana-explorer-select-prompt\">\n        <h1>Select a message</h1>\n      </div>\n    );\n  }\n\n  selectedMessagePlottedSignalUids() {\n    const { plottedSignals } = this.state;\n    return plottedSignals\n      .map((plot) => plot\n        .filter(\n          ({ messageId, signalUid }) => messageId === this.props.selectedMessage\n        )\n        .map(({ signalUid }) => signalUid))\n      .reduce((arr, signalUid) => arr.concat(signalUid), []);\n  }\n\n  renderExplorerSignals() {\n    const selectedMessageKey = this.props.selectedMessage;\n    const selectedMessage = this.props.messages[selectedMessageKey];\n    const selectedMessageName = selectedMessage.frame !== undefined\n      ? selectedMessage.frame.name\n      : 'undefined';\n    return (\n      <div className=\"cabana-explorer-signals-wrapper\">\n        <div className=\"cabana-explorer-signals-header\">\n          <div className=\"cabana-explorer-signals-header-context\">\n            <h5 className=\"t-capline\">Selected Message:</h5>\n            <h3>{selectedMessageName}</h3>\n          </div>\n          <div className=\"cabana-explorer-signals-header-action\">\n            <button\n              className=\"button--small\"\n              onClick={() => this.props.showEditMessageModal(selectedMessageKey)}\n            >\n              Edit\n            </button>\n          </div>\n        </div>\n        <div\n          className=\"cabana-explorer-signals-subheader\"\n          onClick={this.toggleShouldShowAddSignal}\n        >\n          <strong>Edit Signals</strong>\n        </div>\n        <div className=\"cabana-explorer-signals-window\">\n          {this.state.shouldShowAddSignal ? (\n            <AddSignals\n              onConfirmedSignalChange={this.props.onConfirmedSignalChange}\n              message={this.props.messages[this.props.selectedMessage]}\n              onClose={() => {\n                this.setState({ shouldShowAddSignal: false });\n              }}\n              messageIndex={this.props.seekIndex}\n              onSignalPlotChange={this.onSignalPlotChange}\n              plottedSignalUids={this.selectedMessagePlottedSignalUids()}\n              selectedMessageKey={selectedMessageKey}\n            />\n          ) : null}\n          <CanLog\n            message={this.props.messages[this.props.selectedMessage]}\n            messageIndex={this.props.seekIndex}\n            segmentIndices={this.state.segmentIndices}\n            plottedSignals={this.state.plottedSignals}\n            onSignalPlotPressed={this.onSignalPlotPressed}\n            onSignalUnplotPressed={this.onSignalUnplotPressed}\n            showAddSignal={this.showAddSignal}\n            onMessageExpanded={this.onPause}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  mergePlots({ fromPlot, toPlot }) {\n    const { plottedSignals } = this.state;\n\n    // remove fromPlot from plottedSignals\n    const fromPlotIdx = plottedSignals.findIndex((plot) => plot.some(\n      (signal) => signal.signalUid === fromPlot.signalUid\n          && signal.messageId === fromPlot.messageId\n    ));\n    plottedSignals.splice(fromPlotIdx, 1);\n\n    const toPlotIdx = plottedSignals.findIndex((plot) => plot.some(\n      (signal) => signal.signalUid === toPlot.signalUid\n          && signal.messageId === toPlot.messageId\n    ));\n    plottedSignals[toPlotIdx] = [fromPlot, toPlot];\n\n    this.setState({ plottedSignals });\n  }\n\n  render() {\n    const signalsExpandedClass = this.state.shouldShowAddSignal\n      ? 'is-expanded'\n      : null;\n\n    const { thumbnails, messages, startTime } = this.props;\n\n    let graphSegment = this.state.segment;\n    if (!graphSegment.length && this.props.currentParts) {\n      graphSegment = [\n        this.props.currentParts[0] * 60,\n        (this.props.currentParts[1] + 1) * 60\n      ];\n    }\n    return (\n      <div className=\"cabana-explorer\">\n        <div className={cx('cabana-explorer-signals', signalsExpandedClass)}>\n          {messages[this.props.selectedMessage]\n            ? this.renderExplorerSignals()\n            : this.renderSelectMessagePrompt()}\n        </div>\n        <div className=\"cabana-explorer-visuals\">\n          {this.props.live === false ? (\n            <div>\n              <div className=\"cabana-explorer-visuals-header g-row\">\n                <PlaySpeedSelector\n                  playSpeed={this.state.playSpeed}\n                  onPlaySpeedChanged={this.changePlaySpeed}\n                />\n              </div>\n              <RouteVideoSync\n                message={messages[this.props.selectedMessage]}\n                segment={this.state.segment}\n                maxqcamera={this.props.maxqcamera}\n                startTime={startTime}\n                seekIndex={this.props.seekIndex}\n                userSeekIndex={this.state.userSeekIndex}\n                playing={this.state.playing}\n                url={this.props.url}\n                firstCanTime={this.props.firstCanTime}\n                videoOffset={this.props.videoOffset}\n                onVideoClick={this.onVideoClick}\n                onPlaySeek={this.onPlaySeek}\n                onUserSeek={this.onUserSeek}\n                onPlay={this.onPlay}\n                onPause={this.onPause}\n                userSeekTime={this.state.userSeekTime}\n                playSpeed={this.state.playSpeed}\n                thumbnails={thumbnails}\n              />\n            </div>\n          ) : null}\n          {this.state.segment.length > 0 ? (\n            <div\n              className=\"cabana-explorer-visuals-segmentreset\"\n              onClick={() => {\n                this.resetSegment();\n              }}\n            >\n              <p>Reset Segment</p>\n            </div>\n          ) : null}\n          <CanGraphList\n            plottedSignals={this.state.plottedSignals}\n            messages={messages}\n            onGraphTimeClick={this.onGraphTimeClick}\n            seekTime={this.props.seekTime}\n            onSegmentChanged={this.onSegmentChanged}\n            onSignalUnplotPressed={this.onSignalUnplotPressed}\n            segment={graphSegment}\n            mergePlots={this.mergePlots}\n            live={this.props.live}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nExplorer.propTypes = {\n  selectedMessage: PropTypes.string,\n  url: PropTypes.string,\n  live: PropTypes.bool.isRequired,\n  messages: PropTypes.objectOf(PropTypes.object),\n  thumbnails: PropTypes.array.isRequired,\n  onConfirmedSignalChange: PropTypes.func.isRequired,\n  canFrameOffset: PropTypes.number,\n  firstCanTime: PropTypes.number,\n  onSeek: PropTypes.func.isRequired,\n  autoplay: PropTypes.bool.isRequired,\n  currentParts: PropTypes.array.isRequired,\n  partsCount: PropTypes.number,\n  maxqcamera: PropTypes.number,\n  startTime: PropTypes.number,\n  startSegments: PropTypes.array\n};\n","import DbcUtils from '../../utils/dbc';\n\nconst unsignedTransformation = (field) => (value, signal) => {\n  if (value !== '') {\n    value = Number(value) || 0;\n\n    if (value < 0) {\n      value = 0;\n    }\n  }\n  signal[field] = value;\n  return signal;\n};\n\nexport default [\n  {\n    field: 'name',\n    title: 'Name',\n    type: 'string'\n  },\n  {\n    field: 'size',\n    title: 'Size',\n    type: 'number',\n    transform: unsignedTransformation('size')\n  },\n  {\n    field: 'startBit',\n    title: (signal) => (signal.isLittleEndian ? 'Least significant bit' : 'Most significant bit'),\n    type: 'number',\n    transform: unsignedTransformation('startBit')\n  },\n  {\n    field: 'isLittleEndian',\n    title: 'Endianness',\n    type: 'option',\n    options: {\n      options: ['Little', 'Big'],\n      optionValues: { Little: true, Big: false }\n    },\n    transform: (isLittleEndian, signal) => {\n      if (signal.isLittleEndian !== isLittleEndian) {\n        const { startBit } = signal;\n\n        if (isLittleEndian) {\n          // big endian -> little endian\n          const startByte = Math.floor(signal.startBit / 8);\n          const endByte = Math.floor((signal.startBit - signal.size + 1) / 8);\n\n          if (startByte === endByte) {\n            signal.startBit = signal.startBit - signal.size + 1;\n          } else {\n            signal.startBit = DbcUtils.matrixBitNumber(startBit);\n          }\n        } else {\n          // little endian -> big endian\n          const startByte = Math.floor(signal.startBit / 8);\n          const endByte = Math.floor((signal.startBit + signal.size - 1) / 8);\n\n          if (startByte === endByte) {\n            signal.startBit = signal.startBit + signal.size - 1;\n          } else {\n            signal.startBit = DbcUtils.bigEndianBitIndex(startBit);\n          }\n        }\n        signal.isLittleEndian = isLittleEndian;\n      }\n      return signal;\n    }\n  },\n  {\n    field: 'isSigned',\n    title: 'Sign',\n    type: 'option',\n    options: {\n      options: ['Signed', 'Unsigned'],\n      optionValues: { Signed: true, Unsigned: false }\n    }\n  },\n  {\n    field: 'factor',\n    title: 'Factor',\n    type: 'number'\n  },\n  {\n    field: 'offset',\n    title: 'Offset',\n    type: 'number'\n  },\n  {\n    field: 'unit',\n    title: 'Unit',\n    type: 'string'\n  },\n  {\n    field: 'comment',\n    title: 'Comment',\n    type: 'string'\n  },\n  {\n    field: 'min',\n    title: 'Minimum value',\n    type: 'number'\n  },\n  {\n    field: 'max',\n    title: 'Maximum value',\n    type: 'number'\n  },\n  {\n    field: 'valueDescriptions',\n    title: 'Value descriptions',\n    type: 'map'\n  }\n];\n","import React, { Component } from 'react';\n\nexport default class Field extends Component {\n  render() {\n    const { title, htmlFor, children, valid } = this.props;\n    const errorCls = valid === false ? ' form-field-error' : '';\n    return (\n      <div className={ `form-field form-field--small${errorCls}` }>\n        <label htmlFor={htmlFor}>{title}</label>\n        {children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Field from './Field';\n\nimport { swapKeysAndValues } from '../../utils/object';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField,\n  valid\n}) => {\n  let valueCol;\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  const { options, optionValues } = fieldSpec.options;\n  const valueOptions = swapKeysAndValues(optionValues);\n\n  if (isExpanded) {\n    const optionEles = options.map((opt) => (\n      <option key={opt} value={optionValues[opt]}>\n        {opt}\n      </option>\n    ));\n    valueCol = (\n      <select\n        id={htmlFor}\n        defaultValue={signalEdited}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value === 'true');\n        }}\n      >\n        {optionEles}\n      </select>\n    );\n  } else {\n    valueCol = <span>{valueOptions[signal[field]]}</span>;\n  }\n\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n      valid={valid}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","import React from 'react';\n\nimport FIELDS from './FIELDS';\nimport NumberField from './NumberField';\nimport StringField from './StringField';\nimport OptionField from './OptionField';\nimport MapField from './MapField';\n\nconst FieldMap = {\n  number: NumberField,\n  option: OptionField,\n  string: StringField,\n  map: MapField,\n};\n\nexport default ({\n  signal,\n  onSignalRemove,\n  isExpanded,\n  getSignalEdited,\n  fieldError,\n  update\n}) => (\n  <div className=\"signals-legend-entry-form\">\n    {FIELDS.map((field) => {\n      const Node = FieldMap[field.type];\n      const valid = fieldError !== field.field;\n      return (\n        <div className=\"signals-legend-entry-form-field\" key={field.field}>\n          <Node\n            fieldSpec={field}\n            signal={signal}\n            isExpanded={isExpanded}\n            signalEdited={getSignalEdited(field.field)}\n            updateField={update}\n            valid={valid}\n          />\n        </div>\n      );\n    })}\n    <div className=\"signals-legend-entry-form-remove\">\n      <button\n        className=\"button--tiny button--alpha\"\n        onClick={() => onSignalRemove(signal)}\n      >\n        Remove Signal\n      </button>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport Field from './Field';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField,\n  valid\n}) => {\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  let valueCol;\n\n  if (isExpanded) {\n    let value = signalEdited;\n    if (value !== '') {\n      const num = Number(value);\n      value = isNaN(num) ? '' : num;\n    }\n    valueCol = (\n      <input\n        id={htmlFor}\n        type=\"number\"\n        value={value}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value);\n        }}\n      />\n    );\n  } else {\n    const value = signal[field];\n    valueCol = <span>{value}</span>;\n  }\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n      valid={valid}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","export function swapKeysAndValues(obj, f) {\n  return Object.keys(obj).reduce((acc, k) => {\n    acc[obj[k]] = k;\n    return acc;\n  }, {});\n}\n\nexport function fromArray(arr) {\n  // arr is an array of array key-value pairs\n  // like [['a', 1], ['b', 2]]\n\n  const pairs = arr.map(([k, v]) => ({ [k]: v }));\n  if (pairs.length > 0) {\n    return Object.assign(...pairs);\n  }\n  return {};\n}\n","import React from 'react';\nimport Field from './Field';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField,\n  valid\n}) => {\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  let valueCol;\n  if (isExpanded) {\n    valueCol = (\n      <input\n        id={htmlFor}\n        type=\"text\"\n        value={signalEdited || ''}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value);\n        }}\n      />\n    );\n  } else {\n    valueCol = <span>{signal[field]}</span>;\n  }\n\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n      valid={valid}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Field from './Field';\n\nexport default class MapField extends Component {\n  static propTypes = {\n    fieldSpec: PropTypes.any,\n    signal: PropTypes.any,\n    isExpanded: PropTypes.any,\n    signalEdited: PropTypes.any,\n    updateField: PropTypes.any,\n    valid: PropTypes.any,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      valid: true,\n      mapString: '',\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate({}, {});\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isExpanded !== this.props.isExpanded) {\n      const entryPairs = Array.from(this.props.signalEdited.entries());\n      const mapString = entryPairs.reduce((str, [value, desc]) => `${str + value} \"${desc}\" `, '').trim();\n      this.setState({ mapString });\n    }\n  }\n\n  onChange(ev) {\n    const mapString = ev.target.value;\n    this.setState({ mapString });\n\n    if ((mapString.split('\"').length - 1) % 2 !== 0) {\n      this.setState({ valid: false });\n      return;\n    }\n    let splitted = Array.from(mapString.matchAll(/[^\\s\"]+|\"([^\"]*)\"/g));\n    if (splitted.length % 2 !== 0) {\n      this.setState({ valid: false });\n      return;\n    }\n\n    splitted = splitted.map(([match, group]) => group || match);\n    const res = new Map();\n    for (let i = 0; i < splitted.length; i += 2) {\n      res.set(splitted[i], splitted[i+1]);\n    }\n\n    this.setState({ valid: true });\n    this.props.updateField(this.props.fieldSpec, res);\n  }\n\n  render() {\n    const { fieldSpec, signal, isExpanded } = this.props;\n\n    const htmlFor = `${signal.name}_${fieldSpec.field}`;\n    let valueCol;\n\n    if (isExpanded) {\n      valueCol = <input id={htmlFor} type=\"text\" value={this.state.mapString} onChange={this.onChange} />;\n    } else {\n      valueCol = <span>{signal[fieldSpec.field]}</span>;\n    }\n\n    return (\n      <Field title={typeof fieldSpec.title === 'function' ? fieldSpec.title(signal) : fieldSpec.title}\n        htmlFor={htmlFor} valid={this.props.valid && this.state.valid}>\n        {valueCol}\n      </Field>\n    );\n  }\n}\n","// SignalLegendEntry.js\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport Signal from '../../models/can/signal';\nimport SignalForm from './SignalForm';\nimport FIELDS from './FIELDS';\n\nexport default class SignalLegendEntry extends Component {\n  static propTypes = {\n    signal: PropTypes.instanceOf(Signal).isRequired,\n    isHighlighted: PropTypes.bool,\n    onSignalHover: PropTypes.func,\n    onSignalHoverEnd: PropTypes.func,\n    onTentativeSignalChange: PropTypes.func,\n    onSignalChange: PropTypes.func,\n    onSignalRemove: PropTypes.func,\n    onSignalPlotChange: PropTypes.func,\n    toggleExpandSignal: PropTypes.func,\n    isPlotted: PropTypes.bool,\n    isExpanded: PropTypes.bool\n  };\n\n  static fieldSpecForName = (name) => FIELDS.find((field) => field.field === name);\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fieldError: null,\n      signalEdited: Object.assign(Object.create(props.signal), props.signal)\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!this.props.signal.equals(prevProps.signal)) {\n      this.setState({\n        fieldError: null,\n        signalEdited: Object.assign(\n          Object.create(this.props.signal),\n          this.props.signal\n        )\n      });\n    }\n  }\n\n  updateField = (fieldSpec, value) => {\n    let { signalEdited } = this.state;\n    const { signal } = this.props;\n\n    if (fieldSpec.transform) {\n      signalEdited = fieldSpec.transform(value, signalEdited);\n    } else {\n      signalEdited[fieldSpec.field] = value;\n    }\n\n    // Save entire signal while editing\n    this.setState({ signalEdited });\n    const signalCopy = Object.assign(Object.create(signal), signal);\n    Object.entries(signalEdited).forEach(([field, value]) => {\n      signalCopy[field] = value;\n    });\n\n    const updated = this.props.onSignalChange(signalCopy);\n    this.setState({ fieldError: !updated ? fieldSpec.field : null });\n  };\n\n  toggleEditing = (e) => {\n    let { signalEdited } = this.state;\n    const { signal, isExpanded } = this.props;\n    const signalCopy = Object.assign(Object.create(signal), signal);\n\n    if (isExpanded) {\n      // Finished editing, save changes & reset intermediate\n      // signalEdited state.\n      Object.entries(signalEdited).forEach(([field, value]) => {\n        const fieldSpec = SignalLegendEntry.fieldSpecForName(field);\n\n        if (\n          fieldSpec\n          && fieldSpec.type === 'number'\n          && isNaN(parseInt(value, 10))\n        ) {\n          value = 0;\n        }\n\n        signalCopy[field] = value;\n      });\n      this.props.onSignalChange(signalCopy);\n    } else {\n      signalEdited = signalCopy;\n    }\n\n    // Expand and enable signal editing\n    this.setState({\n      fieldError: null,\n      signalEdited,\n    });\n    this.props.toggleExpandSignal(signal);\n    e.stopPropagation();\n  };\n\n  toggleSignalPlot = (e) => {\n    const { signal, isPlotted } = this.props;\n    e.preventDefault();\n    this.props.onSignalPlotChange(!isPlotted, signal.uid);\n  };\n\n  getSignalEdited = (field) => this.state.signalEdited[field];\n\n  render() {\n    const {\n      signal, isHighlighted, color, isPlotted, isExpanded\n    } = this.props;\n    const expandedEntryClass = isExpanded ? 'is-expanded' : null;\n    const plottedButtonClass = isPlotted ? 'button' : 'button--alpha';\n    const colorBarStyle = {\n      opacity: isHighlighted ? 0.5 : 0.3,\n      backgroundColor: color ? `rgb(${color.join(',')})` : null,\n    };\n    return (\n      <div\n        className={cx('signals-legend-entry', expandedEntryClass)}\n        onMouseEnter={() => this.props.onSignalHover(signal)}\n        onMouseLeave={() => this.props.onSignalHoverEnd(signal)}\n      >\n        <div className=\"signals-legend-entry-colorbar\" style={ colorBarStyle } />\n        <div className=\"signals-legend-entry-header\">\n          <div\n            className=\"signals-legend-entry-header-name\"\n            onClick={this.toggleEditing}\n          >\n            <strong>{signal.name}</strong>\n          </div>\n          <div\n            className=\"signals-legend-entry-header-action\"\n            onClick={this.toggleSignalPlot}\n          >\n            <button className={cx('button--tiny', plottedButtonClass)}>\n              {isPlotted ? 'Hide Plot' : 'Show Plot'}\n            </button>\n          </div>\n        </div>\n        <div className=\"signals-legend-entry-body\">\n          {isExpanded && (\n            <SignalForm\n              signal={signal}\n              onSignalRemove={this.props.onSignalRemove}\n              isExpanded={isExpanded}\n              getSignalEdited={this.getSignalEdited}\n              fieldError={this.state.fieldError}\n              update={this.updateField}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","// SignalLegend.js\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SignalLegendEntry from './SignalLegendEntry';\n\nexport default class SignalLegend extends Component {\n  static propTypes = {\n    signals: PropTypes.object,\n    signalStyles: PropTypes.object,\n    highlightedSignal: PropTypes.string,\n    onSignalHover: PropTypes.func,\n    onSignalHoverEnd: PropTypes.func,\n    onTentativeSignalChange: PropTypes.func,\n    onSignalChange: PropTypes.func,\n    onSignalRemove: PropTypes.func,\n    onSignalPlotChange: PropTypes.func,\n    plottedSignalUids: PropTypes.array,\n    selectedMessageKey: PropTypes.string\n  };\n\n  state = {\n    expandedSignals: []\n  };\n\n  toggleExpandSignal = (s) => {\n    const { expandedSignals } = this.state;\n    if (!expandedSignals.includes(s.uid)) {\n      const updatedExpandedSignals = [...expandedSignals, s.uid];\n      this.setState({ expandedSignals: updatedExpandedSignals });\n    } else {\n      const updatedExpandedSignals = expandedSignals.filter((i) => i !== s.uid);\n      this.setState({ expandedSignals: updatedExpandedSignals });\n    }\n  };\n\n  checkExpandedSignal(s) {\n    return this.state.expandedSignals.includes(s);\n  }\n\n  render() {\n    const { signals, highlightedSignal, selectedMessageKey } = this.props;\n    const signalRowsNested = Object.entries(signals)\n      .sort(([_, signal1], [__, signal2]) => {\n        if (signal1.startBit < signal2.startBit) {\n          return -1;\n        }\n        return 1;\n      })\n      .map(([signalName, signal]) => {\n        const colors = signals[signalName].getColors(selectedMessageKey);\n        const isHighlighted = highlightedSignal === signalName;\n\n        return (\n          <SignalLegendEntry\n            key={signal.uid}\n            signal={signal}\n            isHighlighted={isHighlighted}\n            color={colors}\n            onSignalHover={this.props.onSignalHover}\n            onSignalHoverEnd={this.props.onSignalHoverEnd}\n            onTentativeSignalChange={this.props.onTentativeSignalChange}\n            onSignalChange={this.props.onSignalChange}\n            onSignalRemove={this.props.onSignalRemove}\n            onSignalPlotChange={this.props.onSignalPlotChange}\n            toggleExpandSignal={this.toggleExpandSignal}\n            isPlotted={this.props.plottedSignalUids.indexOf(signal.uid) !== -1}\n            isExpanded={this.checkExpandedSignal(signal.uid)}\n          />\n        );\n      });\n\n    const signalRows = signalRowsNested\n      .filter((row) => row != null)\n      .reduce((a, b) => a.concat(b), []);\n\n    return <div className=\"cabana-explorer-signals-legend\">{signalRows}</div>;\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport OpenDbc from '../api/OpenDbc';\n\nexport default class GithubDbcList extends Component {\n  static propTypes = {\n    onDbcLoaded: PropTypes.func.isRequired,\n    repo: PropTypes.string.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      paths: [],\n      selectedPath: null,\n      pathQuery: ''\n    };\n\n    this.updatePathQuery = this.updatePathQuery.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.openDbcClient.list(this.props.repo).then((paths) => {\n      paths = paths.filter((path) => path.indexOf('.dbc') !== -1);\n      this.setState({ paths });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.repo !== this.props.repo) {\n      this.props.openDbcClient.list(this.props.repo).then((paths) => {\n        this.setState({ paths, selectedPath: null });\n      });\n    }\n  }\n\n  updatePathQuery(e) {\n    this.setState({\n      pathQuery: e.target.value\n    });\n  }\n\n  selectPath(path) {\n    this.setState({ selectedPath: path });\n    this.props.openDbcClient\n      .getDbcContents(path, this.props.repo)\n      .then((dbcContents) => {\n        this.props.onDbcLoaded(path, dbcContents);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-dbc-list\">\n        <div className=\"cabana-dbc-list-header\">\n          <a href={`https://github.com/${this.props.repo}`} target=\"_blank\" rel=\"noopener noreferrer\">\n            <i className=\"fa fa-github\" />\n            <span>{this.props.repo}</span>\n          </a>\n          <div className=\"form-field form-field--small\">\n            <input\n              type=\"text\"\n              placeholder=\"Search DBC Files\"\n              onChange={this.updatePathQuery}\n            />\n          </div>\n        </div>\n        <div className=\"cabana-dbc-list-files\">\n          {this.state.paths\n            .filter(\n              (p) => (this.state.pathQuery === '') | p.includes(this.state.pathQuery)\n            )\n            .map((path) => (\n              <div\n                className={cx('cabana-dbc-list-file', {\n                  'is-selected': this.state.selectedPath === path\n                })}\n                onClick={() => {\n                  this.selectPath(path);\n                }}\n                key={path}\n              >\n                <span>{path}</span>\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class DbcUpload extends Component {\n  static propTypes = {\n    onDbcLoaded: PropTypes.func\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dbcText: ''\n    };\n\n    this.onTextChanged = this.onTextChanged.bind(this);\n  }\n\n  onTextChanged(e) {\n    const dbcText = e.target.value;\n    this.setState({ dbcText });\n    this.props.onDbcLoaded('from paste', dbcText);\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-dbc-upload-raw\">\n        <div className=\"form-field\">\n          <label htmlFor=\"raw_dbc_upload\">\n            <span>Raw DBC File:</span>\n            <sup>Paste your DBC text output within this box</sup>\n          </label>\n          <textarea\n            value={this.state.dbcText}\n            id=\"raw_dbc_upload\"\n            className=\"t-mono\"\n            placeholder=\"PASTE DBC FILE HERE\"\n            onChange={this.onTextChanged}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport DBC from '../models/can/dbc';\nimport OpenDbc from '../api/OpenDbc';\nimport Modal from './Modals/baseModal';\nimport GithubDbcList from './GithubDbcList';\nimport DbcUpload from './DbcUpload';\n\nexport default class LoadDbcModal extends Component {\n  static propTypes = {\n    handleClose: PropTypes.func.isRequired,\n    onDbcSelected: PropTypes.func.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired,\n    loginWithGithub: PropTypes.element.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tab: 'OpenDBC',\n      tabs: ['OpenDBC', 'GitHub', 'Upload'],\n      dbc: null,\n      dbcSource: null,\n      userOpenDbcRepo: null\n    };\n\n    this.onDbcLoaded = this.onDbcLoaded.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.renderTabNavigation = this.renderTabNavigation.bind(this);\n    this.renderTabContent = this.renderTabContent.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.openDbcClient.getUserOpenDbcFork().then((userOpenDbcRepo) => {\n      this.setState({ userOpenDbcRepo });\n    });\n  }\n\n  onDbcLoaded(dbcSource, dbcText) {\n    const dbc = new DBC(dbcText);\n    this.setState({ dbcSource, dbc });\n  }\n\n  handleSave() {\n    const { dbc, dbcSource } = this.state;\n    this.props.onDbcSelected(dbcSource, dbc);\n  }\n\n  renderTabNavigation() {\n    return (\n      <div className=\"cabana-tabs-navigation\">\n        {this.state.tabs.map((tab) => (\n          <button\n            className={cx({ 'is-active': this.state.tab === tab })}\n            onClick={() => {\n              this.setState({\n                tab,\n                dbc: null,\n                dbcSource: null,\n              });\n            }}\n            key={tab}\n          >\n            <span>{tab}</span>\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  renderTabContent() {\n    const { tab } = this.state;\n    if (tab === 'OpenDBC') {\n      return (\n        <GithubDbcList\n          onDbcLoaded={this.onDbcLoaded}\n          repo=\"commaai/opendbc\"\n          openDbcClient={this.props.openDbcClient}\n        />\n      );\n    }\n    if (tab === 'GitHub') {\n      if (!this.props.openDbcClient.hasAuth()) {\n        return this.props.loginWithGithub;\n      }\n      if (this.state.userOpenDbcRepo === null) {\n        return <div>Fork it</div>;\n      }\n      return (\n        <GithubDbcList\n          onDbcLoaded={this.onDbcLoaded}\n          repo={this.state.userOpenDbcRepo}\n          openDbcClient={this.props.openDbcClient}\n        />\n      );\n    }\n    if (tab === 'Upload') {\n      return <DbcUpload onDbcLoaded={this.onDbcLoaded} />;\n    }\n  }\n\n  renderActions(disabled) {\n    return (\n      <div>\n        <button className=\"button--inverted\" onClick={this.props.handleClose}>\n          <span>Cancel</span>\n        </button>\n        <button className=\"button--primary\" disabled={ disabled } onClick={ this.handleSave }>\n          <span>Load DBC</span>\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Load DBC File\"\n        subtitle=\"Modify an existing DBC file with Cabana\"\n        handleClose={this.props.handleClose}\n        navigation={this.renderTabNavigation()}\n        actions={this.renderActions(Boolean(this.state.dbc === null))}\n      >\n        {this.renderTabContent()}\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DbcUtils from '../utils/dbc';\n\nexport default class MessageBytes extends Component {\n  static propTypes = {\n    seekTime: PropTypes.number.isRequired,\n    message: PropTypes.object.isRequired,\n    seekIndex: PropTypes.number,\n    live: PropTypes.bool.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: true,\n      lastMessageIndex: 0,\n      lastSeekTime: 0,\n    };\n\n    this.onVisibilityChange = this.onVisibilityChange.bind(this);\n    this.onCanvasRefAvailable = this.onCanvasRefAvailable.bind(this);\n    this.updateCanvas = this.updateCanvas.bind(this);\n    this.canvasInView = this.canvasInView.bind(this);\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate({}, {});\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.message !== this.props.message) {\n      let rowCount;\n      if (this.props.message.frame && this.props.message.frame.size) {\n        rowCount = Math.ceil(this.props.message.frame.size / 8);\n      } else {\n        rowCount = Math.ceil(DbcUtils.maxMessageSize(this.props.message, this.state.maxMessageBytes) / 8);\n      }\n      if (this.canvas) {\n        this.canvas.height = rowCount * 15;\n      }\n    }\n\n    if (prevProps.seekIndex !== this.props.seekIndex ||\n      Math.floor(prevProps.seekTime * 60) !== Math.floor(this.props.seekTime * 60))\n    {\n      this.updateCanvas();\n    }\n  }\n\n  canvasInView() {\n    return (!window.visualViewport || !this.canvas || (this.canvas.getBoundingClientRect().y >= 270 &&\n      window.visualViewport.height >= this.canvas.getBoundingClientRect().y));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.live && nextProps.message.entries.length) {\n      const nextLastEntry = nextProps.message.entries[nextProps.message.entries.length - 1];\n      const curLastEntry = this.props.message.entries[\n        this.props.message.entries.length - 1\n      ];\n\n      return !nextLastEntry || !curLastEntry || nextLastEntry.hexData !== curLastEntry.hexData;\n    }\n    return nextProps.seekTime !== this.props.seekTime;\n  }\n\n  findMostRecentMessage(seekTime) {\n    const { message } = this.props;\n    const { lastMessageIndex, lastSeekTime } = this.state;\n    let mostRecentMessageIndex = null;\n    if (seekTime >= lastSeekTime) {\n      for (let i = lastMessageIndex; i < message.entries.length; ++i) {\n        const msg = message.entries[i];\n        if (msg && msg.relTime >= seekTime) {\n          mostRecentMessageIndex = i;\n          break;\n        }\n      }\n    }\n\n    if (!mostRecentMessageIndex) {\n      // TODO this can be faster with binary search, not currently a bottleneck though.\n\n      mostRecentMessageIndex = message.entries.findIndex(\n        (e) => e.relTime >= seekTime\n      );\n    }\n\n    if (mostRecentMessageIndex) {\n      this.setState({\n        lastMessageIndex: mostRecentMessageIndex,\n        lastSeekTime: seekTime\n      });\n      return message.entries[mostRecentMessageIndex];\n    }\n  }\n\n  updateCanvas() {\n    const { message, live, seekTime } = this.props;\n    if (!this.canvas || message.entries.length === 0 || !this.canvasInView()) {\n      return;\n    }\n\n    let mostRecentMsg = message.entries[message.entries.length - 1];\n    if (!live) {\n      mostRecentMsg = this.findMostRecentMessage(seekTime);\n\n      if (!mostRecentMsg) {\n        mostRecentMsg = message.entries[0];\n      }\n    }\n\n    const ctx = this.canvas.getContext('2d');\n    // ctx.clearRect(0, 0, 180, 15);\n\n    for (let i = 0; i < message.byteStateChangeCounts.length; ++i) {\n      const hexData = mostRecentMsg.hexData.substr(i * 2, 2);\n\n      const x = (i % 8) * 20;\n      const y = Math.floor(i / 8) * 15;\n\n      ctx.fillStyle = message.byteColors[i];\n      ctx.fillRect(x, y, 20, 15);\n\n      ctx.font = '12px Courier';\n      ctx.fillStyle = 'white';\n      ctx.fillText(hexData ? hexData : '-', x + 2, y + 12);\n    }\n  }\n\n  onVisibilityChange(isVisible) {\n    if (isVisible !== this.state.isVisible) {\n      this.setState({ isVisible });\n    }\n  }\n\n  onCanvasRefAvailable(ref) {\n    if (!ref) return;\n\n    this.canvas = ref;\n    this.canvas.width = 160;\n    let rowCount;\n    if (this.props.message.frame && this.props.message.frame.size) {\n      rowCount = Math.ceil(this.props.message.frame.size / 8);\n    } else {\n      rowCount = Math.ceil(DbcUtils.maxMessageSize(this.props.message, this.state.maxMessageBytes) / 8);\n    }\n    this.canvas.height = rowCount * 15;\n\n    const observer = new IntersectionObserver(this.updateCanvas);\n    observer.observe(this.canvas);\n  }\n\n  render() {\n    return (\n      <canvas\n        ref={this.onCanvasRefAvailable}\n        className=\"cabana-meta-messages-list-item-bytes-canvas\"\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport Clipboard from 'clipboard';\n\nimport MessageBytes from './MessageBytes';\n\nconst { ckmeans } = require('simple-statistics');\n\nexport default class Meta extends Component {\n  static propTypes = {\n    onMessageSelected: PropTypes.func,\n    onMessageUnselected: PropTypes.func,\n    dongleId: PropTypes.string,\n    name: PropTypes.string,\n    messages: PropTypes.objectOf(PropTypes.object),\n    selectedMessages: PropTypes.array,\n    onPartChanged: PropTypes.func,\n    partsCount: PropTypes.number,\n    showLoadDbc: PropTypes.func,\n    showSaveDbc: PropTypes.func,\n    dbcFilename: PropTypes.string,\n    dbcLastSaved: PropTypes.object, // moment.js object,\n    showEditMessageModal: PropTypes.func,\n    route: PropTypes.object,\n    partsLoaded: PropTypes.number,\n    currentParts: PropTypes.array,\n    seekTime: PropTypes.number,\n    loginWithGithub: PropTypes.element,\n    isDemo: PropTypes.bool,\n    live: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onFilterChanged = this.onFilterChanged.bind(this);\n    this.onFilterFocus = this.onFilterFocus.bind(this);\n    this.onFilterUnfocus = this.onFilterUnfocus.bind(this);\n    this.canMsgFilter = this.canMsgFilter.bind(this);\n    this.renderMessageBytes = this.renderMessageBytes.bind(this);\n\n    const { dbcLastSaved } = props;\n\n    this.state = {\n      filterText: 'Filter',\n      lastSaved:\n        dbcLastSaved !== null ? this.props.dbcLastSaved.fromNow() : null,\n      hoveredMessages: [],\n      orderedMessageKeys: [],\n    };\n  }\n\n  componentDidMount() {\n    this.lastSavedTimer = setInterval(() => {\n      if (this.props.dbcLastSaved !== null) {\n        this.setState({ lastSaved: this.props.dbcLastSaved.fromNow() });\n      }\n    }, 30000);\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.lastSavedTimer);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.lastSaved !== this.props.lastSaved) {\n      this.setState({ lastSaved: this.props.dbcLastSaved.fromNow() });\n    }\n\n    if (JSON.stringify(Object.keys(prevProps.messages)) !== JSON.stringify(Object.keys(this.props.messages))) {\n      const orderedMessageKeys = this.sortMessages(this.props.messages);\n      this.setState({ hoveredMessages: [], orderedMessageKeys });\n    } else if (this.state.orderedMessageKeys.length === 0 || (!this.props.live && prevProps.messages &&\n      this.props.messages && this.byteCountsDidUpdate(prevProps.messages, this.props.messages)))\n    {\n      const orderedMessageKeys = this.sortMessages(this.props.messages);\n      if (orderedMessageKeys.length > 0) {\n        this.setState({ orderedMessageKeys });\n      }\n    }\n  }\n\n  byteCountsDidUpdate(prevMessages, nextMessages) {\n    return Object.entries(nextMessages).some(\n      ([msgId, msg]) => JSON.stringify(msg.byteStateChangeCounts)\n        !== JSON.stringify(prevMessages[msgId].byteStateChangeCounts)\n    );\n  }\n\n  sortMessages(messages) {\n    // Returns list of message keys, ordered as follows:\n    // messages are binned into at most 10 bins based on entry count\n    // each bin is sorted by message CAN address\n    // then the list of bins is flattened and reversed to\n    // yield a count-descending, address-ascending order.\n\n    if (Object.keys(messages).length === 0) return [];\n    const messagesByEntryCount = Object.entries(messages).reduce(\n      (partialMapping, [msgId, msg]) => {\n        const entryCountKey = msg.entries.length.toString(); // js object keys are strings\n        if (!partialMapping[entryCountKey]) {\n          partialMapping[entryCountKey] = [msg];\n        } else {\n          partialMapping[entryCountKey].push(msg);\n        }\n        return partialMapping;\n      },\n      {}\n    );\n\n    const entryCounts = Object.keys(messagesByEntryCount).map((count) => parseInt(count, 10));\n    const binnedEntryCounts = ckmeans(\n      entryCounts,\n      Math.min(entryCounts.length, 10)\n    );\n    const sortedKeys = binnedEntryCounts\n      .map((bin) => bin\n        .map((entryCount) => messagesByEntryCount[entryCount.toString()])\n        .reduce((messages, partial) => messages.concat(partial), [])\n        .sort((msg1, msg2) => {\n          if (msg1.address < msg2.address) {\n            return 1;\n          }\n          return -1;\n        })\n        .map((msg) => msg.id))\n      .reduce((keys, bin) => keys.concat(bin), [])\n      .reverse();\n\n    return sortedKeys;\n  }\n\n  onFilterChanged(e) {\n    let val = e.target.value;\n    if (val.trim() === 'Filter') val = '';\n\n    this.setState({ filterText: val });\n  }\n\n  onFilterFocus(e) {\n    if (this.state.filterText.trim() === 'Filter') {\n      this.setState({ filterText: '' });\n    }\n  }\n\n  onFilterUnfocus(e) {\n    if (this.state.filterText.trim() === '') {\n      this.setState({ filterText: 'Filter' });\n    }\n  }\n\n  canMsgFilter(msg) {\n    const { filterText } = this.state;\n    const msgName = msg.frame ? msg.frame.name : '';\n\n    return (\n      filterText === 'Filter'\n      || filterText === ''\n      || msg.id.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n      || msgName.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n    );\n  }\n\n  lastSavedPretty() {\n    const { dbcLastSaved } = this.props;\n    return dbcLastSaved.fromNow();\n  }\n\n  onMessageHover(key) {\n    const { hoveredMessages } = this.state;\n    if (hoveredMessages.indexOf(key) !== -1) return;\n\n    hoveredMessages.push(key);\n    this.setState({ hoveredMessages });\n  }\n\n  onMessageHoverEnd(key) {\n    let { hoveredMessages } = this.state;\n    hoveredMessages = hoveredMessages.filter((m) => m !== key);\n    this.setState({ hoveredMessages });\n  }\n\n  onMsgRemoveClick(key) {\n    let { selectedMessages } = this.state;\n    selectedMessages = selectedMessages.filter((m) => m !== key);\n    this.props.onMessageUnselected(key);\n    this.setState({ selectedMessages });\n  }\n\n  onMessageSelected(key) {\n    // uncomment when we support multiple messages\n    // const selectedMessages = this.state.selectedMessages.filter((m) => m !== key);\n    const selectedMessages = [];\n    selectedMessages.push(key);\n    this.props.updateSelectedMessages(selectedMessages);\n    this.props.onMessageSelected(key);\n  }\n\n  orderedMessages() {\n    const { orderedMessageKeys } = this.state;\n    const { messages } = this.props;\n    return orderedMessageKeys.map((key) => messages[key]);\n  }\n\n  selectedMessageClass(messageId) {\n    return this.props.selectedMessages.includes(messageId)\n      ? 'is-selected'\n      : null;\n  }\n\n  renderMessageBytes(msg) {\n    return (\n      <tr\n        onClick={() => {\n          this.onMessageSelected(msg.id);\n        }}\n        key={msg.id}\n        className={cx(\n          'cabana-meta-messages-list-item',\n          this.selectedMessageClass(msg.id)\n        )}\n      >\n        <td>{msg.frame ? msg.frame.name : 'untitled'}</td>\n        <td>{msg.id}</td>\n        <td>{msg.entries.length}</td>\n        <td>\n          <div className=\"cabana-meta-messages-list-item-bytes\">\n            <MessageBytes\n              key={msg.id}\n              message={msg}\n              seekIndex={this.props.seekIndex}\n              seekTime={this.props.seekTime}\n              live={this.props.live}\n            />\n          </div>\n        </td>\n      </tr>\n    );\n  }\n\n  renderCanMessages() {\n    return this.orderedMessages()\n      .filter(this.canMsgFilter)\n      .map(this.renderMessageBytes);\n  }\n\n  renderAvailableMessagesList() {\n    if (Object.keys(this.props.messages).length === 0) {\n      return <p>Loading messages...</p>;\n    }\n    return (\n      <>\n        <table cellPadding=\"5\">\n          <thead>\n            <tr>\n              <td>Name</td>\n              <td>ID</td>\n              <td>Count</td>\n              <td>Bytes</td>\n            </tr>\n          </thead>\n          <tbody>{this.renderCanMessages()}</tbody>\n        </table>\n      </>\n    );\n  }\n\n  saveable() {\n    try {\n      // eslint-disable-next-line\n      \"serviceWorker\" in navigator &&\n        !!new ReadableStream()\n        && !!new WritableStream(); // eslint-disable-line no-undef\n      return 'saveable';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-meta\">\n        <div className=\"cabana-meta-header\">\n          <h5 className=\"cabana-meta-header-label t-capline\">\n            Currently editing:\n          </h5>\n          <strong className=\"cabana-meta-header-filename\">\n            {this.props.dbcFilename}\n          </strong>\n          {this.props.dbcLastSaved !== null ? (\n            <div className=\"cabana-meta-header-last-saved\">\n              <p>\n                Last saved:\n                {this.lastSavedPretty()}\n              </p>\n            </div>\n          ) : null}\n          <div className={`cabana-meta-header-actions ${this.saveable()}`}>\n            <div className=\"cabana-meta-header-action\">\n              <button onClick={this.props.showLoadDbc}>Load DBC</button>\n            </div>\n            {this.saveable() && (\n              <div className=\"cabana-meta-header-action\">\n                <button onClick={this.props.saveLog}>Save Log</button>\n              </div>\n            )}\n            {this.props.shareUrl ? (\n              <div\n                className=\"cabana-meta-header-action special-wide\"\n                data-clipboard-text={this.props.shareUrl}\n                data-clipboard-action=\"copy\"\n                ref={(ref) => (ref ? new Clipboard(ref) : null)}\n              >\n                <a\n                  className=\"button\"\n                  href={this.props.shareUrl}\n                  onClick={(e) => e.preventDefault()}\n                >\n                  Copy Share Link\n                </a>\n              </div>\n            ) : null}\n            <div className=\"cabana-meta-header-action\">\n              <button onClick={this.props.showSaveDbc}>Save DBC</button>\n            </div>\n          </div>\n        </div>\n        <div className=\"cabana-meta-messages-header\">\n          <h5 className=\"t-capline\">Available messages</h5>\n        </div>\n        <div className=\"cabana-meta-messages-filter\">\n          <div className=\"form-field form-field--small\">\n            <input\n              type=\"text\"\n              value={this.state.filterText}\n              onFocus={this.onFilterFocus}\n              onBlur={this.onFilterUnfocus}\n              onChange={this.onFilterChanged}\n            />\n          </div>\n        </div>\n        <div className=\"cabana-meta-messages-list\">\n          {this.renderAvailableMessagesList()}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CanExplorer from './CanExplorer';\nimport init from './init';\nimport './index.css';\n\ninit().then((props) => {\n  ReactDOM.render(<CanExplorer {...props} />, document.getElementById('root')); // eslint-disable-line react/jsx-props-no-spreading\n});\n","export default class Frame {\n  constructor({\n    name,\n    id = 0,\n    size = 0,\n    transmitters = [],\n    extended = 0,\n    comment = null,\n    signals = {}\n  }) {\n    Object.assign(this, {\n      name,\n      id,\n      size,\n      transmitters,\n      extended,\n      comment,\n      signals\n    });\n  }\n\n  nextNewTransmitterName() {\n    let txNum = 1;\n    let txName;\n    do {\n      txName = `NEW_TRANSMITTER_${txNum}`;\n      txNum++;\n    } while (this.transmitters.indexOf(txName) !== -1);\n\n    return txName;\n  }\n\n  addTransmitter() {\n    const txName = this.nextNewTransmitterName();\n    this.transmitters.push(txName);\n    return txName;\n  }\n\n  header() {\n    return (\n      `BO_ ${this.id} ${this.name}: ${this.size} `\n      + `${this.transmitters[0] || 'XXX'}`\n    );\n  }\n\n  text() {\n    const signals = Object.values(this.signals)\n      .map((signal) => ` ${signal.text()}`) // indent\n      .join('\\n');\n\n    if (signals.length > 0) {\n      return `${this.header()}\\n${signals}`;\n    }\n    return this.header();\n  }\n\n  copy() {\n    const copy = Object.assign(Object.create(this), this);\n\n    return copy;\n  }\n}\n","export default class BoardUnit {\n  constructor(name) {\n    this.name = name;\n    this.attributes = {};\n    this.comment = null;\n  }\n\n  text() {\n    return this.name;\n  }\n}\n","import CloudLog from '../../logging/CloudLog';\nimport Signal from './signal';\nimport Frame from './frame';\nimport BoardUnit from './BoardUnit';\nimport DbcUtils from '../../utils/dbc';\n\nconst DBC_COMMENT_RE = /^CM_ *\"(.*)\";/;\nconst DBC_COMMENT_MULTI_LINE_RE = /^CM_ *\"(.*)/;\n\nconst MSG_RE = /^BO_ (\\w+) (\\w+) *: (\\w+) (\\w+)/;\n\nconst SIGNAL_RE = /^SG_ (\\w+) : (\\d+)\\|(\\d+)@(\\d+)([+|-]) \\(([0-9.+-eE]+),([0-9.+-eE]+)\\) \\[([0-9.+-eE]+)\\|([0-9.+-eE]+)\\] \"(.*)\" (.*)/;\n// Multiplexed signal\nconst MP_SIGNAL_RE = /^SG_ (\\w+) (\\w+) *: (\\d+)\\|(\\d+)@(\\d+)([+|-]) \\(([0-9.+-eE]+),([0-9.+-eE]+)\\) \\[([0-9.+-eE]+)\\|([0-9.+-eE]+)\\] \"(.*)\" (.*)/;\n\nconst VAL_RE = /^VAL_ (\\w+) (\\w+) (.*);/;\nconst VAL_TABLE_RE = /^VAL_TABLE_ (\\w+) (.*);/;\n\nconst MSG_TRANSMITTER_RE = /^BO_TX_BU_ ([0-9]+) *: *(.+);/;\n\nconst SIGNAL_COMMENT_RE = /^CM_ SG_ *(\\w+) *(\\w+) *\"(.*)\";/;\nconst SIGNAL_COMMENT_MULTI_LINE_RE = /^CM_ SG_ *(\\w+) *(\\w+) *\"(.*)/;\n\n// Message Comments (CM_ BO_ )\nconst MESSAGE_COMMENT_RE = /^CM_ BO_ *(\\w+) *\"(.*)\";/;\nconst MESSAGE_COMMENT_MULTI_LINE_RE = /^CM_ BO_ *(\\w+) *\"(.*)/;\n\nconst BOARD_UNIT_RE = /^BU_:(.*)/;\nconst BOARD_UNIT_COMMENT_RE = /^CM_ BU_ *(\\w+) *\"(.*)\";/;\nconst BOARD_UNIT_COMMENT_MULTI_LINE_RE = /^CM_ BU_ *(\\w+) *\"(.*)/;\n\n// Follow ups are used to parse multi-line comment definitions\nconst FOLLOW_UP_DBC_COMMENT = 'FollowUpDbcComment';\nconst FOLLOW_UP_SIGNAL_COMMENT = 'FollowUpSignalComment';\nconst FOLLOW_UP_MSG_COMMENT = 'FollowUpMsgComment';\nconst FOLLOW_UP_BOARD_UNIT_COMMENT = 'FollowUpBoardUnitComment';\n\n/* global BigInt */\n\nfunction floatOrInt(numericStr) {\n  if (Number.isInteger(numericStr)) {\n    return parseInt(numericStr, 10);\n  }\n  return parseFloat(numericStr);\n}\n\nexport function swapOrder(arr, wordSize, gSize) {\n  const swappedWords = [];\n\n  for (let i = 0; i < arr.length; i += wordSize) {\n    const word = arr.slice(i, i + wordSize);\n    for (let j = wordSize - gSize; j > -gSize; j -= gSize) {\n      swappedWords.push(word.slice(j, j + gSize));\n    }\n  }\n\n  return swappedWords.join('');\n}\n\nexport default class DBC {\n  constructor(dbcString) {\n    this.boardUnits = [];\n    this.comments = [];\n    this.messages = new Map();\n\n    if (dbcString !== undefined) {\n      this.dbcText = dbcString;\n      this.importDbcString(dbcString);\n    }\n  }\n\n  getMessageFrame(address) {\n    return this.messages.get(address);\n  }\n\n  nextNewFrameName() {\n    const messageNames = [];\n\n    for (const msg of this.messages.values()) {\n      messageNames.push(msg.name);\n    }\n\n    let msgNum = 1;\n    let msgName;\n    do {\n      msgName = `NEW_MSG_${msgNum}`;\n      msgNum++;\n    } while (messageNames.indexOf(msgName) !== -1);\n\n    return msgName;\n  }\n\n  updateBoardUnits() {\n    const boardUnitNames = this.boardUnits.map((bu) => bu.name);\n    const missingBoardUnits = Array.from(this.messages.entries())\n      .map(([msgId, frame]) => Object.values(frame.signals))\n      .reduce((arr, signals) => arr.concat(signals), [])\n      .map((signal) => signal.receiver)\n      .reduce((arr, receivers) => arr.concat(receivers), [])\n      .filter((recv, idx, array) => array.indexOf(recv) === idx)\n      .filter((recv) => boardUnitNames.indexOf(recv) === -1)\n      .map((recv) => new BoardUnit(recv));\n\n    this.boardUnits = this.boardUnits.concat(missingBoardUnits);\n  }\n\n  text() {\n    this.updateBoardUnits();\n\n    let txt = 'VERSION \"\"\\n\\n\\n';\n    txt += `NS_ :${this._newSymbols()}`;\n    txt += '\\n\\nBS_:\\n';\n\n    const boardUnitsText = this.boardUnits.map((bu) => bu.text()).join(' ');\n    txt += `\\nBU_: ${boardUnitsText}\\n\\n\\n`;\n\n    const frames = [];\n    for (const frame of this.messages.values()) {\n      frames.push(frame);\n    }\n    txt += `${frames.map((f) => f.text()).join('\\n\\n')}\\n\\n`;\n\n    const messageTxs = frames\n      .map((f) => [f.id, f.transmitters.slice(1)])\n      .filter(([addr, txs]) => txs.length > 0);\n    txt += `${messageTxs\n      .map(([addr, txs]) => `BO_TX_BU_ ${addr} : ${txs.join(',')};`)\n      .join('\\n')}\\n\\n\\n`;\n\n    txt += this.boardUnits\n      .filter((bu) => bu.comment !== null)\n      .map((bu) => `CM_ BU_ ${bu.name} \"${bu.comment}\";`)\n      .join('\\n');\n\n    txt += frames\n      .filter((f) => f.comment !== null)\n      .map((msg) => `CM_ BO_ ${msg.address} \"${msg.comment}\";`)\n      .join('\\n');\n\n    const signalsByMsgId = frames\n      .map((f) => Object.values(f.signals).map((sig) => [f.id, sig]))\n      .reduce((s1, s2) => s1.concat(s2), []);\n\n    txt += `${signalsByMsgId\n      .filter(([msgAddr, sig]) => sig.comment !== null)\n      .map(\n        ([msgAddr, sig]) => `CM_ SG_ ${msgAddr} ${sig.name} \"${sig.comment}\";`\n      )\n      .join('\\n')}\\n`;\n\n    txt += `${signalsByMsgId\n      .filter(([msgAddr, sig]) => sig.valueDescriptions.size > 0)\n      .map(([msgAddr, sig]) => sig.valueDescriptionText(msgAddr))\n      .join('\\n')}\\n`;\n\n    txt += this.comments.map((comment) => `CM_ \"${comment}\";`).join('\\n');\n\n    return `${txt.trim()}\\n`;\n  }\n\n  getMessageName(msgId) {\n    const msg = this.getMessageFrame(msgId);\n    if (msg && msg.frame) return msg.frame.name;\n    return null;\n  }\n\n  getSignals(msgId) {\n    const msg = this.getMessageFrame(msgId);\n    if (msg) return msg.signals;\n    return {};\n  }\n\n  createFrame(msgId, size=64) {\n    const msg = new Frame({\n      name: this.nextNewFrameName(),\n      id: msgId,\n      size: size,\n    });\n\n    this.messages.set(msgId, msg);\n    return msg;\n  }\n\n  setSignals(msgId, signals, frameSize) {\n    const msg = this.getMessageFrame(msgId); // TODO conform frameSize\n    if (msg) {\n      const newMsg = Object.assign(Object.create(msg), msg);\n      newMsg.signals = signals;\n      this.messages.set(msgId, newMsg);\n    } else {\n      const msg = this.createFrame(msgId, frameSize);\n      msg.signals = signals;\n\n      this.messages.set(msgId, msg);\n      this.updateBoardUnits();\n    }\n  }\n\n  addSignal(msgId, signal) {\n    const msg = this.getMessageFrame(msgId);\n\n    if (msg) {\n      msg.signals[signal.name] = signal;\n      this.updateBoardUnits();\n    }\n  }\n\n  importDbcString(dbcString) {\n    const warnings = [];\n    const messages = new Map();\n    let boardUnits = [];\n    const valueTables = new Map();\n    let id = 0;\n    let followUp = null;\n\n    const lines = dbcString.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n      let line = lines[i].trim();\n\n      if (line.length === 0) continue;\n\n      if (followUp != null) {\n        const { type, data } = followUp;\n        line = line.replace(/\" *;/, '');\n        let followUpLine = `\\n${line.substr(0, line.length)}`;\n        if (line.indexOf('\"') !== -1) {\n          followUp = null;\n          followUpLine = followUpLine.substr(0, followUpLine.length - 1);\n        }\n        if (type === FOLLOW_UP_SIGNAL_COMMENT) {\n          const signal = data;\n          signal.comment += followUpLine;\n        } else if (type === FOLLOW_UP_MSG_COMMENT) {\n          const msg = data;\n          msg.comment += followUpLine;\n        } else if (type === FOLLOW_UP_BOARD_UNIT_COMMENT) {\n          const boardUnit = data;\n          boardUnit.comment += followUpLine;\n        } else if (type === FOLLOW_UP_DBC_COMMENT) {\n          //          const comment = data;\n          const partialComment = this.comments[this.comments.length - 1];\n          this.comments[this.comments.length - 1] = partialComment + followUpLine;\n        }\n      }\n\n      if (line.indexOf('BO_ ') === 0) {\n        const matches = line.match(MSG_RE);\n        if (matches === null) {\n          warnings.push(\n            `failed to parse message definition on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n        let [idString, name, size, transmitter] = matches.slice(1);\n        id = parseInt(idString, 0); // 0 radix parses hex or dec\n        size = parseInt(size, 10);\n        const frame = new Frame({\n          name,\n          id,\n          size,\n          transmitters: [transmitter]\n        });\n        messages.set(id, frame);\n      } else if (line.indexOf('SG_') === 0) {\n        let matches = line.match(SIGNAL_RE);\n\n        if (matches === null) {\n          matches = line.match(MP_SIGNAL_RE);\n          if (matches === null) {\n            warnings.push(\n              `failed to parse signal definition on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n          // for now, ignore multiplex which is matches[1]\n          matches = matches[1] + matches.slice(3);\n        } else {\n          matches = matches.slice(1);\n        }\n\n        let [\n          name,\n          startBit,\n          size,\n          isLittleEndian,\n          isSigned,\n          factor,\n          offset,\n          min,\n          max,\n          unit,\n          receiverStr\n        ] = matches;\n        startBit = parseInt(startBit, 10);\n        size = parseInt(size, 10);\n        isLittleEndian = parseInt(isLittleEndian, 10) === 1;\n        isSigned = isSigned === '-';\n        factor = floatOrInt(factor);\n        offset = floatOrInt(offset);\n        min = floatOrInt(min);\n        max = floatOrInt(max);\n        const receiver = receiverStr.split(',').map((s) => s.trim());\n\n        const signalProperties = {\n          name,\n          startBit,\n          size,\n          isLittleEndian,\n          isSigned,\n          factor,\n          offset,\n          unit,\n          min,\n          max,\n          receiver\n        };\n        const signal = new Signal(signalProperties);\n\n        if (messages.get(id) !== undefined) {\n          messages.get(id).signals[name] = signal;\n        } else {\n          CloudLog.warn(\n            `importDbcString: could not add signal: ${name} due to missing message: ${id}`\n          );\n        }\n      } else if (line.indexOf('VAL_ ') === 0) {\n        const matches = line.match(VAL_RE);\n\n        if (matches !== null) {\n          let [messageId, signalName, vals] = matches.slice(1);\n          vals = vals\n            .split('\"')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0);\n\n          messageId = parseInt(messageId, 10);\n          const msg = messages.get(messageId);\n          const signal = msg.signals[signalName];\n          if (signal === undefined) {\n            warnings.push(\n              `could not find signal for value description on line ${i\n                + 1} -- ${line}`\n            );\n            continue;\n          }\n          for (let i = 0; i < vals.length; i += 2) {\n            const value = vals[i].trim();\n            const description = vals[i + 1].trim();\n            signal.valueDescriptions.set(value, description);\n          }\n        } else {\n          warnings.push(\n            `failed to parse value description on line ${i + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('VAL_TABLE_ ') === 0) {\n        const matches = line.match(VAL_TABLE_RE);\n\n        if (matches !== null) {\n          const table = new Map();\n          let [tableName, items] = matches.slice(1);\n          items = items\n            .split('\"')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0);\n\n          for (let i = 0; i < items.length; i += 2) {\n            const key = items[i];\n            const value = items[i + 1];\n            table.set(key, value);\n          }\n          valueTables.set(tableName, table);\n        } else {\n          warnings.push(\n            `failed to parse value table on line ${i + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('BO_TX_BU_ ') === 0) {\n        const matches = line.match(MSG_TRANSMITTER_RE);\n\n        if (matches !== null) {\n          let [messageId, transmitter] = matches.slice(1);\n          messageId = parseInt(messageId, 10);\n\n          const msg = messages.get(messageId);\n          msg.transmitters.push(transmitter);\n          messages.set(messageId, msg);\n        } else {\n          warnings.push(\n            `failed to parse message transmitter definition on line ${i\n              + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('CM_ SG_ ') === 0) {\n        let matches = line.match(SIGNAL_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(SIGNAL_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n        }\n        if (matches === null) {\n          warnings.push(\n            `failed to parse signal comment on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n\n        let [messageId, signalName, comment] = matches.slice(1);\n\n        messageId = parseInt(messageId, 10);\n        const msg = messages.get(messageId);\n        if (msg === undefined) {\n          warnings.push(`failed to parse signal comment on line ${i\n            + 1} -- ${line}:\n                                    message id ${messageId} does not exist prior to this line`);\n          continue;\n        }\n        const signal = msg.signals[signalName];\n        if (signal === undefined) {\n          warnings.push(\n            `failed to parse signal comment on line ${i + 1} -- ${line}`\n          );\n          continue;\n        } else {\n          signal.comment = comment;\n          messages.set(messageId, msg);\n        }\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_SIGNAL_COMMENT, data: signal };\n        }\n      } else if (line.indexOf('CM_ BO_ ') === 0) {\n        let matches = line.match(MESSAGE_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(MESSAGE_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n          if (matches === null) {\n            warnings.push(\n              `failed to message comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n        }\n\n        let [messageId, comment] = matches.slice(1);\n        messageId = parseInt(messageId, 10);\n        const msg = messages.get(messageId);\n        if (msg === undefined) {\n          warnings.push(\n            `failed to find message to add comment to, msg id: ${messageId}`\n          );\n          continue;\n        }\n        msg.comment = comment;\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_MSG_COMMENT, data: msg };\n        }\n      } else if (line.indexOf('BU_: ') === 0) {\n        const matches = line.match(BOARD_UNIT_RE);\n\n        if (matches !== null) {\n          const [boardUnitNameStr] = matches.slice(1);\n          const newBoardUnits = boardUnitNameStr\n            .split(' ')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0)\n            .map((name) => new BoardUnit(name));\n\n          boardUnits = boardUnits.concat(newBoardUnits);\n        } else {\n          warnings.push(\n            `failed to parse board unit definition on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n      } else if (line.indexOf('CM_ BU_ ') === 0) {\n        let matches = line.match(BOARD_UNIT_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(BOARD_UNIT_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n          if (matches === null) {\n            warnings.push(\n              `failed to parse board unit comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n        }\n\n        const [boardUnitName, comment] = matches.slice(1);\n        const boardUnit = boardUnits.find((bu) => bu.name === boardUnitName);\n        if (boardUnit) {\n          boardUnit.comment = comment;\n        }\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_BOARD_UNIT_COMMENT, data: boardUnit };\n        }\n      } else if (line.indexOf('CM_ ') === 0) {\n        let matches = line.match(DBC_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(DBC_COMMENT_MULTI_LINE_RE);\n          if (matches === null) {\n            warnings.push(\n              `failed to parse dbc comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          } else {\n            hasFollowUp = true;\n          }\n        }\n\n        const [comment] = matches.slice(1);\n        this.comments.push(comment);\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_DBC_COMMENT, data: comment };\n        }\n      }\n    }\n\n    // Disabled b/c live mode frequently calls this function\n    // and executes way too many network requests\n    if (warnings.length > 0) {\n      // warnings.forEach((warning) => CloudLog.warn('importDbcString: ' + warning));\n      // warnings.forEach((warning) => console.log('importDbcString: ' + warning));\n    }\n\n    this.messages = messages;\n    this.boardUnits = boardUnits;\n    this.valueTables = valueTables;\n  }\n\n  valueForIntSignal(signalSpec, view) {\n    let sig_lsb, sig_msb;\n    if (signalSpec.isLittleEndian) {\n      sig_lsb = signalSpec.startBit;\n      sig_msb = signalSpec.startBit + signalSpec.size - 1;\n    } else {\n      sig_lsb = DbcUtils.matrixBitNumber(DbcUtils.bigEndianBitIndex(signalSpec.startBit) + signalSpec.size - 1);\n      sig_msb = signalSpec.startBit;\n    }\n\n    let ret = signalSpec.size > 32 ? 0n : 0;\n    let i = Math.floor(sig_msb / 8);\n    let bits = signalSpec.size;\n    while (i >= 0 && i < view.byteLength && bits > 0) {\n      let lsb = Math.floor(sig_lsb / 8) === i ? sig_lsb : i*8;\n      let msb = Math.floor(sig_msb / 8) === i ? sig_msb : (i+1)*8 - 1;\n      let size = msb - lsb + 1;\n\n      let d = (view.getUint8(i) >>> (lsb - (i*8))) & ((1 << size) - 1);\n      if (signalSpec.size > 32) {\n        ret |= BigInt(d) << BigInt(bits - size);\n      } else {\n        ret |= d << (bits - size);\n      }\n\n      bits -= size;\n      i = signalSpec.isLittleEndian ? i-1 : i+1;\n    }\n\n    if (signalSpec.size > 32) {\n      ret = signalSpec.isSigned ? BigInt.asIntN(64, ret) : ret;\n      if (Number.isInteger(signalSpec.factor)) {\n        return ret * BigInt(signalSpec.factor) + BigInt(signalSpec.offset);\n      } else {\n        return parseFloat(ret) * signalSpec.factor + signalSpec.offset;\n      }\n    } else {\n      if (signalSpec.isSigned) {\n        ret -= ((ret >> (signalSpec.size-1)) & 1) ? (1 << signalSpec.size) : 0;\n      }\n      return ret * signalSpec.factor + signalSpec.offset;\n    }\n  }\n\n  getSignalValues(messageId, data) {\n    if (!this.messages.has(messageId)) {\n      return {};\n    }\n    const frame = this.getMessageFrame(messageId);\n    const view = new DataView(data.buffer);\n    const signalValuesByName = {};\n    Object.values(frame.signals).forEach((signalSpec) => {\n      if (isNaN(signalSpec.startBit)) {\n        return;\n      }\n      signalValuesByName[signalSpec.name] = this.valueForIntSignal(signalSpec, view);\n    });\n\n    return signalValuesByName;\n  }\n\n  getChffrMetricMappings() {\n    const metricComment = this.comments.find(\n      (comment) => comment.indexOf('CHFFR_METRIC') === 0\n    );\n    if (!metricComment) {\n      return null;\n    }\n\n    return metricComment\n      .split(';')\n      .map((metric) => metric.trim().split(' '))\n      .reduce(\n        (metrics, [_, messageId, signalName, metricName, factor, offset]) => {\n          metrics[metricName] = {\n            messageId: parseInt(messageId, 10),\n            signalName,\n            factor: parseFloat(factor),\n            offset: parseFloat(offset)\n          };\n          return metrics;\n        },\n        {}\n      );\n  }\n\n  _newSymbols() {\n    return `\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_`;\n  }\n}\n","import DBC from '../models/can/dbc';\n\nexport function fetchPersistedDbc(routeName) {\n  const maybeDbc = window.localStorage.getItem(routeName);\n  if (maybeDbc !== null) {\n    const { dbcFilename, dbcText } = JSON.parse(maybeDbc);\n    const dbc = new DBC(dbcText);\n\n    return { dbc, dbcText, dbcFilename };\n  }\n  return null;\n}\n\nexport function persistDbc(routeName, { dbcFilename, dbc }) {\n  const dbcJson = JSON.stringify({\n    dbcFilename,\n    dbcText: dbc.text()\n  });\n  window.localStorage.setItem(routeName, dbcJson);\n}\n\nconst GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY = 'gh_auth_token';\nexport function fetchPersistedGithubAuthToken() {\n  return window.localStorage.getItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY);\n}\n\nexport function unpersistGithubAuthToken() {\n  window.localStorage.removeItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY);\n}\n\nexport function persistGithubAuthToken(token) {\n  return window.localStorage.setItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY, token);\n}\n","export default function debounce(func, wait, immediate) {\n  let timeout;\n  return function () {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","module.exports = __webpack_public_path__ + \"static/media/webusb-enable-experimental-features.e5a08e76.png\";","module.exports = __webpack_public_path__ + \"static/media/webusb-enable-webusb.aceef6a0.png\";","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"17b334ffb157b66ac8b0.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"196de6c561a258c25ef1.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"bac15dd8bacc4ea79549.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"5f5f22f87eea60fa8c3b.worker.js\");\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Measure from 'react-measure';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    variations: PropTypes.array,\n    disableClose: PropTypes.bool,\n    handleClose: PropTypes.func,\n    handleSave: PropTypes.func,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    navigation: PropTypes.node,\n    actions: PropTypes.node,\n    footer: PropTypes.node\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowHeight: {},\n      modalHeight: {}\n    };\n\n    this.updateHeights = this.updateHeights.bind(this);\n  }\n\n  updateHeights(contentRect) {\n    this.setState({ windowHeight: window.innerHeight });\n    this.setState({ modalHeight: contentRect.bounds.height });\n  }\n\n  readVariationClasses() {\n    if (this.props.variations) {\n      const { variations } = this.props;\n      const classes = variations.reduce(\n        (classes, variation) => `${classes}cabana-modal--${variation} `,\n        ''\n      );\n      return classes;\n    }\n  }\n\n  checkClosability() {\n    return this.props.disableClose || false;\n  }\n\n  checkYScrollability() {\n    return this.state.modalHeight > this.state.windowHeight;\n  }\n\n  render() {\n    return (\n      <div\n        className={cx('cabana-modal', this.readVariationClasses(), {\n          'cabana-modal--not-closable': this.checkClosability(),\n          'cabana-modal--scrollable-y': this.checkYScrollability()\n        })}\n      >\n        <Measure\n          bounds\n          onResize={(contentRect) => {\n            this.updateHeights(contentRect);\n          }}\n        >\n          {({ measureRef }) => (\n            <div ref={measureRef} className=\"cabana-modal-container\">\n              <div\n                className=\"cabana-modal-close-icon\"\n                onClick={this.props.handleClose}\n              />\n              <div className=\"cabana-modal-header\">\n                <h1>{this.props.title}</h1>\n                <p>{this.props.subtitle}</p>\n              </div>\n              <div className=\"cabana-modal-navigation\">\n                {this.props.navigation}\n              </div>\n              <div className=\"cabana-modal-body\">\n                <div className=\"cabana-modal-body-window\">\n                  {this.props.children}\n                </div>\n                <div className=\"cabana-modal-body-gradient\" />\n              </div>\n              <div className=\"cabana-modal-actions\">{this.props.actions}</div>\n              <div className=\"cabana-modal-footer\">{this.props.footer}</div>\n            </div>\n          )}\n        </Measure>\n        <div\n          className=\"cabana-modal-backdrop\"\n          onClick={this.props.handleClose}\n        />\n      </div>\n    );\n  }\n}\n","import randomcolor from 'randomcolor';\nimport DbcUtils from '../../utils/dbc';\n\nexport default class Signal {\n  constructor({\n    name,\n    startBit = 0,\n    size = 0,\n    isLittleEndian = true,\n    isSigned = false,\n    isFloat = false,\n    factor = 1,\n    offset = 0,\n    unit = '',\n    receiver = ['XXX'],\n    comment = null,\n    multiplex = null,\n    min = null,\n    max = null,\n    valueDescriptions = new Map()\n  }) {\n    Object.assign(this, {\n      name,\n      startBit,\n      size,\n      isLittleEndian,\n      isSigned,\n      isFloat,\n      factor,\n      offset,\n      unit,\n      receiver,\n      comment,\n      multiplex,\n      valueDescriptions\n    });\n\n    const uid = Math.random().toString(36);\n\n    if (min == null) {\n      min = this.calculateMin();\n    }\n    if (max == null) {\n      max = this.calculateMax();\n    }\n\n    const colors = this.generateColors();\n\n    Object.assign(this, {\n      min,\n      max,\n      uid,\n      _colors: colors\n    });\n\n    Object.defineProperty(this, 'colors', {\n      get() {\n        console.error('Something is still using the old colors');\n        debugger;\n        return colors;\n      },\n      enumberable: false\n    });\n  }\n\n  text() {\n    const multiplex = this.multiplex ? ` ${this.multiplex}` : '';\n    const byteOrder = this.isLittleEndian ? 1 : 0;\n    const signedChar = this.isSigned ? '-' : '+';\n\n    return (\n      `SG_ ${this.name}${multiplex} : `\n      + `${this.startBit}|${this.size}@${byteOrder}${signedChar}`\n      + ` (${this.factor},${this.offset})`\n      + ` [${this.min}|${this.max}]`\n      + ` \"${this.unit}\" ${this.receiver}`\n    );\n  }\n\n  valueDescriptionText(msgId) {\n    const entryPairs = Array.from(this.valueDescriptions.entries());\n    const values = entryPairs.reduce(\n      (str, [value, desc]) => `${str + value} \"${desc}\" `,\n      ''\n    );\n    return `VAL_ ${msgId} ${this.name} ${values};`;\n  }\n\n  lsbBitIndex() {\n    // Returns LSB bit index in matrix order (see AddSignals.js)\n\n    if (this.isLittleEndian) {\n      return this.startBit;\n    }\n    const lsbBitNumber = this.lsbBitNumber();\n\n    return DbcUtils.matrixBitNumber(lsbBitNumber);\n  }\n\n  lsbBitNumber() {\n    // Returns LSB bit number in big endian ordering\n\n    return DbcUtils.bigEndianBitIndex(this.startBit) + this.size - 1;\n  }\n\n  msbBitIndex() {\n    if (this.isLittleEndian) {\n      return this.startBit + this.size - 1;\n    }\n    return this.startBit;\n  }\n\n  littleEndianBitDescription(bitIndex) {\n    const bitRange = [this.startBit, this.startBit + this.size - 1];\n    if (bitIndex < bitRange[0] || bitIndex > bitRange[1]) {\n      return null;\n    }\n    const bitNumber = bitIndex - bitRange[0];\n    const isLsb = bitIndex === bitRange[0];\n    const isMsb = bitIndex === bitRange[1];\n    return { bitNumber, isLsb, isMsb };\n  }\n\n  bigEndianBitDescription(bitIndex) {\n    const start = DbcUtils.bigEndianBitIndex(this.startBit);\n    const range = [start, start + this.size - 1];\n    const bitNumber = DbcUtils.bigEndianBitIndex(bitIndex);\n\n    if (bitNumber < range[0] || bitNumber > range[1]) {\n      return null;\n    }\n\n    const isLsb = bitNumber === range[1];\n    const isMsb = bitIndex === this.startBit;\n    return {\n      bitNumber,\n      isLsb,\n      isMsb,\n      range\n    };\n  }\n\n  bitDescription(bitIndex) {\n    if (this.isLittleEndian) {\n      return this.littleEndianBitDescription(bitIndex);\n    }\n    return this.bigEndianBitDescription(bitIndex);\n  }\n\n  calculateRawRange() {\n    let rawRange = Math.pow(2, this.size);\n    if (this.isSigned) {\n      rawRange /= 2;\n    }\n    return [this.isSigned ? -1 * rawRange : 0, rawRange - 1];\n  }\n\n  calculateMin() {\n    const rawMin = this.calculateRawRange()[0];\n    return this.offset + rawMin * this.factor;\n  }\n\n  calculateMax() {\n    const rawMax = this.calculateRawRange()[1];\n    return this.offset + rawMax * this.factor;\n  }\n\n  getColors(messageId) {\n    let parts = messageId.split(':').map((p) => ((3 + Number.parseInt(p, 16)) * 3) % 253);\n    const colors = this._colors || this.generateColors();\n\n    let lastColor = 0;\n\n    return colors.map((c) => {\n      parts = parts.map(p => p ^ lastColor);\n      lastColor = parts.reduce((m, v) => m ^ v, c);\n      return lastColor;\n    });\n  }\n\n  generateColors() {\n    const colors = randomcolor({ format: 'rgbArray' });\n\n    return colors;\n  }\n\n  equals(otherSignal) {\n    return (\n      otherSignal.name === this.name\n      && otherSignal.startBit === this.startBit\n      && otherSignal.size === this.size\n      && otherSignal.isLittleEndian === this.isLittleEndian\n      && otherSignal.isSigned === this.isSigned\n      && otherSignal.isFloat === this.isFloat\n      && otherSignal.factor === this.factor\n      && otherSignal.offset === this.offset\n      && otherSignal.unit === this.unit\n      && otherSignal.receiver.length === this.receiver.length\n      && otherSignal.receiver.every((v, i) => v === this.receiver[i])\n      && otherSignal.comment === this.comment\n      && otherSignal.multiplex === this.multiplex\n    );\n  }\n}\n","import GitHub from 'github-api';\n\nimport { OPENDBC_SOURCE_REPO } from '../config';\n\nexport default class OpenDBC {\n  constructor(token) {\n    this.token = token;\n    this.github = new GitHub({ token });\n    this.sourceRepo = this.github.getRepo('commaai', 'opendbc');\n    this.githubUsername = null;\n  }\n\n  hasAuth() {\n    return this.token !== null;\n  }\n\n  async getGithubUsername() {\n    if (this.githubUsername) {\n      return this.githubUsername;\n    }\n    const githubUsername = await this.fetchGithubUsername();\n    if (githubUsername) {\n      return githubUsername;\n    }\n  }\n\n  async fetchGithubUsername() {\n    try {\n      const user = await this.github.getUser();\n      if (user) {\n        const profile = await user.getProfile();\n        if (profile) {\n          return profile.data.login;\n        }\n      }\n    } catch (e) {\n      return null;\n    }\n  }\n\n  async list(repoFullName) {\n    /*\n    Lists files in a github repository.\n    If no argument provided, assumes OpenDBC source repo\n    (commaai/opendbc)\n    */\n\n    let repo;\n    if (repoFullName === undefined) {\n      repo = this.sourceRepo;\n    } else {\n      const [username, repoName] = repoFullName.split('/');\n      repo = this.github.getRepo(username, repoName);\n    }\n    try {\n      const response = await repo.getContents('master', '');\n\n      return response.data.map((content) => content.path);\n    } catch (e) {\n      return [];\n    }\n  }\n\n  async getDbcContents(dbcPath, repoFullName) {\n    let repo;\n    if (repoFullName === undefined) {\n      repo = this.sourceRepo;\n    } else {\n      const [username, repoName] = repoFullName.split('/');\n      repo = this.github.getRepo(username, repoName);\n    }\n\n    const fileContents = await repo.getContents('master', dbcPath);\n\n    const rawContentsUrl = fileContents.data.download_url;\n\n    const resp = await fetch(rawContentsUrl, { cache: 'no-cache' });\n\n    return resp.text();\n  }\n\n  repoSourceIsOpenDbc(repoDetails) {\n    return (\n      repoDetails.source && repoDetails.source.full_name === OPENDBC_SOURCE_REPO\n    );\n  }\n\n  async getUserOpenDbcFork() {\n    const githubUsername = await this.getGithubUsername();\n    if (!githubUsername) return null;\n\n    const openDbcFork = this.github.getRepo(githubUsername, 'opendbc');\n    const repoDetailResp = await openDbcFork.getDetails();\n    const repoDetails = repoDetailResp.data;\n\n    if (this.repoSourceIsOpenDbc(repoDetails)) {\n      return repoDetails.full_name;\n    }\n    return null;\n  }\n\n  async fork() {\n    const forkResponse = await this.sourceRepo.fork();\n    if (forkResponse.status === 202) {\n      return true;\n    }\n    return false;\n  }\n\n  async commitFile(repoFullName, path, contents, commitMessage) {\n    /*\n      repo is of format username/reponame\n      authenciated user must have write access to repo\n      */\n    const [user, repoName] = repoFullName.split('/');\n    const repo = this.github.getRepo(user, repoName);\n\n    // get HEAD reference\n    const refResp = await repo.getRef('heads/master');\n    const ref = refResp.data;\n\n    // get HEAD commit sha\n    const headCommitResp = await repo.getCommit(ref.object.sha);\n    const headCommit = headCommitResp.data;\n\n    // get HEAD tree\n    const headTreeResp = await repo.getTree(headCommit.tree.sha);\n    const headTree = headTreeResp.data;\n\n    // create new tree\n    const tree = [\n      {\n        mode: '100644',\n        path,\n        type: 'blob',\n        content: contents\n      }\n    ];\n\n    const createTreeResp = await repo.createTree(tree, headTree.sha);\n    const createdTree = createTreeResp.data;\n\n    // commit\n    const commitResp = await repo.commit(\n      headCommit.sha,\n      createdTree.sha,\n      commitMessage || 'OpenDBC updates'\n    );\n    const commit = commitResp.data;\n\n    // update HEAD\n    const updateHeadResp = await repo.updateHead(\n      'heads/master',\n      commit.sha,\n      false\n    );\n\n    return updateHeadResp.status === 200;\n  }\n}\n","import Moment from 'moment';\nimport CorollaDBC from './corolla-dbc';\n\nexport const demoLogUrls = [\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/0/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=8pT88IJhcarT3%2Bv0uaT3aoiMlOsPTru%2Bd%2B1mgCAUNzY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/1/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=RUiRh7VvDbhmGcam619Coz4FC0I%2B1M%2BgHzudTecU8N8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/2/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vCx3vklGv09VY8Ox9Q8iinB7ZsrpDbsK4BMTkBt4biI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/3/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QtgjbhrpyoKHQC%2BIK/Ms0y%2BSh2EtHCAzBTV0BkPBbZ8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/4/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=xL6utQbOCRvdIV21Nq%2BsaxFzqDT4n212HwOSvdBC%2B%2Bg%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/5/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9uxDaYILbAJRy2fAKYm9flHi237a2qTY8YlNfizTFSs%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/6/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=00Kno8VTcxQdazYL1lK0aVTt7zvnmWDwzbVJJQtXOfc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/7/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=eyTM64llEf6NrhoowAdqF76J7liL4ejq85HfKT7IoRU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/8/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ashtAt8qucsBP8pBH24RYT4OrzHvBXA3SQPzTslWg10%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/9/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=C%2BvBxxhgscqUQr7dKF1t9wfhpy/16cl4lWsRfirblsM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/10/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4fcXFnGSe8TGQYP89H9Z4nEou2uANO3FPekTxUSP89Y%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/11/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=olfTiSNk49Y9tog4XfXHMSmDODNKQedaelfa9zhxyUI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/12/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Cea5FxaNoMzZUoPKfJKHSdEvZKgu130KbEYJ65HSHn4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/13/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=W/ycLCiCzfItDQeMDhkwAEl9FQ89UGDVipEIlAyL7fA%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/14/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aXORJqBiOQda7tZPzwlD%2B4UJHhcWtKj5uoPqsmlTovI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/15/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=C/OgqnPVkFhY11Ha5TiUkqr3bQyie5ZhIzWi73fxwog%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/16/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gdzCLOnhMeNYJTE%2BXmuSlwYGVFIuxbsqHvygEKG0H8Q%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/17/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=6JZg3qh2sYdBQxRjA9GyjPv8eRgSsOakEjg0z9EDFZ0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/18/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SYX7%2BN9npUSEdw2eVHngMAxXm5N5nwVos%2B32RpI675k%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/19/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cOKcrLoyEUhfWOjIDr/edtvEchBsnEg3ma%2ByCOzf8GY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/20/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yNMFoLourSvuG0Buor9fuPryheCkknxqvA0CoGVRfQ0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/21/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=f1AfgqSNOeOkthYxmV/bMnG6WaEnRBtrYMu6EaG133k%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/22/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=7PMH8rRci6jYaRHvnvqK24EO/bR06M72OtA0fpM7yiE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/23/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=0UzWpng3TCr3DQ/dWi5vYLgsLL/yOw%2BQVWdtu3%2BnxH8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/24/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vlFw7Che8rISI5gyKZoSif6nkN9vThi93cJpyPAJge8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/25/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=uVGejY1C9So%2B4Fc49Ihi5Fj5Tdyi4LofKYQE%2BYPTS5o%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/26/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Uau%2BAbXw6JQglY/EUXsVj1hAx%2Bx7tS/dxpSij7DyEvQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/27/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pzmqrxkVsy5XikPStD/5OPNrYWadB9qivHRU5nB1pCM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/28/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3dajisn7zt3MxhFKNxZgZn1PtUdege4Qh8d7AlCv6V4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/29/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1NicoYGt%2BUFJbGYhGdTPnFCzYnIV5OHypuD3qzW53Wc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/30/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1ZGt0PlbGaVeT/82JnG/qsuur04SGNlBbWAOcPvHvGU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/31/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nDe5iODqha7NAugL0qe%2BnT7HKIqQNDS5vBcaxTHqwHY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/32/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cBu8MgQvz9dvg7iydERnupmAyuYSas3wY3alT2wmQtQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/33/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=RMqrZgILMOZ/EOBwDw/SVTpjmQTFQz91RUQKCdzJYcE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/34/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=srl6LGcWdQSlMMnuv%2B7aTFTMY4KpR9F%2BXo3XtMIeFSs%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/35/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=x109982KLJzI5CxYp0Txbgc6KWAk0FrP1TKasLbs4xY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/36/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nEclbIDfZ6kPHJoOol/jXLd9dd5Dak5t4aDYdAc8NT0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/37/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=N4417uFhPrKwfkhPplH/PZvE7nHlPHyOUHUcXtV8ga8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/38/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=V35yVoPP3key5d8XJUk1Hs29RUD63qGDrqtsMTJJvq8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/39/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=qIQOoVL4qOWxXLPhUN/wlNnE0ubo/bcY8kSAeBUaYAY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/40/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=HfcEb0EtuMmzw579abyE8MdE%2BsTfszhXEB%2BRxUU3JH0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/41/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=CcY6L8NEIvMmrtxT46yAkTEV4bpj1022r/oXhaLNzZk%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/42/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3xqT%2BO8YrFDv6C7U41ToVa5doDhuYKCzK5MxBcXt%2BWc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/43/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=FlIiq6qej5DOD5JnMPWKIbiX2/j8ysbIhBoR%2BtLspZg%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/44/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2526%2Br0Ish0e9rkOeL3ub0/EfJhng%2BRYIev2PepghHk%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/45/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vBrFpsNhNuzWhe8uncDkvObJUmeKMC1hQLySOUaex0I%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/46/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=zG6%2BxU3XWzipNxov0fkxEsUH4lyihThJpFjq4XlDnx4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/47/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=8Sw1doUy3u7V/mSkA1bFms54oBcKD8dpFm79vbxnhlY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/48/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yfnYUwdcrK976YNJEg%2BMJlZbp99ewQjJgsR%2Bl8opCQI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/49/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hqEJFHSAekMOVYVlN5sCEgunR0e7M57eCrqB2IMtmKw%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/50/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pL5GMwiT%2BD72Zk9EuMXwwFfWVF9jMWbTEU0HyCl6xNc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/51/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gT08LFSoWUTdOGB2d%2BZtDWZQEvlsPkkNKra2T0WjLPU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/52/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=LtMWWoyfUPcFbf42%2BHR/n6iEnr/jocJSEt6LFdfqCKc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/53/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4hBGTbNueUnHg951XoqyKAx2ZqxvlstfaY2cw9wTyUc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/54/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=p8wj4bI7u/uZOA58Te8U6T0%2BtDrYqeUkhInQuA5Rm94%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/55/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1FLm5rAamUv8nEaaHjQ2s0SpLWbH5ZhCi8nOw5mfg9w%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/56/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gcwoay0grLf%2BGAqrBeleuQxO77Hw/1N0pdofnnZB/64%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/57/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GWFjquKtWJDtSi5op4oh4kV1VWekHkLu3VjO7j2ly/0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/58/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hLIGYFB6u2l/eAzHeWL7EtM3G7LkzY2sUIJWBweRf8Y%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/59/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ujjLQ5mblJBh2X%2BHn%2B%2BAbXBUkvU9l/6FKgkFIOqDUWw%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/60/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9kSUr7Xn1tEanZ/JTjyJ2GZ9GdLKOk7Q0gj8rL6nhdU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/61/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4lppdcyHqbjjcUJjHigd8id8n4KCwZZ/F8QJqgYPfcw%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/62/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GhcxMBVVfDxeb0DnH%2BW745r1AK7/6mLIGrV33HTeUbQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/63/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=IwL9LtlEIW8kye3wBMSs1tXeJ2/QX3QiTv4NeO8OZcU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/64/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=EQDreY7wGnaCbpUbbVb%2BcIfBvp2oRaAVZjk00skP9vQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/65/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=PibH5ZpIvB2LPM/zSntil/CokrDpjC%2B5kfkC0/%2BYjbg%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/66/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=f4iKTgwmMErhnVt8MNGT6JSGqMu4D0Bl5kfn1P5m%2Bgs%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/67/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=uiLbcoMzZ6obysSHcHOzv9DphFInXl94YaYSGfI1CrY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/68/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NzPA4KuadgoeY7hKvTKo1LXl47AEv0izaxgcU2Y1%2BN4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/69/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aw%2BuDvwR/HYn7kZ/hHQ0%2Bkae1uOB/mX0aT618O49DvU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/70/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=15b6prxm0DzVlIEn93DCoxmnzr3FAl0R9C9FrSP8R8Y%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/71/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=sKviFsAarezfOAKkqFpbzpVuPsXhsWZmICzES2ivp/A%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/72/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=DRBRZf3KQX%2Bat%2BwMZaMR%2BpGJm%2BREVVe5kcjes4eYBiE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/73/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=grzo4xrtUJvuJ9VtSx7Eg9rA/ffKzyYBDUYzykjGO8Y%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/74/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9rf%2B%2BTL/yVd2cVoZNbkj3YClBLv77tGr1HRNii0rO2s%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/75/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=eB2k1u9DlDWb0e0JS4D6UPDtEdPx4RHimI%2BVzy1MhEM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/76/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=355VfjSkCdkAOjqRMobPbG3GB1JMhFyvq/7dtGheRkM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/77/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ZfBc/b%2BWQGryLAEpwC0BtjHijtPghKP2b1b0bzCxehQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/78/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hj6Patnin49Cb7R%2BMeyZGBte6vxHH62HUelOh2bcBbA%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/79/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Nuk1gxAUd3s4WU7%2B320emlocY2Tie0eMsiEl6xUpSBA%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/80/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=iPZnh/bigsA9iyPjSTjzl5OIdzGfFgmH9IdFwA3mTRw%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/81/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=mKgB9AmAfv8%2BrPJ%2BLTaVA/eD1IYKaICeMwCgSn65jXs%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/82/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QgmLKKEvf272qOywdLl3BRSogk7oAIeknRThsI%2BbLqY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/83/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=zBdCaBDmhg8aeWHMh3fMdQaXLJkSjaaq6waHoex4yJI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/84/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ddv/Q22WEJB1R%2B6bJWZD%2BB3IHKoEzJaYQmayYkHdrlU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/85/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=w3brrO7geBl/0n/jM7W7BZruQMNfM0SorGqiQeyJaBE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/86/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3Y2zucu35QtodXd1PDpYfJDK9i%2BY2LVpdjvVa8oYQt4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/87/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=n9ZsshnO5VEAAKVDOmn0AzhizE0y4Lb2iiszjt7Yous%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/88/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=snYOFNllT3jmKfwpiMPWpEV7tfS9RQCVSurDY98bIao%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/89/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Xtwom5ycw0J57jrzDQPz6OhpWjsFi0nEfqVrkeQrl6A%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/90/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=US8vj1Db7jig7RRlYSnDAZK3UYH4gm42Af6UrzpbryA%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/91/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nm8WvWPnc8zHKnoqA6NkqX1N93kIx9sPVmcJ5xJiteY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/92/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wsg/P6/%2BKebsVfM/6lqTiwCsCvPJFQsPUunBOg0MScU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/93/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=H8eCBNN%2Btof3R3lvR6v41BZEjWcDXD7so8j0l03%2B99Y%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/94/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=HjU5sSYU5aeI/t9nCz4NkFiRdA0Tqtnx%2BLxinItdTo4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/95/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NnunGZoAH/D0cq8n0sQHRlhZ1v1o5JwKk/1UfVAu92c%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/96/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wCaqsHbtyNHcylPtP9FXxMwhl5YJ97trLhJtePtcLkY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/97/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=j1I%2BZ0CTlxrM956TgrPYrCFJx3D09qrNEGq8BNbqVJ0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/98/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Gk9jF7lxFRq9nj3UTE0/YlDQBWYdL3ySUdl8gbj1UgE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/99/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=DiZFcnCI1f47rHaVM9mY9YzZsZA8ToOBHuHgBHtqj9E%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/100/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=e0bEXWFLAeUeRYpFZ8LmBUJM7YKb5u5AyKOlMo7Klf8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/101/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=rpqSuP1Tu0JuR1ELug3T59We2o2wfwa2Xp2WIccz%2Bb8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/102/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=K3l/Hbbjaii3OK/A4nBtgjynG2A69gHnqnjHAwl01CY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/103/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=VtDMGUrEJKdn8he9B1WYnsuM8Zj4z6Nia7iu3oQNL5I%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/104/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SxNgqjOUa3mx5aX3RIJQVApmd3L4JUP2megVGJ1XKjA%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/105/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=M/XvJE7X/dFSv6Iem%2BhkjIyJVFa22R9N79Xn8UnaCAI%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/106/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cfreGuFOl0/TWe/fkZ5FEewkpRZXrVU8y94Fa582nb0%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/107/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GWnZksWyn33Umz1l/c0ZjwkE9NYxdMqmiDRbBPVdlMc%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/108/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=AeUDO3Y/uhyGFvBO8tFpjQlJNoVzTXrxBL2v/eDIqvg%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/109/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SG2Sy6ggdaW55GZbJwII2RS5REnrCXuw5znrhT%2BdkMQ%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/110/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=oX/xwJpbDDy4jOg%2B4/XIR/ezcN6u9r/6jIsF33OOUw8%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/111/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2Wfq6bueVjYMfMQta3wjMKtJ3g4B1OF3GmQdzWK8S0M%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/112/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=psxUuVNKxDeu3g5xv3%2BuhdP7rrkP2cOcZ7FJNxRKCh4%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/113/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1IySoCLFLTECiZHbcqQis4AfGrJRId3hL0Z3uz8VFiE%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/114/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gwhHD0US%2BbJSdPWg8GWXMW96i3fNfucj2mzx21dTLAM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/115/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=7IH32d3YfNF01b42I3yTKMtxPO2o9bgZm4Uj0iqYeJM%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/116/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=33QBRPx8hX667YX17JgAfyDz97do8cROISHR/jBw1YU%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/117/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=BhgFg6c74rMFYuxKYZfmgZH6YZGgPb9aEo7IHw5dXhY%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/118/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=TCxgujxDOtvGWsKpheHV0HH1MnbE3x6gSDsQs2Y5S1U%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/119/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=YO0I3SV5PBNpq5zn%2BxOvkfdz8YwHVcPMIovL1h%2BeS/o%3D\",\n  \"https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/120/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aluzhD7EJgmN1mFZStJACXSLsfJL4vxNBr0RKLxPDWY%3D\"\n];\n\nexport const demoProps = {\n  max: demoLogUrls.length,\n  name: '2019-12-10--01-13-27',\n  dongleId: '3533c53bb29502d1',\n  dbc: CorollaDBC,\n  isDemo: true,\n  dbcFilename: 'toyota_nodsu_pt_generated.dbc',\n};\n\nexport const demoRoute = {\n  fullname: '3533c53bb29502d1|2019-12-10--01-13-27',\n  proclog: demoProps.max,\n  start_time: Moment(demoProps.name, 'YYYY-MM-DD--H-m-s'),\n  url: 'https://chffrprivate.blob.core.windows.net/chffrprivate3-permanent/v2/3533c53bb29502d1/02505e68c591e4160b38210fa5f8d44a_2019-12-10--01-13-27'\n};\n\n","// Vendored from https://github.com/rapid7/le_js, which is broken with webpack.\n/* eslint-disable */\n\nif (typeof window === \"undefined\") {\n  // eslint-disable-line no-use-before-define\n  var window = self;\n}\nvar _indexOf = function(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (obj === array[i]) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n// Obtain a browser-specific XHR object\nvar _getAjaxObject = function() {\n  if (typeof XDomainRequest !== \"undefined\") {\n    // We're using IE8/9\n    return new XDomainRequest();\n  }\n  return new XMLHttpRequest();\n};\n\n/**\n * A single log event stream.\n * @constructor\n * @param {Object} options\n */\nfunction LogStream(options) {\n  /**\n   * @const\n   * @type {string} */\n  var _traceCode = options.trace\n    ? (Math.random() + Math.PI).toString(36).substring(2, 10)\n    : null;\n  /** @type {string} */\n  var _pageInfo = options.page_info;\n  /** @type {string} */\n  var _token = options.token;\n  /** @type {boolean} */\n  var _print = options.print;\n  /** @type {boolean} */\n  var _noFormat = options.no_format;\n  /** @type {boolean} */\n  var _SSL = (function() {\n    if (typeof XDomainRequest === \"undefined\") {\n      return options.ssl;\n    }\n    // If we're relying on XDomainRequest, we\n    // must adhere to the page's encryption scheme.\n    return window.location.protocol === \"https:\" ? true : false;\n  })();\n  /** @type {string} */\n  var _endpoint;\n  if (window.LEENDPOINT) {\n    _endpoint = window.LEENDPOINT;\n  } else if (_noFormat) {\n    _endpoint = \"webhook.logentries.com/noformat\";\n  } else {\n    _endpoint = \"js.logentries.com/v1\";\n  }\n  _endpoint = (_SSL ? \"https://\" : \"http://\") + _endpoint + \"/logs/\" + _token;\n\n  /**\n   * Flag to prevent further invocations on network err\n   ** @type {boolean} */\n  var _shouldCall = true;\n  /** @type {Array.<string>} */\n  var _backlog = [];\n  /** @type {boolean} */\n  var _active = false;\n  /** @type {boolean} */\n  var _sentPageInfo = false;\n\n  var _apiCall = function(token, data) {\n    _active = true;\n\n    var request = _getAjaxObject();\n\n    if (_shouldCall) {\n      if (request.constructor === XMLHttpRequest) {\n        // Currently we don't support fine-grained error\n        // handling in older versions of IE\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            // Handle any errors\n            if (request.status >= 400) {\n              console.error(\"Couldn't submit events.\");\n              if (request.status === 410) {\n                // This API version has been phased out\n                console.warn(\"This version of le_js is no longer supported!\");\n              }\n            } else {\n              if (request.status === 301) {\n                // Server issued a deprecation warning\n                console.warn(\n                  \"This version of le_js is deprecated! Consider upgrading.\"\n                );\n              }\n              if (_backlog.length > 0) {\n                // Submit the next event in the backlog\n                _apiCall(token, _backlog.shift());\n              } else {\n                _active = false;\n              }\n            }\n          }\n        };\n      } else {\n        request.onload = function() {\n          if (_backlog.length > 0) {\n            // Submit the next event in the backlog\n            _apiCall(token, _backlog.shift());\n          } else {\n            _active = false;\n          }\n        };\n      }\n\n      request.open(\"POST\", _endpoint, true);\n      if (request.constructor === XMLHttpRequest) {\n        request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n        request.setRequestHeader(\"Content-type\", \"application/json\");\n      }\n\n      if (request.overrideMimeType) {\n        request.overrideMimeType(\"text\");\n      }\n\n      request.send(data);\n    }\n  };\n\n  var _getEvent = function() {\n    var raw = null;\n    var args = Array.prototype.slice.call(arguments);\n    if (args.length === 0) {\n      throw new Error(\"No arguments!\");\n    } else if (args.length === 1) {\n      raw = args[0];\n    } else {\n      // Handle a variadic overload,\n      // e.g. _rawLog(\"some text \", x, \" ...\", 1);\n      raw = args;\n    }\n    return raw;\n  };\n\n  var _agentInfo = function() {\n    var nav = window.navigator || { doNotTrack: undefined };\n    var screen = window.screen || {};\n    var location = window.location || {};\n\n    return {\n      url: location.pathname,\n      referrer: document.referrer,\n      screen: {\n        width: screen.width,\n        height: screen.height\n      },\n      window: {\n        width: window.innerWidth,\n        height: window.innerHeight\n      },\n      browser: {\n        name: nav.appName,\n        version: nav.appVersion,\n        cookie_enabled: nav.cookieEnabled,\n        do_not_track: nav.doNotTrack\n      },\n      platform: nav.platform\n    };\n  };\n\n  // Single arg stops the compiler arity warning\n  var _rawLog = function(msg) {\n    var event = _getEvent.apply(this, arguments);\n\n    var data = { event: event };\n\n    // Add agent info if required\n    if (_pageInfo !== \"never\") {\n      if (!_sentPageInfo || _pageInfo === \"per-entry\") {\n        _sentPageInfo = true;\n        if (\n          typeof event.screen === \"undefined\" &&\n          typeof event.browser === \"undefined\"\n        )\n          _rawLog(_agentInfo())\n            .level(\"PAGE\")\n            .send();\n      }\n    }\n\n    if (_traceCode) {\n      data.trace = _traceCode;\n    }\n\n    return {\n      level: function(l) {\n        // Don't log PAGE events to console\n        // PAGE events are generated for the agentInfo function\n        if (_print && typeof console !== \"undefined\" && l !== \"PAGE\") {\n          var serialized = null;\n          if (typeof XDomainRequest !== \"undefined\") {\n            // We're using IE8/9\n            serialized = data.trace + \" \" + data.event;\n          }\n          try {\n            console[l.toLowerCase()].call(console, serialized || data);\n          } catch (ex) {\n            // IE compat fix\n            console.log(serialized || data);\n          }\n        }\n        data.level = l;\n\n        return {\n          send: function() {\n            var cache = [];\n            var serialized = JSON.stringify(data, function(key, value) {\n              if (typeof value === \"undefined\") {\n                return \"undefined\";\n              } else if (typeof value === \"object\" && value !== null) {\n                if (_indexOf(cache, value) !== -1) {\n                  // We've seen this object before;\n                  // return a placeholder instead to prevent\n                  // cycles\n                  return \"<?>\";\n                }\n                cache.push(value);\n              }\n              return value;\n            });\n\n            if (_active) {\n              _backlog.push(serialized);\n            } else {\n              _apiCall(_token, serialized);\n            }\n          }\n        };\n      }\n    };\n  };\n\n  if (options.catchall) {\n    var oldHandler = window.onerror;\n    var newHandler = function(msg, url, line) {\n      _rawLog({ error: msg, line: line, location: url })\n        .level(\"ERROR\")\n        .send();\n      if (oldHandler) {\n        return oldHandler(msg, url, line);\n      } else {\n        return false;\n      }\n    };\n    window.onerror = newHandler;\n  }\n\n  /** @expose */\n  this.log = _rawLog;\n}\n\n/**\n * A single log object\n * @constructor\n * @param {Object} options\n */\nfunction Logger(options) {\n  var logger;\n\n  // Default values\n  var dict = {\n    ssl: true,\n    catchall: false,\n    trace: true,\n    page_info: \"never\",\n    print: false,\n    endpoint: null,\n    token: null\n  };\n\n  if (typeof options === \"object\") for (var k in options) dict[k] = options[k];\n  else throw new Error(\"Invalid parameters for createLogStream()\");\n\n  if (dict.token === null) {\n    throw new Error(\"Token not present.\");\n  } else {\n    logger = new LogStream(dict);\n  }\n\n  var _log = function(msg) {\n    if (logger) {\n      return logger.log.apply(this, arguments);\n    } else throw new Error(\"You must call LE.init(...) first.\");\n  };\n\n  // The public interface\n  return {\n    log: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"LOG\")\n        .send();\n    },\n    warn: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"WARN\")\n        .send();\n    },\n    error: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"ERROR\")\n        .send();\n    },\n    info: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"INFO\")\n        .send();\n    }\n  };\n}\n\n// Array of Logger elements\nvar loggers = {};\n\nvar _getLogger = function(name) {\n  if (!loggers.hasOwnProperty(name))\n    throw new Error(\"Invalid name for logStream\");\n\n  return loggers[name];\n};\n\nvar _createLogStream = function(options) {\n  if (typeof options.name !== \"string\") throw new Error(\"Name not present.\");\n  else if (loggers.hasOwnProperty(options.name))\n    throw new Error(\"A logger with that name already exists!\");\n  loggers[options.name] = new Logger(options);\n\n  return true;\n};\n\nvar _deprecatedInit = function(options) {\n  var dict = {\n    name: \"default\"\n  };\n\n  if (typeof options === \"object\") for (var k in options) dict[k] = options[k];\n  else if (typeof options === \"string\") dict.token = options;\n  else throw new Error(\"Invalid parameters for init()\");\n\n  return _createLogStream(dict);\n};\n\nvar _destroyLogStream = function(name) {\n  if (typeof name === \"undefined\") {\n    name = \"default\";\n  }\n\n  delete loggers[name];\n};\n\n// The public interface\nexport default {\n  init: _deprecatedInit,\n  createLogStream: _createLogStream,\n  to: _getLogger,\n  destroy: _destroyLogStream,\n  log: function() {\n    for (var k in loggers) loggers[k].log.apply(this, arguments);\n  },\n  warn: function() {\n    for (var k in loggers) loggers[k].warn.apply(this, arguments);\n  },\n  error: function() {\n    for (var k in loggers) loggers[k].error.apply(this, arguments);\n  },\n  info: function() {\n    for (var k in loggers) loggers[k].info.apply(this, arguments);\n  }\n};\n","// Wrapper of aphrodite css() function\n// that supports string class names in\n// addition to style objects.\n\n// Useful for component testing\n\nimport { css } from 'aphrodite';\nimport classNames from 'classnames';\n\nexport default function () {\n  const styles = [];\n  const classes = [];\n\n  [].forEach.call(arguments, (it) => {\n    if (it && it._definition && it._name) styles.push(it);\n    else classes.push(it);\n  });\n\n  return classNames.apply(null, [...classes, css(styles)]);\n}\n"],"sourceRoot":""}