(this["webpackJsonpcan-explorer"]=this["webpackJsonpcan-explorer"]||[]).push([[0],{111:function(e,t,n){"use strict";var a=new(n(36).a)('\nCM_ "AUTOGENERATED FILE, DO NOT EDIT"\n\n\nCM_ "Imported file _comma.dbc starts here"\nBO_ 359 STEERING_IPAS_COMMA: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] "" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] "deg" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] "" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] "" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X00 : 55|8@0+ (1,0) [0|255] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nCM BO_ STEERING_IPAS_COMMA "Copy of msg 614 so we can do angle control while the Park Assist ECU is connected (Panda spoofs 614 with 359 on connector J70). Note that addresses 0x266 and 0x167 are checksum-invariant";\n\n BO_ 512 GAS_COMMAND: 6 EON\n  SG_ GAS_COMMAND : 7|16@0+ (0.159375,-75.555) [0|1] "" INTERCEPTOR\n  SG_ GAS_COMMAND2 : 23|16@0+ (0.159375,-151.111) [0|1] "" INTERCEPTOR\n  SG_ ENABLE : 39|1@0+ (1,0) [0|1] "" INTERCEPTOR\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] "" INTERCEPTOR\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] "" INTERCEPTOR\n\n BO_ 513 GAS_SENSOR: 6 INTERCEPTOR\n  SG_ INTERCEPTOR_GAS : 7|16@0+ (0.159375,-75.555) [0|1] "" EON\n  SG_ INTERCEPTOR_GAS2 : 23|16@0+ (0.159375,-151.111) [0|1] "" EON\n  SG_ STATE : 39|4@0+ (1,0) [0|15] "" EON\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] "" EON\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] "" EON\n\n VAL_ 513 STATE 5 "FAULT_TIMEOUT" 4 "FAULT_STARTUP" 3 "FAULT_SCE" 2 "FAULT_SEND" 1 "FAULT_BAD_CHECKSUM" 0 "NO_FAULT" ;\n\n\nCM_ "Imported file _toyota_2017.dbc starts here"\nVERSION ""\n\n\nNS_ :\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_\n\nBS_:\n\nBU_: XXX DSU HCU EPS IPAS CGW\n\nBO_ 36 KINEMATICS: 8 XXX\n SG_ ACCEL_Y : 33|10@0+ (0.03589,-18.375) [0|65535] "m/s^2" XXX\n SG_ YAW_RATE : 1|10@0+ (0.244,-125) [0|65535] "deg/sec" XXX\n SG_ STEERING_TORQUE : 17|10@0+ (1,-512) [0|65535] "" XXX\n\nBO_ 37 STEER_ANGLE_SENSOR: 8 XXX\n SG_ STEER_ANGLE : 3|12@0- (1.5,0) [-500|500] "deg" XXX\n SG_ STEER_FRACTION : 39|4@0- (0.1,0) [-0.7|0.7] "deg" XXX\n SG_ STEER_RATE : 35|12@0- (1,0) [-2000|2000] "deg/s" XXX\n\nBO_ 166 BRAKE: 8 XXX\n SG_ BRAKE_AMOUNT : 7|8@0+ (1,0) [0|255] "" XXX\n SG_ BRAKE_PEDAL : 23|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 170 WHEEL_SPEEDS: 8 XXX\n SG_ WHEEL_SPEED_FR : 7|16@0+ (0.01,-67.67) [0|250] "kph" XXX\n SG_ WHEEL_SPEED_FL : 23|16@0+ (0.01,-67.67) [0|250] "kph" XXX\n SG_ WHEEL_SPEED_RR : 39|16@0+ (0.01,-67.67) [0|250] "kph" XXX\n SG_ WHEEL_SPEED_RL : 55|16@0+ (0.01,-67.67) [0|250] "kph" XXX\n\nBO_ 180 SPEED: 8 XXX\n SG_ ENCODER : 39|8@0+ (1,0) [0|255] "" XXX\n SG_ SPEED : 47|16@0+ (0.01,0) [0|250] "kph" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 353 DSU_SPEED: 8 XXX\n SG_ FORWARD_SPEED : 15|16@0- (0.00390625,-30) [0|255] "kph" XXX\n\nBO_ 466 PCM_CRUISE: 8 XXX\n SG_ GAS_RELEASED : 4|1@0+ (1,0) [0|1] "" XXX\n SG_ CRUISE_ACTIVE : 5|1@0+ (1,0) [0|1] "" XXX\n SG_ STANDSTILL_ON : 12|1@0+ (1,0) [0|1] "" XXX\n SG_ ACCEL_NET : 23|16@0- (0.001,0) [-20|20] "m/s2" XXX\n SG_ CRUISE_STATE : 55|4@0+ (1,0) [0|15] "" XXX\n SG_ CANCEL_REQ : 49|1@1+ (1,0) [0|1] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 467 PCM_CRUISE_2: 8 XXX\n SG_ MAIN_ON : 15|1@0+ (1,0) [0|1] "" XXX\n SG_ LOW_SPEED_LOCKOUT : 14|2@0+ (1,0) [0|3] "kph" XXX\n SG_ SET_SPEED : 23|8@0+ (1,0) [0|255] "kph" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 552 ACCELEROMETER: 8 XXX\n SG_ ACCEL_Z : 22|15@0- (1,0) [0|32767] "" XXX\n SG_ ACCEL_X : 6|15@0- (0.001,0) [-20|20] "m/s2" XXX\n\nBO_ 560 BRAKE_MODULE2: 7 XXX\n SG_ BRAKE_PRESSED : 26|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 614 STEERING_IPAS: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] "" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] "deg" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] "" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] "" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X00_1 : 55|8@0+ (1,0) [0|255] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 643 PRE_COLLISION: 7 DSU\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X00 : 15|8@0+ (1,0) [0|255] "" XXX\n SG_ FORCE : 23|16@0- (2,0) [0|255] "N" XXX\n SG_ SET_ME_X002 : 33|8@0+ (1,0) [0|3] "" XXX\n SG_ BRAKE_STATUS : 39|3@0+ (1,0) [0|255] "" XXX\n SG_ STATE : 36|3@0+ (1,0) [0|255] "" XXX\n SG_ SET_ME_X003 : 40|1@0+ (1,0) [0|1] "" XXX\n SG_ PRECOLLISION_ACTIVE : 41|1@0+ (1,0) [0|255] "" XXX\n SG_ CHECKSUM : 55|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 740 STEERING_LKA: 5 XXX\n SG_ LKA_STATE : 31|8@0+ (1,0) [0|255] "" XXX\n SG_ STEER_REQUEST : 0|1@0+ (1,0) [0|1] "" XXX\n SG_ COUNTER : 6|6@0+ (1,0) [0|63] "" XXX\n SG_ SET_ME_1 : 7|1@0+ (1,0) [0|1] "" XXX\n SG_ STEER_TORQUE_CMD : 15|16@0- (1,0) [0|65535] "" XXX\n SG_ CHECKSUM : 39|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 742 LEAD_INFO: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" HCU\n SG_ LEAD_REL_SPEED : 23|12@0- (0.025,0) [-100|100] "m/s" HCU\n SG_ LEAD_LONG_DIST : 7|13@0+ (0.05,0) [0|300] "m" HCU\n\nBO_ 835 ACC_CONTROL: 8 DSU\n SG_ ACCEL_CMD : 7|16@0- (0.001,0) [-20|20] "m/s2" HCU\n SG_ SET_ME_X01 : 23|2@0+ (1,0) [0|3] "" HCU\n SG_ DISTANCE : 20|1@0+ (1,0) [0|1] "" XXX\n SG_ MINI_CAR : 21|1@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X3 : 19|4@0+ (1,0) [0|15] "" XXX\n SG_ SET_ME_1 : 30|1@0+ (1,0) [0|1] "" HCU\n SG_ RELEASE_STANDSTILL : 31|1@0+ (1,0) [0|1] "" HCU\n SG_ CANCEL_REQ : 24|1@0+ (1,0) [0|1] "" HCU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 836 PRE_COLLISION_2: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|0] "" XXX\n\nBO_ 869 DSU_CRUISE : 7 DSU\n SG_ RES_BTN : 3|1@0+ (1,0) [0|0] "" XXX\n SG_ SET_BTN : 2|1@0+ (1,0) [0|0] "" XXX\n SG_ CANCEL_BTN : 1|1@0+ (1,0) [0|0] "" XXX\n SG_ MAIN_ON : 0|1@0+ (1,0) [0|0] "" XXX\n SG_ SET_SPEED : 15|8@0+ (1,0) [0|0] "km/h" XXX\n SG_ CRUISE_REQUEST : 31|8@0+ (100,-12800) [0|0] "N" XXX\n SG_ LEAD_DISTANCE : 39|8@0+ (1,0) [0|0] "m" XXX\n\nBO_ 921 PCM_CRUISE_SM: 8 XXX\n SG_ MAIN_ON : 4|1@0+ (1,0) [0|1] "" XXX\n SG_ CRUISE_CONTROL_STATE : 11|4@0+ (1,0) [0|15] "" XXX\n SG_ DISTANCE_LINES : 14|2@0+ (1,0) [0|3] "" XXX\n SG_ UI_SET_SPEED : 31|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 951 ESP_CONTROL: 8 ESP\n SG_ TC_DISABLED : 13|1@0+ (1,0) [0|1] "" XXX\n SG_ VSC_DISABLED : 12|2@0+ (1,0) [0|1] "" XXX\n SG_ BRAKE_LIGHTS_ACC : 18|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 1041 ACC_HUD: 8 DSU\n SG_ FCW : 4|1@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X20 : 15|8@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X10 : 39|8@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X80 : 55|8@0+ (1,0) [0|1] "" XXX\n\nBO_ 1042 LKAS_HUD: 8 XXX\n SG_ BARRIERS : 1|2@0+ (1,0) [0|3] "" XXX\n SG_ RIGHT_LINE : 3|2@0+ (1,0) [0|3] "" XXX\n SG_ LEFT_LINE : 5|2@0+ (1,0) [0|3] "" XXX\n SG_ SET_ME_X01 : 7|2@0+ (1,0) [0|3] "" XXX\n SG_ SET_ME_X01_2 : 11|2@0+ (1,0) [0|3] "" XXX\n SG_ LDA_ALERT : 9|2@0+ (1,0) [0|3] "" XXX\n SG_ TWO_BEEPS : 12|1@0+ (1,0) [0|1] "" XXX\n SG_ ADJUSTING_CAMERA : 13|1@0+ (1,0) [0|1] "" XXX\n SG_ LDA_MALFUNCTION : 15|1@0+ (1,0) [0|1] "" XXX\n SG_ REPEATED_BEEPS : 32|1@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X0C : 23|8@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X2C : 47|8@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X38 : 55|8@0+ (1,0) [0|1] "" XXX\n SG_ SET_ME_X02 : 63|8@0+ (1,0) [0|1] "" XXX\n\nBO_ 1043 TIME : 8 CGW\n SG_ YEAR : 7|8@0+ (1,0) [0|0] "year" XXX\n SG_ MONTH : 15|8@0+ (1,0) [0|0] "month" XXX\n SG_ DAY : 23|8@0+ (1,0) [0|0] "day" XXX\n SG_ HOUR : 31|8@0+ (1,0) [0|0] "hour" XXX\n SG_ MINUTE : 39|8@0+ (1,0) [0|0] "minute" XXX\n SG_ GMT_DIFF : 55|1@0+ (1,0) [0|0] "" XXX\n SG_ GMTDIFF_HOURS : 54|4@0+ (1,0) [0|0] "hours" XXX\n SG_ GMTDIFF_MINUTES : 50|6@0+ (1,0) [0|0] "minutes" XXX\n SG_ SUMMER : 60|1@0+ (1,0) [0|0] "" XXX\n\nBO_ 1408 VIN_PART_1: 8 CGW\n SG_ VIN_1 : 7|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_2 : 15|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_3 : 23|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_4 : 31|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_5 : 39|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_6 : 47|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_7 : 55|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_8 : 63|8@0+ (1,0) [0|0] "" XXX\n\nBO_ 1409 VIN_PART_2: 8 CGW\n SG_ VIN_9 : 7|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_10 : 15|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_11 : 23|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_12 : 31|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_13 : 39|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_14 : 47|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_15 : 55|8@0+ (1,0) [0|0] "" XXX\n SG_ VIN_16 : 63|8@0+ (1,0) [0|0] "" XXX\n\nBO_ 1410 VIN_PART_3: 8 CGW\n SG_ VIN_17 : 7|8@0+ (1,0) [0|0] "" XXX\n\nBO_ 1553 UI_SETTING: 8 XXX\n SG_ UNITS : 26|2@0+ (1,0) [0|3] "" XXX\n\nBO_ 1556 STEERING_LEVERS: 8 XXX\n SG_ TURN_SIGNALS : 29|2@0+ (1,0) [0|3] "" XXX\n\nBO_ 1568 SEATS_DOORS: 8 XXX\n SG_ SEATBELT_DRIVER_UNLATCHED : 62|1@0+ (1,0) [0|1] "" XXX\n SG_ DOOR_OPEN_FL : 45|1@0+ (1,0) [0|1] "" XXX\n SG_ DOOR_OPEN_RL : 42|1@0+ (1,0) [0|1] "" XXX\n SG_ DOOR_OPEN_RR : 43|1@0+ (1,0) [0|1] "" XXX\n SG_ DOOR_OPEN_FR : 44|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 1570 LIGHT_STALK: 8 SCM\n SG_ AUTO_HIGH_BEAM : 37|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 1161 RSA1: 8 FCM\n SG_ TSGN1 : 7|8@0+ (1,0) [0|0] "" XXX\n SG_ TSGNGRY1 : 12|3@0+ (1,0) [0|0] "" XXX\n SG_ TSGNHLT1 : 9|2@0+ (1,0) [0|0] "" XXX\n SG_ SPDVAL1 : 23|8@0+ (1,0) [0|0] "kph" XXX\n SG_ SPLSGN1 : 31|4@0+ (1,0) [0|0] "" XXX\n SG_ SPLSGN2 : 27|4@0+ (1,0) [0|0] "" XXX\n SG_ TSGN2 : 39|8@0+ (1,0) [0|0] "" XXX\n SG_ TSGNGRY2 : 44|3@0+ (1,0) [0|0] "" XXX\n SG_ TSGNHLT2 : 41|2@0+ (1,0) [0|0] "" XXX\n SG_ SPDVAL2 : 55|8@0+ (1,0) [0|0] "" XXX\n SG_ BZRRQ_P : 63|2@0+ (1,0) [0|0] "" XXX\n SG_ BZRRQ_A : 61|2@0+ (1,0) [0|0] "" XXX\n SG_ SYNCID1 : 59|4@0+ (1,0) [0|0] "" XXX\n\nBO_ 1162 RSA2: 8 FCM\n SG_ TSGN3 : 7|8@0+ (1,0) [0|0] "" XXX\n SG_ TSGNGRY3 : 12|3@0+ (1,0) [0|0] "" XXX\n SG_ TSGNHLT3 : 9|2@0+ (1,0) [0|0] "" XXX\n SG_ SPLSGN3 : 31|4@0+ (1,0) [0|0] "" XXX\n SG_ SPLSGN4 : 27|4@0+ (1,0) [0|0] "" XXX\n SG_ TSGN4 : 39|8@0+ (1,0) [0|0] "" XXX\n SG_ TSGNGRY4 : 44|3@0+ (1,0) [0|0] "" XXX\n SG_ TSGNHLT4 : 41|2@0+ (1,0) [0|0] "" XXX\n SG_ DPSGNREQ : 54|1@0+ (1,0) [0|0] "" XXX\n SG_ SGNNUMP : 53|3@0+ (1,0) [0|0] "" XXX\n SG_ SGNNUMA : 50|3@0+ (1,0) [0|0] "" XXX\n SG_ SPDUNT : 63|2@0+ (1,0) [0|0] "" XXX\n SG_ TSRWMSG : 61|2@0+ (1,0) [0|0] "" XXX\n SG_ SYNCID2 : 59|4@0+ (1,0) [0|0] "" XXX\n\nBO_ 1163 RSA3: 8 FCM\n SG_ TSREQPD : 7|1@0+ (1,0) [0|0] "" XXX\n SG_ TSRMSW : 6|1@0+ (1,0) [0|0] "" XXX\n SG_ OTSGNNTM : 5|2@0+ (1,0) [0|0] "" XXX\n SG_ NTLVLSPD : 3|2@0+ (1,0) [0|0] "" XXX\n SG_ OVSPNTM : 1|2@0+ (1,0) [0|0] "" XXX\n SG_ OVSPVALL : 11|4@0+ (1,-5) [0|0] "" XXX\n SG_ OVSPVALM : 19|4@0+ (1,-5) [0|0] "" XXX\n SG_ OVSPVALH : 27|4@0+ (1,-5) [0|0] "" XXX\n SG_ TSRSPU : 33|2@0+ (1,0) [0|0] "" XXX\n\nCM_ SG_ 36 ACCEL_Y "unit is tbd";\nCM_ SG_ 36 YAW_RATE "verify";\nCM_ SG_ 36 STEERING_TORQUE "does not seem the steer torque, tbd";\nCM_ SG_ 37 STEER_FRACTION "1/15th of the signal STEER_ANGLE, which is 1.5 deg; note that 0x8 is never set";\nCM_ SG_ 37 STEER_RATE "factor is tbd";\nCM_ SG_ 466 ACCEL_NET "net acceleration produced by the system, given ACCEL_CMD, road grade and other factors";\nCM_ SG_ 467 SET_SPEED "43 kph are shown as 28mph, so conversion isnt perfect";\nCM_ SG_ 467 LOW_SPEED_LOCKOUT "in low speed lockout, system would always disengage below 28mph";\nCM_ SG_ 560 BRAKE_PRESSED "another brake pressed?";\nCM_ SG_ 608 STEER_TORQUE_DRIVER "driver torque";\nCM_ SG_ 608 STEER_OVERRIDE "set when driver torque exceeds a certain value";\nCM_ SG_ 614 ANGLE "set to measured angle when ipas control isn\'t active";\nCM_ SG_ 643 COUNTER "only used on cars that use this msg for cruise control";\nCM_ SG_ 643 BRAKE_STATUS "only used on cars that use this msg for cruise control";\nCM_ SG_ 643 PRECOLLISION_ACTIVE "set 0.5s before any braking";\nCM_ SG_ 921 UI_SET_SPEED "set speed shown in UI with user set unit";\nCM_ SG_ 951 BRAKE_LIGHTS_ACC "brake lights when ACC commands decel";\nCM_ SG_ 1042 SET_ME_1 "unclear what this is, but it\'s always 1 in drive traces";\nCM_ SG_ 1042 REPEATED_BEEPS "recommended for fcw and other important alerts";\nCM_ SG_ 1161 SPDVAL1 "Numbers 0-199 is displayed, 200-254 displays circle without number and 255 is for no limit.";\nCM_ SG_ 1161 SYNCID1 "counter from 1 to f at 1 Hz";\nCM_ SG_ 1161 SPDVAL2 "conditional speed value 70"\nCM_ SG_ 1162 SGNNUMP "1 if SPDVAL1 is set, otherwise 0";\nCM_ SG_ 1162 SYNCID2 "counter from 1 to f at 1 Hz";\nCM_ SG_ 1163 TSREQPD "always 1";\nCM_ SG_ 1163 TSRMSW "always 1";\nCM_ SG_ 1163 OTSGNNTM "always 3";\nCM_ SG_ 1163 NTLVLSPD "always 3";\nCM_ SG_ 1163 OVSPNTM "always 3";\nCM_ SG_ 1163 OVSPVALL "-5 at start then 2 after 2 seconds";\nCM_ SG_ 1163 OVSPVALM "-5 at start then 5 after 2 seconds";\nCM_ SG_ 1163 OVSPVALH "-5 at start then 10 after 2 seconds";\nCM_ SG_ 1163 TSRSPU "always 1";\n\nVAL_ 466 CRUISE_STATE 8 "active" 7 "standstill" 1 "off";\nVAL_ 467 LOW_SPEED_LOCKOUT 2 "low speed locked" 1 "ok";\nVAL_ 614 STATE 3 "enabled" 1 "disabled";\nVAL_ 614 DIRECTION_CMD 3 "right" 2 "center" 1 "left";\nVAL_ 643 STATE 0 "normal" 1 "adaptive_cruise_control" 3 "emergency_braking";\nVAL_ 921 CRUISE_CONTROL_STATE 2 "disabled" 11 "hold" 10 "hold_waiting_user_cmd" 6 "enabled" 5 "faulted";\nVAL_ 1042 LDA_ALERT 3 "hold with continuous beep" 2 "LDA unavailable" 1 "hold" 0 "none";\nVAL_ 1042 BARRIERS 3 "both" 2 "right" 1 "left" 0 "none";\nVAL_ 1042 RIGHT_LINE 3 "orange" 2 "faded" 1 "solid" 0 "none";\nVAL_ 1042 LEFT_LINE 3 "orange" 2 "faded" 1 "solid" 0 "none";\nVAL_ 1553 UNITS 1 "km" 2 "miles";\nVAL_ 1556 TURN_SIGNALS 3 "none" 2 "right" 1 "left";\nVAL_ 1161 TSGN1 1 "speed sign" 0 "none";\nVAL_ 1161 TSGN2 1 "speed sign" 0 "none";\nVAL_ 1161 SPLSGN2 15 "conditional blank" 4 "wet road" 5 "rain" 0 "none";\nVAL_ 1162 TSGN3 0 "none" 1 "speed sign" 2 "0 unlimited" 7 "unlimited" 16 "highway" 17 "no highway" 18 "motorway" 19 "no motorway" 20 "in city" 21 "outside city" 22 "pedestrian area" 23 "no pedestrian area" 65 "no overtaking left" 66 "no overtaking right" 67 "overtaking allowed again" 129 "no entry";\nVAL_ 1162 SPLSGN3 15 "conditional blank" 4 "wet road" 5 "rain" 0 "none";\n\n\nCM_ "CHFFR_METRIC 37 STEER_ANGLE STEER_ANGLE 0.36 180";\n\nCM_ "toyota_nodsu_pt.dbc starts here"\n\n\n\nBO_ 401 STEERING_LTA: 8 XXX\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n SG_ SETME_X3 : 29|2@0+ (1,0) [0|3] "" XXX\n SG_ PERCENTAGE : 39|8@0+ (1,0) [0|255] "" XXX\n SG_ SETME_X64 : 47|8@0+ (1,0) [0|255] "" XXX\n SG_ ANGLE : 55|8@0- (0.5,0) [0|255] "" XXX\n SG_ STEER_ANGLE_CMD : 15|16@0- (0.0573,0) [-540|540] "" XXX\n SG_ STEER_REQUEST : 25|1@0+ (1,0) [0|1] "" XXX\n SG_ BIT : 30|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 550 BRAKE_MODULE: 8 XXX\n SG_ BRAKE_PRESSURE : 0|9@0+ (1,0) [0|511] "" XXX\n SG_ BRAKE_POSITION : 16|9@0+ (1,0) [0|511] "" XXX\n SG_ BRAKE_PRESSED : 37|1@0+ (1,0) [0|1] "" XXX\n\nBO_ 705 GAS_PEDAL: 8 XXX\n SG_ GAS_RELEASED : 3|1@0+ (1,0) [0|1] "" XXX\n SG_ GAS_PEDAL : 55|8@0+ (0.005,0) [0|1] "" XXX\n\nBO_ 608 STEER_TORQUE_SENSOR: 8 XXX\n SG_ STEER_TORQUE_EPS : 47|16@0- (0.73,0) [-20000|20000] "" XXX\n SG_ STEER_TORQUE_DRIVER : 15|16@0- (1,0) [-32768|32767] "" XXX\n SG_ STEER_OVERRIDE : 0|1@0+ (1,0) [0|1] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n SG_ STEER_ANGLE : 31|16@0- (0.0573,0) [-500|500] "" XXX\n\nBO_ 610 EPS_STATUS: 8 EPS\n SG_ IPAS_STATE : 3|4@0+ (1,0) [0|15] "" XXX\n SG_ LKA_STATE : 31|7@0+ (1,0) [0|127] "" XXX\n SG_ TYPE : 24|1@0+ (1,0) [0|1] "" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 956 GEAR_PACKET: 8 XXX\n SG_ SPORT_ON : 2|1@0+ (1,0) [0|1] "" XXX\n SG_ GEAR : 13|6@0+ (1,0) [0|63] "" XXX\n SG_ ECON_ON : 40|1@0+ (1,0) [0|1] "" XXX\n\nCM_ SG_ 548 BRAKE_PRESSURE "seems prop to pedal force";\nCM_ SG_ 548 BRAKE_POSITION "seems proportional to pedal displacement, unclear the max value of 0x1c8";\nCM_ SG_ 610 TYPE "seems 1 on Corolla, 0 on all others";\nVAL_ 610 IPAS_STATE 5 "override" 3 "enabled" 1 "disabled";\nVAL_ 610 LKA_STATE 25 "temporary_fault" 9 "temporary_fault2" 5 "active" 1 "standby";\nVAL_ 956 GEAR 0 "D" 1 "S" 8 "N" 16 "R" 32 "P";\nVAL_ 956 SPORT_ON 0 "off" 1 "on";\nVAL_ 956 ECON_ON 0 "off" 1 "on";\n');t.a=a},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return shade}));var a=n(10);function shade(e,t){var n=Object(a.a)(e,3),s=n[0],r=n[1],i=n[2],o=t<0?0:255,l=Math.abs(t);return[Math.round((o-s)*l)+s,Math.round((o-r)*l)+r,Math.round((o-i)*l)+i]}},17:function(e,t,n){"use strict";(function(e){var a=n(2),s=n(15);function createMessageSpec(e,t,n,a){var s=e.getMessageFrame(t),r=s?s.size:8;return{address:t,id:n,bus:a,entries:[],frame:s,byteColors:Array(r).fill(0),byteStateChangeCounts:Array(r).fill(0)}}function determineByteStateChangeTimes(e,t,n,a){var s,r=Array(n).fill(0);if(a){s=a.byteStateChangeTimes;for(var i=0;i<s.length;i++){e.substr(2*i,2)!==a.hexData.substr(2*i,2)&&(s[i]=t,r[i]=1)}}else s=Array(n).fill(t);return{byteStateChangeTimes:s,byteStateChangeCounts:r}}function createMessageEntry(t,n,a,s,r,i){return{signals:t.getSignalValues(n,r),address:n,data:r,time:a,relTime:s,hexData:e.from(r).toString("hex"),byteStateChangeTimes:i,updated:Date.now()}}function parseMessage(t,n,a,s,r,i){var o;"string"===typeof s?(o=s,s=e.from(s,"hex")):o=e.from(s).toString("hex");var l=t.getMessageFrame(a),c=n-r,d=determineByteStateChangeTimes(o,c,l?l.size:Math.max(8,s.length),i),u=d.byteStateChangeTimes,m=d.byteStateChangeCounts;return{msgEntry:createMessageEntry(t,a,n,c,s,u),byteStateChangeCounts:m}}for(var r=[],i=0;i<512;i+=8)for(var o=7;o>-1;o--)r.push(i+o);t.a={bigEndianBitIndex:function bigEndianBitIndex(e){return r.indexOf(e)},addCanMessage:function addCanMessage(e,t,n,a,s,r){var i=e.address,o=e.busTime,l=e.data,c=e.bus,d="".concat(c,":").concat(i.toString(16));void 0===a[d]&&(a[d]=createMessageSpec(t,i,d,c));var u=a[d].entries.length>0?a[d].entries[a[d].entries.length-1]:s[d]||null;r[d]&&a[d].byteStateChangeCounts.every((function(e){return 0===e}))&&(a[d].byteStateChangeCounts=r[d]);var m=parseMessage(t,o,i,l,n,u),g=m.msgEntry,h=m.byteStateChangeCounts;return a[d].byteStateChangeCounts=h.map((function(e,t){return a[d].byteStateChangeCounts[t]+e})),a[d].entries.push(g),g},createMessageSpec:createMessageSpec,matrixBitNumber:function matrixBitNumber(e){return r[e]},parseMessage:parseMessage,reparseMessage:function reparseMessage(e,t,n){var a=e.getMessageFrame(t.address),r=a?a.size:8,i=determineByteStateChangeTimes(t.hexData,t.relTime,r,n),o=i.byteStateChangeTimes,l=i.byteStateChangeCounts;return{msgEntry:Object(s.a)(Object(s.a)({},t),{},{signals:e.getSignalValues(t.address,t.data),byteStateChangeTimes:o,updated:Date.now()}),byteStateChangeCounts:l}},findMaxByteStateChangeCount:function findMaxByteStateChangeCount(e){return Object.values(e).map((function(e){return e.byteStateChangeCounts})).reduce((function(e,t){return e.concat(t)}),[]).reduce((function(e,t){return e>t?e:t}),0)},setMessageByteColors:function setMessageByteColors(e,t){return e.byteColors=e.byteStateChangeCounts.map((function(e){return isNaN(e)?0:Math.min(255,75+e/t*180)})).map((function(e){return"rgb(".concat(Math.round(e),",0,0)")})),e},createMessageEntry:createMessageEntry,maxMessageSize:function maxMessageSize(t){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=s,i=Object(a.a)(t.entries);try{for(i.s();!(n=i.n()).done;){var o=n.value,l=e.from(o.hexData,"hex");l.length>r&&(r=l.length)}}catch(c){i.e(c)}finally{i.f()}return r}}}).call(this,n(37).Buffer)},20:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return h}));var a=n(22),s="4b43250e7499a97d62a5",r="https://api.comma.ai/cabana/ghcallback",i="gh_access_token",o="commaai/opendbc",l="undefined"!==typeof window&&null!==Object(a.a)("unlogger"),c="http://localhost:8080/unlogger",d="4bc98019-8277-4fe0-867c-ed21ea843cc5",u=3,m=5e3,g=60,h="https://connect.comma.ai/"},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return objToQuery})),n.d(t,"a",(function(){return getUrlParameter})),n.d(t,"b",(function(){return modifyQueryParameters}));var a=n(15);function objToQuery(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(decodeURIComponent(e[t])))})).join("&")}function getUrlParameter(e){var t=window.location;e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]".concat(e,"=([^&#]*)")).exec(t.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))}function modifyQueryParameters(e){var t=e.add,n=e.remove,s=void 0===n?[]:n,r=new RegExp("[\\?&]([^&#]+)=([^&#]*)").exec(location.search),i={};if(null!=r){for(var o=1;o<r.length-1;o+=2){var l=r[o],c=r[o+1];i[l]=c}for(var d in i)-1!==s.indexOf(d)&&delete i[d];i=Object(a.a)(Object(a.a)({},i),t)}else i=t;return"".concat(location.origin+location.pathname,"?").concat(objToQuery(i))}},239:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K}));var a=n(11),s=n.n(a),r=n(14),i=n(5),o=n(15),l=n(10),c=n(3),d=n(4),u=n(7),m=n(8),g=n(9),h=n(1),p=n.n(h),b=n(49),f=n.n(b),v=n(18),S=n.n(v),E=n(240),y=n(241),_=n.n(y),C=n(23),k=n.n(C),w=n(43),D=n(107),T=n(20),M=n(242),O=n(36),A=n(272),X=n(268),x=n(255),B=n(256),P=n(271),L=n(41),I=n(259),N=n(38),j=n(83),G=n(260),R=n(262),U=n(22),z=n(17),F=n(85),V=n(537),H=n(538),Z=n(539),W=n(540),Y={},K=function(t){Object(m.a)(CanExplorer,t);var n=Object(g.a)(CanExplorer);function CanExplorer(e){var t;return Object(c.a)(this,CanExplorer),(t=n.call(this,e)).partChangeDebounced=Object(L.a)((function(){t.loadMessagesFromCache(),t.spawnWorker()}),500),t.state={messages:{},thumbnails:[],selectedMessages:[],route:null,canFrameOffset:0,routeInitTime:0,firstFrameTime:0,firstCanTime:null,lastBusTime:null,selectedMessage:null,currentParts:[0,0],currentPart:0,currentWorkers:{},loadingParts:[],loadedParts:[],showOnboarding:!1,showLoadDbc:!1,showSaveDbc:!1,showEditMessageModal:!1,editMessageModalMessage:null,dbc:e.dbc?e.dbc:new O.a,dbcText:e.dbc?e.dbc.text():(new O.a).text(),dbcFilename:e.dbcFilename?e.dbcFilename:"New_DBC",dbcLastSaved:null,seekTime:e.seekTime||0,seekIndex:0,maxByteStateChangeCount:0,partsLoaded:0,spawnWorkerHash:null,attemptingPandaConnection:!1,pandaNoDeviceSelected:!1,live:!1,isGithubAuthenticated:null!==e.githubAuthToken&&void 0!==e.githubAuthToken,shareUrl:null,logUrls:null},t.openDbcClient=new j.a(e.githubAuthToken),T.k&&(t.unloggerClient=new G.a),t.showOnboarding=t.showOnboarding.bind(Object(u.a)(t)),t.hideOnboarding=t.hideOnboarding.bind(Object(u.a)(t)),t.showLoadDbc=t.showLoadDbc.bind(Object(u.a)(t)),t.hideLoadDbc=t.hideLoadDbc.bind(Object(u.a)(t)),t.showSaveDbc=t.showSaveDbc.bind(Object(u.a)(t)),t.hideSaveDbc=t.hideSaveDbc.bind(Object(u.a)(t)),t.showEditMessageModal=t.showEditMessageModal.bind(Object(u.a)(t)),t.hideEditMessageModal=t.hideEditMessageModal.bind(Object(u.a)(t)),t.onDbcSelected=t.onDbcSelected.bind(Object(u.a)(t)),t.onDbcSaved=t.onDbcSaved.bind(Object(u.a)(t)),t.onConfirmedSignalChange=t.onConfirmedSignalChange.bind(Object(u.a)(t)),t.onPartChange=t.onPartChange.bind(Object(u.a)(t)),t.onMessageFrameEdited=t.onMessageFrameEdited.bind(Object(u.a)(t)),t.onSeek=t.onSeek.bind(Object(u.a)(t)),t.onUserSeek=t.onUserSeek.bind(Object(u.a)(t)),t.onMessageSelected=t.onMessageSelected.bind(Object(u.a)(t)),t.onMessageUnselected=t.onMessageUnselected.bind(Object(u.a)(t)),t.initCanData=t.initCanData.bind(Object(u.a)(t)),t.updateSelectedMessages=t.updateSelectedMessages.bind(Object(u.a)(t)),t.handlePandaConnect=t.handlePandaConnect.bind(Object(u.a)(t)),t.processStreamedCanMessages=t.processStreamedCanMessages.bind(Object(u.a)(t)),t.onStreamedCanMessagesProcessed=t.onStreamedCanMessagesProcessed.bind(Object(u.a)(t)),t.showingModal=t.showingModal.bind(Object(u.a)(t)),t.lastMessageEntriesById=t.lastMessageEntriesById.bind(Object(u.a)(t)),t.githubSignOut=t.githubSignOut.bind(Object(u.a)(t)),t.downloadLogAsCSV=t.downloadLogAsCSV.bind(Object(u.a)(t)),t.pandaReader=new _.a,t.pandaReader.onMessage(t.processStreamedCanMessages),t}return Object(d.a)(CanExplorer,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.dataCacheTimer=Object(D.interval)((function(){var e=t.state.currentParts,n=t.state.loadedParts;t.loadMessagesFromCacheRunning||n.length<4||n.forEach((function(a){a>=e[0]&&a<=e[1]||Date.now()-Y[a].lastUsed>18e4&&(console.log("Decaching part",a),n=n.filter((function(e){return e!==a})),t.setState({loadedParts:n},(function(){delete Y[a]})))}))}),1e4);var n=this.props,a=n.dongleId,s=n.name;if(k.a.isAuthenticated()&&!s)this.showOnboarding();else if(this.props.isDemo){var r=e.retropilotLoaded?e.retropilotLogUrls:F.a,i=e.retropilotLoaded?e.retropilotRoute:F.c;this.setState({logUrls:r,route:i,currentParts:[0,Math.min(r.length-1,T.h-1)],currentPart:0},this.initCanData)}else if(this.props.max&&this.props.url&&!this.props.exp&&!this.props.sig){var o=this.props,c=o.max,d=o.url,u=f()(s,"YYYY-MM-DD--H-m-s"),m={fullname:"".concat(a,"|").concat(s),proclog:c,url:d,start_time:u};this.setState({route:m,currentParts:[0,Math.min(c,T.h-1)]},this.initCanData)}else if(a&&s){var g,h,p="".concat(a,"|").concat(s);g=this.props.url?Promise.resolve({maxqcamera:null,url:this.props.url}):w.drives.getRouteInfo(p),h=this.props.sig&&this.props.exp?w.raw.getLogUrls(p,{sig:this.props.sig,exp:this.props.exp}):w.raw.getLogUrls(p),Promise.all([g,h]).then((function(e){var n=Object(l.a)(e,2),a=n[0],r=n[1],i={route:{fullname:p,proclog:r.length-1,start_time:f()(s,"YYYY-MM-DD--H-m-s"),url:a.url.replace("chffrprivate.blob.core.windows.net","chffrprivate.azureedge.net"),maxqcamera:a.maxqcamera?a.maxqcamera:r.length-1},currentParts:[0,Math.min(r.length-1,T.h-1)],logUrls:r};t.setState(i,t.initCanData),w.drives.getShareSignature(p).then((function(e){return t.setState({shareUrl:Object(U.b)({add:{exp:e.exp,sig:e.sig,max:r.length-1,url:a.url.replace("chffrprivate.blob.core.windows.net","chffrprivate.azureedge.net")},remove:[T.c]})})}))})).catch((function(e){console.log(e),C.storage.logOut().then((function(){C.storage.isAuthed=!1,t.showOnboarding()}))}))}else this.showOnboarding()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.dataCacheTimer&&this.dataCacheTimer()}},{key:"initCanData",value:function initCanData(){this.spawnWorker(this.state.currentParts)}},{key:"onDbcSelected",value:function onDbcSelected(e,t){var n=this,a=this.state.route;this.hideLoadDbc(),t.lastUpdated=Date.now(),this.persistDbc({dbcFilename:e,dbc:t}),a?this.setState({dbc:t,dbcFilename:e,dbcText:t.text(),partsLoaded:0,selectedMessage:null,messages:{}},(function(){n.loadMessagesFromCache()})):this.setState({dbc:t,dbcFilename:e,dbcText:t.text(),messages:{}})}},{key:"onDbcSaved",value:function onDbcSaved(e){var t=f()();this.setState({dbcLastSaved:t,dbcFilename:e}),this.hideSaveDbc()}},{key:"downloadLogAsCSV",value:function downloadLogAsCSV(){console.log("downloadLogAsCSV:start");var e=this.state.dbcFilename,t=Object(E.createWriteStream)("".concat(e.replace(/\.dbc/g,"-")).concat(+new Date,".csv")).getWriter(),n=new TextEncoder;return this.state.live?this.downloadLiveLogAsCSV(dataHandler):this.downloadRawLogAsCSV(dataHandler);function dataHandler(e){var a=e.data,s=a.logData,r=a.shouldClose,i=a.progress;if(r)return console.log("downloadLogAsCSV:close"),void t.close();console.log("CSV export progress:",i);var o=n.encode("".concat(s,"\n"));t.write(o)}}},{key:"downloadRawLogAsCSV",value:function downloadRawLogAsCSV(e){return this.downloadLiveLogAsCSV(e)}},{key:"downloadLiveLogAsCSV",value:function downloadLiveLogAsCSV(e){var t=this,n=this.state,a=n.firstCanTime,s=n.canFrameOffset,r=new H;r.onmessage=e,r.postMessage({data:Object.keys(this.state.messages).map((function(e){var n=t.state.messages[e];return{id:n.id,bus:n.bus,address:n.address,entries:n.entries.slice()}})),canStartTime:a-s})}},{key:"mergeThumbnails",value:function mergeThumbnails(e){var t=this.state.thumbnails;if(!e||!e.length)return t;if(!t.length)return e;var n=0,a=0;if(e[0].monoTime>t[t.length-1])return t.concat(e);if(e[e.length-1]<t[0])return e.concat(t);for(var s=[];n<t.length&&a<e.length;)t[n].monoTime<e[a].monoTime?(s.push(t[n]),n+=1):(s.push(e[a]),a+=1);return n<t.length?s=s.concat(t.slice(n)):a<e.length&&(s=s.concat(e.slice(a))),s}},{key:"cancelWorker",value:function cancelWorker(e){}},{key:"spawnWorker",value:function spawnWorker(e){var t=this,n=this.state,a=n.currentParts,s=n.currentWorkers,r=n.loadingParts;if(console.log("Checking worker for",a),!(r.length>1)){var c=Object(l.a)(a,2),d=c[0],u=c[1];s=Object(o.a)({},this.state.currentWorkers);for(var m=this.state,g=m.loadedParts,h=m.currentPart,p=-1,b=r.concat(g),f=0;f<=u-d;++f){var v=h+f;if(v>u&&(v=d+(v-d)%(u-d+1)),-1===b.indexOf(v)){p=v;break}}if(-1!==p){console.log("Starting worker for part",p);var S=(e=e||{}).prevMsgEntries,E=this.state,y=E.dbc,_=E.route,C=E.firstCanTime,k=E.canFrameOffset,w=this.state.maxByteStateChangeCount;if(!S){var D=this.state.messages;S={},Object.keys(D).forEach((function(e){var t=D[e].entries;S[e]=t[t.length-1]}))}var T=new V,M=Object(R.a)(Math.random().toString(16));s[M]={part:p,worker:T},r=[p].concat(Object(i.a)(r)),this.setState({currentWorkers:s,loadingParts:r}),T.onmessage=function(e){if(void 0!==t.state.currentWorkers[M]){w=e.data.maxByteStateChangeCount;var n=e.data,a=n.newMessages,s=n.newThumbnails,r=n.isFinished,o=n.routeInitTime,l=n.firstFrameTime;if(w>t.state.maxByteStateChangeCount?t.setState({maxByteStateChangeCount:w}):w=t.state.maxByteStateChangeCount,o!==t.state.routeInitTime&&t.setState({routeInitTime:o}),l&&l!==t.state.firstFrameTime&&t.setState({firstFrameTime:l}),a&&t.addMessagesToDataCache(p,a,s),r){var c=t.state.loadingParts.filter((function(e){return e!==p})),d=[p].concat(Object(i.a)(t.state.loadedParts));t.setState({partsLoaded:t.state.partsLoaded+1,loadingParts:c,loadedParts:d},(function(){t.spawnWorker({prevMsgEntries:S,spawnWorkerHash:M,prepend:!1}),window.dataCallback&&(window.dataCallback(),window.dataCallback=null)}))}}else console.log("Worker was canceled")},T.postMessage({base:_.url,num:p,isDemo:this.props.isDemo,isLegacyShare:this.props.isLegacyShare,logUrls:this.state.logUrls,dbcText:y.text(),route:_.fullname,part:p,canStartTime:null!=C?C-k:null,prevMsgEntries:S,maxByteStateChangeCount:w})}}}},{key:"addAndRehydrateMessages",value:function addAndRehydrateMessages(e,t){var n=this;t=t||{};var a=Object(o.a)({},this.state.messages);Object.keys(e).forEach((function(s){if(!0!==t.replace&&s in a){var r=a[s].entries,i=e[s].entries,l=r.length,c=i.length,d=l+c;a[s]=Object(o.a)(Object(o.a)({},a[s]),{},{entries:Array(d)});for(var u=0,m=0,g=0;g<d;++g)m>=c?a[s].entries[g]=r[u++]:u>=l?a[s].entries[g]=i[m++]:r[u].relTime<=i[m].relTime?a[s].entries[g]=r[u++]:r[u].relTime>=i[m].relTime&&(a[s].entries[g]=i[m++]);a[s].byteStateChangeCounts=e[s].byteStateChangeCounts}else a[s]=e[s],a[s].frame=n.state.dbc.getMessageFrame(a[s].address)}));var s=z.a.findMaxByteStateChangeCount(a);return this.setState({maxByteStateChangeCount:s}),Object.keys(a).forEach((function(e){a[e]=z.a.setMessageByteColors(a[e],s)})),a}},{key:"addMessagesToDataCache",value:function(){var e=Object(r.a)(s.a.mark((function _callee(e,t,n){var a,r,i,o,l=this;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return a=this.state,r=a.dbc,i=a.currentParts,s.next=3,this.getParseSegment(e);case 3:if(o=s.sent){s.next=9;break}return Object.keys(t).forEach((function(e){t[e]=l.parseMessageEntry(t[e],r)})),Y[e]={messages:t,thumbnails:n,lastUpdated:Date.now(),lastUsed:Date.now()},e>=i[0]&&e<=i[1]&&this.setState({messages:this.addAndRehydrateMessages(t)}),s.abrupt("return");case 9:o.lastUsed=Date.now(),Object.keys(t).forEach((function(n){var a=t[n];if(Y[e].messages[n]){var s=Y[e].messages[n].entries,i=s.length?s[s.length-1]:null;a=l.parseMessageEntry(a,r,i),s=s.concat(a.entries),Y[e].messages[n].entries=s}else a=l.parseMessageEntry(a,r),Y[e].messages[n]=a;t[n]=a})),Y[e].thumbnails=Y[e].thumbnails.concat(n),e>=i[0]&&e<=i[1]&&this.setState({messages:this.addAndRehydrateMessages(t)});case 13:case"end":return s.stop()}}),_callee,this)})));return function addMessagesToDataCache(t,n,a){return e.apply(this,arguments)}}()},{key:"loadMessagesFromCache",value:function(){var e=Object(r.a)(s.a.mark((function _callee3(){var e,t,n,a,i,c,d,u,m,g,h,p,b,f,v,S=this;return s.a.wrap((function _callee3$(E){for(;;)switch(E.prev=E.next){case 0:if(!this.loadMessagesFromCacheRunning){E.next=3;break}return this.loadMessagesFromCacheTimer||(this.loadMessagesFromCacheTimer=Object(D.timeout)((function(){return S.loadMessagesFromCache()}),10)),E.abrupt("return");case 3:for(this.loadMessagesFromCacheRunning=!0,this.loadMessagesFromCacheTimer&&(this.loadMessagesFromCacheTimer(),this.loadMessagesFromCacheTimer=null),e=this.state,t=e.currentParts,n=e.dbc,a=n.lastUpdated,i=Object(l.a)(t,2),c=i[0],d=i[1],u={},m=[],g=!1,h=performance.now(),p=[],b=c,f=d;b<=f;++b)p.push(this.getParseSegment(b));return E.next=16,p.reduce(function(){var e=Object(r.a)(s.a.mark((function _callee2(e,t){var n,r;return s.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e;case 2:if(!g){s.next=4;break}return s.abrupt("return");case 4:return s.next=6,t;case 6:if(n=s.sent,S.state.dbc.lastUpdated===a){s.next=10;break}return g||(g=!0,S.loadMessagesFromCacheRunning=!1,console.log("Canceling!"),S.loadMessagesFromCache()),s.abrupt("return");case 10:n&&(r=n.messages,m=m.concat(n.thumbnails),Object.keys(r).forEach((function(e){if(u[e]){var t=r[e].entries,n=u[e].entries;t.length&&t[0].relTime<n[n.length-1].relTime&&console.error("Found out of order messages",t[0],n[n.length-1]),u[e].entries=u[e].entries.concat(r[e].entries)}else u[e]=Object(o.a)({},r[e])}))),console.log("Done with",performance.now()-h),h=performance.now();case 13:case"end":return s.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 16:if(!g){E.next=18;break}return E.abrupt("return");case 18:Object.keys(this.state.messages).forEach((function(e){u[e]||(u[e]=S.state.messages[e],u[e].entries=[])})),Object.keys(u).forEach((function(e){u[e].frame=n.getMessageFrame(u[e].address)})),v=z.a.findMaxByteStateChangeCount(u),this.setState({maxByteStateChangeCount:v}),Object.keys(u).forEach((function(e){u[e]=z.a.setMessageByteColors(u[e],v)})),console.log("Done with old messages",performance.now()-h),this.setState({messages:u,thumbnails:m}),this.loadMessagesFromCacheRunning=!1;case 26:case"end":return E.stop()}}),_callee3,this)})));return function loadMessagesFromCache(){return e.apply(this,arguments)}}()},{key:"getParseSegment",value:function(){var e=Object(r.a)(s.a.mark((function _callee4(e){return s.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:if(Y[e]){t.next=2;break}return t.abrupt("return",null);case 2:if(!Y[e].promise){t.next=5;break}return t.next=5,Y[e].promise;case 5:return Y[e].promise=this.getParseSegmentInternal(e),t.abrupt("return",Y[e].promise);case 7:case"end":return t.stop()}}),_callee4,this)})));return function getParseSegment(t){return e.apply(this,arguments)}}()},{key:"getParseSegmentInternal",value:function(){var e=Object(r.a)(s.a.mark((function _callee5(e){var t,n,a,r,i,l;return s.a.wrap((function _callee5$(s){for(;;)switch(s.prev=s.next){case 0:if(t=performance.now(),(n=this.state.dbc).lastUpdated||(n.lastUpdated=Date.now()),a=n.lastUpdated,r=Y[e].messages,i={},Object.keys(r).forEach((function(e){r[e].lastUpdated>=a||(i[e]=r[e])})),!Object.keys(i).length){s.next=12;break}return console.log("Reparsing messages!",Object.keys(i).length),s.next=11,this.reparseMessages(i);case 11:i=s.sent;case 12:return r=Object(o.a)(Object(o.a)({},r),i),Y[e].messages=r,(l=performance.now())-t>200&&console.warn("getParseSegment took",e,l-t,Object.keys(r).length),s.abrupt("return",Y[e]);case 17:case"end":return s.stop()}}),_callee5,this)})));return function getParseSegmentInternal(t){return e.apply(this,arguments)}}()},{key:"decacheMessageId",value:function decacheMessageId(e){Object.keys(Y).forEach((function(t){Y[t].messages[e]&&(Y[t].messages[e].lastUpdated=0)}))}},{key:"reparseMessages",value:function(){var e=Object(r.a)(s.a.mark((function _callee6(e){var t,n,a=this;return s.a.wrap((function _callee6$(s){for(;;)switch(s.prev=s.next){case 0:return t=e,(n=this.state.dbc).lastUpdated=n.lastUpdated||Date.now(),Object.keys(t).forEach((function(e){t[e].frame=n.getMessageFrame(t[e].address)})),s.abrupt("return",new Promise((function(e,s){var r=new Z;r.onmessage=function(t){var a=t.data.messages;Object.keys(a).forEach((function(e){a[e].lastUpdated=n.lastUpdated,a[e].frame=n.getMessageFrame(a[e].address)})),e(a)},r.postMessage({messages:t,dbcText:n.text(),canStartTime:a.state.firstCanTime})})));case 5:case"end":return s.stop()}}),_callee6,this)})));return function reparseMessages(t){return e.apply(this,arguments)}}()},{key:"parseMessageEntry",value:function parseMessageEntry(e,t,n){var a=e;t.lastUpdated=t.lastUpdated||Date.now(),a.lastUpdated=t.lastUpdated,a.frame=t.getMessageFrame(a.address);var s=n||null,r=[];return a.entries=a.entries.map((function(e){return s=e.hexData?z.a.reparseMessage(t,e,s):z.a.parseMessage(t,e.time,e.address,e.data,e.timeStart,s),r.push(s.byteStateChangeCounts),s=s.msgEntry})),a.byteStateChangeCounts=r.reduce((function(e,t){return e?e.map((function(e,n){return t[n]+e})):t}),null),a}},{key:"showingModal",value:function showingModal(){var e=this.state,t=e.showOnboarding,n=e.showLoadDbc,a=e.showSaveDbc,s=e.showAddSignal,r=e.showEditMessageModal;return t||n||a||s||r}},{key:"showOnboarding",value:function showOnboarding(){!k.a.isAuthenticated()&&window.sessionStorage&&window.location&&window.location.pathname!==C.config.AUTH_PATH&&window.sessionStorage.setItem("onboardingPath",window.location.href),this.setState({showOnboarding:!0})}},{key:"hideOnboarding",value:function hideOnboarding(){this.setState({showOnboarding:!1})}},{key:"showLoadDbc",value:function showLoadDbc(){this.setState({showLoadDbc:!0})}},{key:"hideLoadDbc",value:function hideLoadDbc(){this.setState({showLoadDbc:!1})}},{key:"showSaveDbc",value:function showSaveDbc(){this.setState({showSaveDbc:!0})}},{key:"hideSaveDbc",value:function hideSaveDbc(){this.setState({showSaveDbc:!1})}},{key:"updateMessageFrame",value:function updateMessageFrame(e,t){var n=this.state.messages;n[e].frame=t,this.setState({messages:n})}},{key:"persistDbc",value:function persistDbc(e){var t=e.dbcFilename,n=e.dbc,a=this.state.route;a?Object(N.c)(a.fullname,{dbcFilename:t,dbc:n}):Object(N.c)("live",{dbcFilename:t,dbc:n}),this.loadMessagesFromCache()}},{key:"onConfirmedSignalChange",value:function onConfirmedSignalChange(e,t){var n=this,a=this.state,s=a.dbc,r=a.dbcFilename,i=z.a.maxMessageSize(e);s.setSignals(e.address,Object(o.a)({},t),i),this.persistDbc({dbcFilename:r,dbc:s}),this.updateMessageFrame(e.id,s.getMessageFrame(e.address)),this.setState({dbc:s,dbcText:s.text()},(function(){n.decacheMessageId(e.id),n.loadMessagesFromCache()}))}},{key:"onPartChange",value:function onPartChange(e){var t=this.state,n=t.currentParts,a=t.currentPart,s=t.canFrameOffset,r=t.route;if(-1!==s&&e!==a){var i=Math.min(r.proclog,e+1),o=Math.max(0,i-T.h+1);0===o&&(i=Math.min(r.proclog,2)),n=[o,i],(a=e)===this.state.currentPart&&n[0]===this.state.currentParts[0]&&n[1]===this.state.currentParts[1]||this.setState({currentParts:n,currentPart:a},this.partChangeDebounced)}}},{key:"showEditMessageModal",value:function showEditMessageModal(e){var t=this.state.messages[e];console.log(t),t.frame||(t.frame=this.state.dbc.createFrame(t.address)),this.setState({showEditMessageModal:!0,editMessageModalMessage:e,messages:this.state.messages,dbcText:this.state.dbc.text()})}},{key:"hideEditMessageModal",value:function hideEditMessageModal(){this.setState({showEditMessageModal:!1})}},{key:"onMessageFrameEdited",value:function onMessageFrameEdited(e){var t=this.state,n=t.messages,a=t.dbcFilename,s=t.dbc,r=t.editMessageModalMessage,i=Object(o.a)({},n[r]);i.frame=e,s.messages.set(e.id,e),this.persistDbc({dbcFilename:a,dbc:s}),n[r]=i,this.setState({messages:n,dbc:s,dbcText:s.text()}),this.hideEditMessageModal()}},{key:"onSeek",value:function onSeek(e,t){this.setState({seekIndex:e,seekTime:t});var n=~~(t/60);n!==this.state.currentPart&&this.onPartChange(n)}},{key:"onUserSeek",value:function onUserSeek(e){T.k&&this.unloggerClient.seek(this.props.dongleId,this.props.name,e);var t,n=this.state.messages[this.state.selectedMessage];n?-1===(t=n.entries.findIndex((function(t){return t.relTime>=e})))&&(t=0):t=0,this.onSeek(t,e)}},{key:"onMessageSelected",value:function onMessageSelected(e){var t=this.state,n=t.seekTime,a=t.seekIndex,s=t.messages[e];n>0&&s.entries.length>0&&(-1===(a=s.entries.findIndex((function(e){return e.relTime>=n})))&&(a=0),n=s.entries[a].relTime),this.setState({seekTime:n,seekIndex:a,selectedMessage:e})}},{key:"updateSelectedMessages",value:function updateSelectedMessages(e){this.setState({selectedMessages:e})}},{key:"onMessageUnselected",value:function onMessageUnselected(e){this.setState({selectedMessage:null})}},{key:"loginWithGithub",value:function loginWithGithub(){var e=this.state.route;return p.a.createElement("a",{href:M.a(e&&e.fullname?e.fullname:""),className:"button button--dark button--inline"},p.a.createElement("i",{className:"fa fa-github"}),p.a.createElement("span",null," Log in with Github"))}},{key:"lastMessageEntriesById",value:function lastMessageEntriesById(e,t){var n=Object(l.a)(t,2),a=n[0],s=n[1];return e[a]=s.entries[s.entries.length-1],e}},{key:"processStreamedCanMessages",value:function processStreamedCanMessages(e){var t=this.state.dbcText,n=this.state,a=n.firstCanTime,s=n.lastBusTime,r=n.messages,i=n.maxByteStateChangeCount,o=Object.entries(r).reduce(this.lastMessageEntriesById,{}),c=Object.entries(r).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],s=n[1];return e[a]=s.byteStateChangeCounts,e}),{});this.canStreamerWorker.postMessage({newCanMessages:e,prevMsgEntries:o,firstCanTime:a,dbcText:t,lastBusTime:s,byteStateChangeCountsByMessage:c,maxByteStateChangeCount:i})}},{key:"firstEntryIndexInsideStreamingWindow",value:function firstEntryIndexInsideStreamingWindow(e){for(var t=e[e.length-1].relTime-T.i,n=0;n<e.length;n++)if(e[n].relTime>t)return n;return 0}},{key:"enforceStreamingMessageWindow",value:function enforceStreamingMessageWindow(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var a=t[n],s=e[a];if(!(s.entries.length<2))if(s.entries[s.entries.length-1].relTime-s.entries[0].relTime>T.i){var r=this.firstEntryIndexInsideStreamingWindow(s.entries);s.entries=s.entries.slice(r),e[a]=s}}return e}},{key:"_onStreamedCanMessagesProcessed",value:function _onStreamedCanMessagesProcessed(e){var t=e.newMessages,n=e.seekTime,a=e.lastBusTime,s=e.firstCanTime,r=e.maxByteStateChangeCount;r<this.state.maxByteStateChangeCount&&(r=this.state.maxByteStateChangeCount);var i=this.addAndRehydrateMessages(t);i=this.enforceStreamingMessageWindow(i);var o=this.state,l=o.seekIndex,c=o.selectedMessages;c.length>0&&void 0!==i[c[0]]&&(l=Math.max(0,i[c[0]].entries.length-1)),this.setState({messages:i,seekTime:n,seekIndex:l,lastBusTime:a,firstCanTime:s,maxByteStateChangeCount:r})}},{key:"onStreamedCanMessagesProcessed",value:function onStreamedCanMessagesProcessed(e){this._onStreamedCanMessagesProcessed(e.data)}},{key:"handlePandaConnect",value:function(){var e=Object(r.a)(s.a.mark((function _callee7(e){var t,n,a,r,i=this;return s.a.wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({attemptingPandaConnection:!0,live:!0}),(t=Object(N.a)("live"))&&(n=t.dbc,a=t.dbcText,this.setState({dbc:n,dbcText:a})),this.canStreamerWorker=new W,this.canStreamerWorker.onmessage=this.onStreamedCanMessagesProcessed,r=this.pandaReader.onError((function(e){console.error(e.stack||e),i.setState({attemptingPandaConnection:!1})})),e.prev=6,e.next=9,this.pandaReader.start();case 9:this.setState({showOnboarding:!1,showLoadDbc:!0}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:this.setState({attemptingPandaConnection:!1}),r();case 16:case"end":return e.stop()}}),_callee7,this,[[6,12]])})));return function handlePandaConnect(t){return e.apply(this,arguments)}}()},{key:"githubSignOut",value:function githubSignOut(e,t){Object(N.e)(),this.setState({isGithubAuthenticated:!1}),e.preventDefault()}},{key:"render",value:function render(){var e=this.state,t=e.route,n=e.messages,a=e.selectedMessages,s=e.currentParts,r=e.dbcFilename,i=e.dbcLastSaved,o=e.seekTime,l=e.seekIndex,c=e.shareUrl,d=e.maxByteStateChangeCount,u=e.live,m=e.thumbnails,g=e.selectedMessage,h=e.canFrameOffset,b=e.firstCanTime,v=e.currentPart,E=e.partsLoaded,y=this.props,_=y.startTime,C=y.segments;return p.a.createElement("div",{id:"cabana",className:S()({"is-showing-modal":this.showingModal()})},p.a.createElement("div",{className:"cabana-header"},p.a.createElement("a",{className:"cabana-header-logo",href:"/"},"Comma Cabana"),p.a.createElement("div",{className:"cabana-header-account"},this.state.isGithubAuthenticated?p.a.createElement("div",null,p.a.createElement("p",null,"GitHub Authenticated"),p.a.createElement("p",{className:"cabana-header-account-signout",onClick:this.githubSignOut},"Sign out")):this.loginWithGithub())),p.a.createElement("div",{className:"cabana-window"},p.a.createElement(A.a,{url:this.state.route?t.url:null,messages:n,selectedMessages:a,updateSelectedMessages:this.updateSelectedMessages,showEditMessageModal:this.showEditMessageModal,currentParts:s,onMessageSelected:this.onMessageSelected,onMessageUnselected:this.onMessageUnselected,showLoadDbc:this.showLoadDbc,showSaveDbc:this.showSaveDbc,dbcFilename:r,dbcLastSaved:i,dongleId:this.props.dongleId,name:this.props.name,route:t,seekTime:o,seekIndex:l,shareUrl:c,maxByteStateChangeCount:d,isDemo:this.props.isDemo,live:u,saveLog:Object(L.a)(this.downloadLogAsCSV,500)}),t||u?p.a.createElement(X.a,{url:t?t.url:null,live:u,messages:n,thumbnails:m,selectedMessage:g,onConfirmedSignalChange:this.onConfirmedSignalChange,onSeek:this.onSeek,onUserSeek:this.onUserSeek,canFrameOffset:h,firstCanTime:b,seekTime:o,startTime:_,startSegments:C,seekIndex:l,currentParts:s,selectedPart:v,partsLoaded:E,autoplay:this.props.autoplay,showEditMessageModal:this.showEditMessageModal,onPartChange:this.onPartChange,routeStartTime:t?t.start_time:f()(),videoOffset:this.state.firstFrameTime&&this.state.routeInitTime?this.state.firstFrameTime-this.state.routeInitTime:0,partsCount:t?t.proclog:0,maxqcamera:t?t.maxqcamera:0}):null),this.state.showOnboarding?p.a.createElement(x.a,{handlePandaConnect:this.handlePandaConnect,attemptingPandaConnection:this.state.attemptingPandaConnection,routes:this.state.routes}):null,this.state.showLoadDbc?p.a.createElement(P.a,{onDbcSelected:this.onDbcSelected,handleClose:this.hideLoadDbc,openDbcClient:this.openDbcClient,loginWithGithub:this.loginWithGithub()}):null,this.state.showSaveDbc?p.a.createElement(B.a,{dbc:this.state.dbc,sourceDbcFilename:this.state.dbcFilename,onDbcSaved:this.onDbcSaved,handleClose:this.hideSaveDbc,openDbcClient:this.openDbcClient,hasGithubAuth:null!==this.props.githubAuthToken,loginWithGithub:this.loginWithGithub()}):null,this.state.showEditMessageModal?p.a.createElement(I.a,{handleClose:this.hideEditMessageModal,handleSave:this.onMessageFrameEdited,message:this.state.messages[this.state.editMessageModalMessage]}):null)}}]),CanExplorer}(h.Component)}).call(this,n(26))},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return authorizeUrl}));var a=n(20),s=n(22);function authorizeUrl(e){var t={client_id:a.d,redirect_uri:a.e,scope:"user:email public_repo",state:JSON.stringify({route:e})};return"http://github.com/login/oauth/authorize?".concat(Object(s.c)(t))}},243:function(e,t,n){"use strict";(function(e){var a=n(3),s=n(4),r=n(86),i=n(20),o=function(){function CloudLog(){Object(a.a)(this,CloudLog),r.a.init({token:i.f,no_format:!0,catchall:!1}),this.context={}}return Object(s.a)(CloudLog,[{key:"bind",value:function bind(e){this.context.update(e)}},{key:"emit",value:function emit(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";if("undefined"===typeof e.__JEST__){var a={ctx:this.context,created:(new Date).getTime()/1e3,msg:t,src:"JSCloudLog"};"log"===n?r.a.log(a):"warn"===n?r.a.warn(a):"error"===n&&r.a.error(a)}}},{key:"log",value:function log(e){this.emit(e)}},{key:"warn",value:function warn(e){this.emit(e,"warn")}},{key:"error",value:function error(e){this.emit(e,"error")}}]),CloudLog}();t.a=new o}).call(this,n(26))},246:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(15),s=n(10),r=n(3),i=n(4),o=n(8),l=n(9),c=n(1),d=n.n(c),u=n(50),m=n(87),g=n(269),h=n(74),p=n(154),b=n(17),f=u.StyleSheet.create({bit:{margin:0,padding:9,userSelect:"none",cursor:"pointer",textAlign:"center",position:"relative"},bitSelectedStyle:{backgroundColor:"rgba(0,119,158,0.5)"},byteIndex:{backgroundColor:"#ededed"},bitSignificance:{fontSize:12,display:"block",position:"absolute",bottom:0,left:0,right:0,margin:"0 auto"},highlightedSignalTitle:{backgroundColor:"rgba(0,0,0,0.2)"}}),v=function(t){Object(o.a)(AddSignals,t);var n=Object(l.a)(AddSignals);function AddSignals(e){var t;Object(r.a)(this,AddSignals),(t=n.call(this,e)).updateSignalStyles=function(){var e=t.calcSignalStyles(t.state.signals);t.setState({signalStyles:e}),t.matrixMouseMove()},t.onSignalHover=function(e){e&&t.setState({highlightedSignal:e.name},t.updateSignalStyles)},t.onBitHover=function(e,n){var a=t.state,s=a.dragStartBit,r=a.signals,i=a.dragSignal;if(null!==s)if(null!==i){if(r=t.copySignals(r),s===(i=Object.assign(Object.create(i),i)).startBit&&i.size>1){if(i.isLittleEndian){if(e>i.msbBitIndex())return}else if(b.a.bigEndianBitIndex(e)>i.lsbBitNumber())return;var o=e-s;i.isLittleEndian?i.size-=o:null===i.bitDescription(e)?i.size+=Math.abs(o):i.size-=Math.abs(o),i.startBit+=o,r[i.name]=i,s=i.startBit}else if(1===i.size)Math.floor(e/8)===Math.floor(s/8)&&(e>s?i.isLittleEndian?i.size=e-i.startBit:(i.startBit=e,i.size=e-s+1,s=e):i.isLittleEndian?(i.startBit=e,i.size=s-e+1,s=e):(i.size=s-e+1,s=e)),r[i.name]=i;else if(i.isLittleEndian&&s===i.msbBitIndex()){if(e<i.startBit)return;var l=e-s;null===i.bitDescription(e)?i.size+=Math.abs(l):i.size-=Math.abs(l),r[i.name]=i,s=i.msbBitIndex()}else if(!i.isLittleEndian&&s===i.lsbBitIndex()){var c=e-s;null===i.bitDescription(e)?i.size+=Math.abs(c):i.size-=Math.abs(c),r[i.name]=i,s=i.lsbBitIndex()}t.setState({signals:r,dragSignal:i,dragCurrentBit:e,dragStartBit:s})}else t.setState({dragCurrentBit:e});n&&t.onSignalHover(n)},t.onSignalHoverEnd=function(e){e&&t.setState({highlightedSignal:null},t.updateSignalStyles)},t.resetDragState=function(){t.setState({dragStartBit:null,dragSignal:null,dragCurrentBit:null})},t.matrixMouseMove=function(e){if(t.state.highlightedSignal&&t.highlightedSignalTooltipRef.current){var n=t.highlightedSignalTooltipRef.current,a=t.state.signals[t.state.highlightedSignal];n.innerHTML=a.name,e&&(n.style.left=e.clientX+15+"px",n.style.top=e.clientY+5+"px")}},t.onTentativeSignalChange=function(e){var n=t.state.signals;n[e.name]=e,t.setState({signals:n})},t.onSignalChange=function(e){var n=t.state.signals;if(e.name in n&&n[e.name].uid!==e.uid)return!1;for(var a in n)n[a].uid===e.uid&&delete n[a];return n[e.name]=e,t.setState({signals:n},t.propagateUpSignalChange),!0},t.onSignalRemove=function(e){var n=t.state.signals;delete n[e.name],t.setState({signals:n},t.propagateUpSignalChange)},t.onSignalPlotChange=function(e,n){var a=t.props.message;t.props.onSignalPlotChange(e,a.id,n)};var a={};return e.message&&e.message.frame&&e.message.frame.signals&&(a=t.copySignals(e.message.frame.signals)),t.highlightedSignalTooltipRef=d.a.createRef(),t.state={bits:[],signals:a,signalStyles:t.calcSignalStyles(a),highlightedSignal:null,dragStartBit:null,dragSignal:null,dragCurrentBit:null,maxMessageBytes:8},t}return Object(i.a)(AddSignals,[{key:"copySignals",value:function copySignals(e){return Object.entries(e).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return e[a]=Object.assign(Object.create(r),r),e}),{})}},{key:"componentDidMount",value:function componentDidMount(){this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function componentDidUpdate(e){if(!e.message||e.message.address!==this.props.message.address||e.selectedMessageKey!==this.props.selectedMessageKey){var t=this.props.message.frame?this.props.message.frame.signals:{};this.setState({signals:this.copySignals(t),maxMessageBytes:b.a.maxMessageSize(this.props.message)},this.updateSignalStyles)}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.selectedMessageKey!==this.props.selectedMessageKey||e.message.address!==this.props.message.address||e.message.hexData!==this.props.message.hexData||e.messageIndex!==this.props.messageIndex||JSON.stringify(e.plottedSignalUids)!==JSON.stringify(this.props.plottedSignalUids)||JSON.stringify(this.state)!==JSON.stringify(t)}},{key:"signalColorStyle",value:function signalColorStyle(e){var t,n,a=e.getColors(this.props.selectedMessageKey);if(this.state&&this.state.highlightedSignal===e.name){var s=Object(p.a)(a,-.5),r=Object(p.a)(a,.9);t="rgb(".concat(r.join(","),")"),n="rgba(".concat(s.join(","),",0.5)")}else{var i=a.join(",");t="rgb(".concat(i,")"),n="rgba(".concat(i,",0.2)")}return u.StyleSheet.create({signal:{color:t,backgroundColor:n}}).signal}},{key:"calcSignalStyles",value:function calcSignalStyles(e){var t=this,n={};return Object.values(e).forEach((function(e){n[e.name]=t.signalColorStyle(e)})),n}},{key:"signalForBit",value:function signalForBit(e){return Object.values(this.state.signals).filter((function(t){return null!==t.bitDescription(e)}))[0]}},{key:"signalBitIndex",value:function signalBitIndex(e,t){var n=t.startBit;return t.isLittleEndian||(n=b.a.bigEndianBitIndex(n)),e-n}},{key:"nextNewSignalName",value:function nextNewSignalName(){var e,t=Object.keys(this.state.signals),n=1;do{e="NEW_SIGNAL_".concat(n),n++}while(-1!==t.indexOf(e));return e}},{key:"onBitMouseDown",value:function onBitMouseDown(e,t){this.setState({dragStartBit:e,dragSignal:t||null})}},{key:"createSignal",value:function createSignal(e){var t=e.startBit,n=e.size,s=e.isLittleEndian,r=new h.a({name:this.nextNewSignalName(),startBit:t,size:n,isLittleEndian:s}),i=this.state.signals;(i=Object(a.a)({},i))[r.name]=r,this.setState({signals:i},this.propagateUpSignalChange)}},{key:"createSignalIfNotExtendingOne",value:function createSignalIfNotExtendingOne(e,t){if(null===this.state.dragSignal){for(var n=e;n<=t;n++)if(void 0!==this.signalForBit(n))return;var a,s,r=Math.floor(t/8)===Math.floor(e/8);a=r||!(!r&&t<e)?e%8<4:e%8>=4;var i=e;r?s=Math.abs(t-e)+1:a?t>e?(i=e,s=t-e+1):(i=t,s=e-t+1):(t<e&&(i=t),s=Math.abs(b.a.bigEndianBitIndex(t)-b.a.bigEndianBitIndex(e))+1),this.createSignal({startBit:i,size:s,isLittleEndian:a})}}},{key:"onBitMouseUp",value:function onBitMouseUp(e,t){if(null!==this.state.dragStartBit){var n=this.state.dragStartBit;e!==n&&this.createSignalIfNotExtendingOne(n,e),this.propagateUpSignalChange(),this.resetDragState()}}},{key:"byteValueHex",value:function byteValueHex(e){var t=this.props.message.entries;return this.props.messageIndex<t.length?t[this.props.messageIndex].hexData.substr(2*e,2):"--"}},{key:"bitValue",value:function bitValue(t,n){var a=this.props.message.entries;if(this.props.messageIndex<a.length){var s=a[this.props.messageIndex],r=e.from(s.hexData,"hex");return t>=r.length?"-":r.readInt8(t)>>n&1}return"-"}},{key:"bitIsContainedInSelection",value:function bitIsContainedInSelection(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,a=n.dragStartBit,s=n.dragCurrentBit;if(t||a%8<4)return null!==a&&null!==s&&e>=a&&e<=s;var r=b.a.bigEndianBitIndex(a),i=b.a.bigEndianBitIndex(s),o=b.a.bigEndianBitIndex(e);return null!==a&&null!==s&&o>=r&&o<=i}},{key:"onBitDoubleClick",value:function onBitDoubleClick(e,t){void 0===t&&this.createSignal({startBit:e,size:1,isLittleEndian:!1})}},{key:"renderBitMatrix",value:function renderBitMatrix(){var e,t=this,n=this.props.message,a=[];e=n.frame&&n.frame.size?Math.floor(8*n.frame.size/8):this.state.maxMessageBytes;for(var s=0;s<e;s++){var r=[];r.push(d.a.createElement("td",{key:"rowIndex".concat(s),className:Object(m.a)(f.bit,f.byteIndex)},s.toString()));for(var i=function _loop(e){var n=8*s+e,a=t.signalForBit(n),i=null,o="";if(a){i=t.state.signalStyles[a.name]||null;var l=a.bitDescription(n);o=l.isMsb?"msb":l.isLsb?"lsb":""}else t.bitIsContainedInSelection(n)&&(i=f.bitSelectedStyle);var c=Object(m.a)("bit",f.bit,i),u=t.bitValue(s,e);r.push(d.a.createElement("td",{key:e.toString(),className:c,onMouseEnter:function onMouseEnter(){return t.onBitHover(n,a)},onMouseLeave:function onMouseLeave(){return t.onSignalHoverEnd(a)},onMouseDown:t.onBitMouseDown.bind(t,n,a),onMouseUp:t.onBitMouseUp.bind(t,n,a),onDoubleClick:function onDoubleClick(){return t.onBitDoubleClick(n,a)}},d.a.createElement("span",null,u),d.a.createElement("span",{className:Object(m.a)(f.bitSignificance)},o)))},o=7;o>=0;o--)i(o);r.push(d.a.createElement("td",{key:"hex-repr",className:Object(m.a)(f.bit)},d.a.createElement("b",null,this.byteValueHex(s)))),a.push(d.a.createElement("tr",{key:s.toString()},r))}return d.a.createElement("div",{className:"cabana-explorer-signals-matrix",onMouseMove:this.matrixMouseMove},this.state.highlightedSignal&&d.a.createElement("p",{ref:this.highlightedSignalTooltipRef,className:"cabana-explorer-signals-matrix-tooltip"}),d.a.createElement("table",{cellSpacing:0,onMouseLeave:this.resetDragState},d.a.createElement("tbody",null,a)))}},{key:"propagateUpSignalChange",value:function propagateUpSignalChange(){var e=this.state.signals;this.props.onConfirmedSignalChange(this.props.message,this.copySignals(e))}},{key:"render",value:function render(){var e=this.props.selectedMessageKey;return d.a.createElement("div",{className:"cabana-explorer-signals-controller"},0===Object.keys(this.state.signals).length?d.a.createElement("p",null,"Double click or drag to add a signal"):null,this.props.message.entries[this.props.messageIndex]?d.a.createElement("div",{className:"cabana-explorer-signals-time"},d.a.createElement("p",null,"time:"," ",this.props.message.entries[this.props.messageIndex].relTime.toFixed(3))):null,this.renderBitMatrix(),d.a.createElement(g.a,{signals:this.state.signals,signalStyles:this.state.signalStyles,highlightedSignal:this.state.highlightedSignal,onSignalHover:this.onSignalHover,onSignalHoverEnd:this.onSignalHoverEnd,onTentativeSignalChange:this.onTentativeSignalChange,onSignalChange:this.onSignalChange,onSignalRemove:this.onSignalRemove,onSignalPlotChange:this.onSignalPlotChange,plottedSignalUids:this.props.plottedSignalUids,selectedMessageKey:e}))}}]),AddSignals}(c.Component)}).call(this,n(37).Buffer)},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(3),s=n(4),r=n(7),i=n(8),o=n(9),l=n(1),c=n.n(l),d=n(18),u=n.n(d),m=n(110),g=n.n(m),h=n(23),p=n.n(h),b=n(20),f=n(55),v=function(e){Object(i.a)(OnboardingModal,e);var t=Object(o.a)(OnboardingModal);function OnboardingModal(e){var n;return Object(a.a)(this,OnboardingModal),(n=t.call(this,e)).state={webUsbEnabled:!!navigator.usb,viewingUsbInstructions:!1,pandaConnected:!1},n.attemptPandaConnection=n.attemptPandaConnection.bind(Object(r.a)(n)),n.toggleUsbInstructions=n.toggleUsbInstructions.bind(Object(r.a)(n)),n.navigateToExplorer=n.navigateToExplorer.bind(Object(r.a)(n)),n}return Object(s.a)(OnboardingModal,[{key:"componentDidMount",value:function componentDidMount(){var e=document.createElement("script");document.body.appendChild(e),e.onload=function(){window.AppleID.auth.init({clientId:h.config.APPLE_CLIENT_ID,scope:h.config.APPLE_SCOPES,redirectURI:h.config.APPLE_REDIRECT_URI,state:h.config.APPLE_STATE})},e.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",e.async=!0,document.addEventListener("AppleIDSignInOnSuccess",(function(e){var t=e.detail.authorization,n=t.code,a=t.state;window.location=[h.config.APPLE_REDIRECT_PATH,g.a.stringify({code:n,state:a})].join("?")})),document.addEventListener("AppleIDSignInOnFailure",console.log)}},{key:"attemptPandaConnection",value:function attemptPandaConnection(){this.state.webUsbEnabled&&this.props.handlePandaConnect()}},{key:"toggleUsbInstructions",value:function toggleUsbInstructions(){this.setState({viewingUsbInstructions:!this.state.viewingUsbInstructions})}},{key:"navigateToExplorer",value:function navigateToExplorer(){window.location.href=b.b}},{key:"filterRoutesWithCan",value:function filterRoutesWithCan(e){return!0===e.can}},{key:"renderPandaEligibility",value:function renderPandaEligibility(){var e=this.state,t=e.webUsbEnabled,n=e.pandaConnected,a=this.props.attemptingPandaConnection;return t?!n&&a?c.a.createElement("p",null,c.a.createElement("i",{className:"fa fa-spinner animate-spin"}),c.a.createElement("span",{className:"animate-pulse-opacity"},"Waiting for panda USB connection")):void 0:c.a.createElement("p",null,c.a.createElement("i",{className:"fa fa-exclamation-triangle"}),c.a.createElement("span",{onClick:this.toggleUsbInstructions},c.a.createElement("span",null,"WebUSB is not enabled in your Chrome settings")))}},{key:"renderLogin",value:function renderLogin(){return p.a.isAuthenticated()?c.a.createElement("button",{onClick:this.navigateToExplorer,className:"button--primary button--kiosk"},c.a.createElement("i",{className:"fa fa-video-camera"}),c.a.createElement("strong",null,"Find a drive in connect"),c.a.createElement("sup",null,'Click "View in cabana" while replaying a drive')):c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:h.config.GOOGLE_REDIRECT_LINK,className:"button button--primary button--icon"},c.a.createElement("i",{className:"fa fa-google"}),c.a.createElement("strong",null,"Sign in with Google")),c.a.createElement("button",{onClick:function onClick(){return window.AppleID.auth.signIn()},className:"button button--primary button--icon"},c.a.createElement("i",{className:"fa fa-apple"}),c.a.createElement("strong",null,"Sign in with Apple")),c.a.createElement("a",{href:h.config.GITHUB_REDIRECT_LINK,className:"button button--primary button--icon"},c.a.createElement("i",{className:"fa fa-github"}),c.a.createElement("strong",null,"Sign in with GitHub")))}},{key:"renderOnboardingOptions",value:function renderOnboardingOptions(){return c.a.createElement("div",{className:"cabana-onboarding-modes"},c.a.createElement("div",{className:"cabana-onboarding-mode"},this.renderLogin()),c.a.createElement("div",{className:"cabana-onboarding-mode"},c.a.createElement("button",{className:u()("button--secondary button--kiosk",{"is-disabled":!this.state.webUsbEnabled||this.props.attemptingPandaConnection}),onClick:this.attemptPandaConnection},c.a.createElement("i",{className:"fa fa-bolt"}),c.a.createElement("strong",null,"Launch Realtime Streaming"),c.a.createElement("sup",null,"Interactively stream car data over USB with"," ",c.a.createElement("em",null,"panda")),this.renderPandaEligibility())))}},{key:"renderUsbInstructions",value:function renderUsbInstructions(){return c.a.createElement("div",{className:"cabana-onboarding-instructions"},c.a.createElement("button",{className:"button--small button--inverted",onClick:this.toggleUsbInstructions},c.a.createElement("i",{className:"fa fa-chevron-left"}),c.a.createElement("span",null," Go back")),c.a.createElement("h3",null,"Follow these directions to enable WebUSB:"),c.a.createElement("ol",{className:"cabana-onboarding-instructions-list list--bubbled"},c.a.createElement("li",null,c.a.createElement("p",null,c.a.createElement("strong",null,"Open your Chrome settings:")),c.a.createElement("div",{className:"inset"},c.a.createElement("span",null,"chrome://flags/#enable-experimental-web-platform-features"))),c.a.createElement("li",null,c.a.createElement("p",null,c.a.createElement("strong",null,"Enable Experimental Platform features:")),c.a.createElement("img",{alt:"Screenshot of Google Chrome Experimental Platform features",src:OnboardingModal.instructionalImages.step2})),c.a.createElement("li",null,c.a.createElement("p",null,c.a.createElement("strong",null,"Enable WebUSB:")),c.a.createElement("img",{alt:"Screenshot of Google Chrome enable WebUSB",src:OnboardingModal.instructionalImages.step3})),c.a.createElement("li",null,c.a.createElement("p",null,c.a.createElement("strong",null,"Relaunch your Chrome browser and try enabling live mode again.")))))}},{key:"renderModalContent",value:function renderModalContent(){return this.state.viewingUsbInstructions?this.renderUsbInstructions():this.renderOnboardingOptions()}},{key:"renderModalFooter",value:function renderModalFooter(){return c.a.createElement("p",null,c.a.createElement("span",null,"Don't have a"," ",c.a.createElement("a",{href:"https://comma.ai/shop/products/panda",target:"_blank",rel:"noopener noreferrer"},"panda"),"?"," "),c.a.createElement("span",null,c.a.createElement("a",{href:"https://comma.ai/shop/products/panda",target:"_blank",rel:"noopener noreferrer"},"Get one here")," "),c.a.createElement("span",null,"or"," ",c.a.createElement("a",{href:"".concat(window.location.href,"?demo=1")},"try the demo"),"."))}},{key:"render",value:function render(){return c.a.createElement(f.a,{title:"Welcome to Cabana",subtitle:"Get started by selecting a drive from connect or enabling live mode",footer:this.renderModalFooter(),disableClose:!0,variations:["wide","dark"]},this.renderModalContent())}}]),OnboardingModal}(l.Component);v.instructionalImages={step2:n(476),step3:n(477)}},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(11),s=n.n(a),r=n(14),i=n(3),o=n(4),l=n(7),c=n(8),d=n(9),u=n(1),m=n.n(u),g=n(18),h=n.n(g),p=n(257),b=n.n(p),f=(n(83),n(36),n(55)),v=function(e){Object(c.a)(SaveDbcModal,e);var t=Object(d.a)(SaveDbcModal);function SaveDbcModal(e){var n;return Object(i.a)(this,SaveDbcModal),(n=t.call(this,e)).state={tab:"GitHub",openDbcFork:null,dbcFilename:n.props.sourceDbcFilename,tabs:["GitHub","Download"],commitMessage:"OpenDBC updates"},n.commitToGitHub=n.commitToGitHub.bind(Object(l.a)(n)),n.downloadDbcFile=n.downloadDbcFile.bind(Object(l.a)(n)),n.forkOpenDbcAndWait=n.forkOpenDbcAndWait.bind(Object(l.a)(n)),n.renderForkButton=n.renderForkButton.bind(Object(l.a)(n)),n.renderTabNavigation=n.renderTabNavigation.bind(Object(l.a)(n)),n.renderActions=n.renderActions.bind(Object(l.a)(n)),n}return Object(o.a)(SaveDbcModal,[{key:"componentDidMount",value:function(){var e=Object(r.a)(s.a.mark((function _callee(){var e;return s.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.openDbcClient.getUserOpenDbcFork();case 2:e=t.sent,this.setState({openDbcFork:e});case 4:case"end":return t.stop()}}),_callee,this)})));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"commitToGitHub",value:function(){var e=Object(r.a)(s.a.mark((function _callee2(){var e,t,n,a;return s.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state,t=e.openDbcFork,n=e.dbcFilename,a="".concat(n.replace(/\.dbc/g,""),".dbc"),s.next=4,this.props.openDbcClient.commitFile(t,a,this.props.dbc.text(),this.state.commitMessage);case 4:s.sent&&this.props.onDbcSaved(a);case 6:case"end":return s.stop()}}),_callee2,this)})));return function commitToGitHub(){return e.apply(this,arguments)}}()},{key:"downloadDbcFile",value:function(){var e=Object(r.a)(s.a.mark((function _callee3(){var e,t;return s.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:e=new Blob([this.props.dbc.text()],{type:"text/plain;charset=utf-8"}),t="".concat(this.state.dbcFilename.replace(/\.dbc/g,""),".dbc"),b.a.saveAs(e,t,!0);case 3:case"end":return n.stop()}}),_callee3,this)})));return function downloadDbcFile(){return e.apply(this,arguments)}}()},{key:"forkOpenDbcAndWait",value:function(){var e=Object(r.a)(s.a.mark((function _callee4(){var e,t,n,a=this;return s.a.wrap((function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.props.openDbcClient.fork();case 2:s.sent&&(e=!1,t=window.setTimeout((function(){e=!0}),3e4),n=window.setInterval((function(){e?window.clearInterval(n):a.props.openDbcClient.getUserOpenDbcFork().then((function(e){null!==e&&(a.setState({openDbcFork:e}),window.clearInterval(n),window.clearTimeout(t))}))}),3e3));case 4:case"end":return s.stop()}}),_callee4,this)})));return function forkOpenDbcAndWait(){return e.apply(this,arguments)}}()},{key:"primaryActionDisabled",value:function primaryActionDisabled(){var e=this.state.tab;return"GitHub"===e?null!=this.state.openDbcFork&&this.state.dbcFilename.length>0:"Download"===e||void 0}},{key:"renderForkButton",value:function renderForkButton(){return m.a.createElement("button",{onClick:this.forkOpenDbcAndWait},m.a.createElement("i",{className:"fa fa-code-fork"}),m.a.createElement("span",null," Fork OpenDBC"))}},{key:"renderForkStep",value:function renderForkStep(){var e,t=this.state.openDbcFork;return e=null!==t?m.a.createElement("button",{disabled:!0},m.a.createElement("i",{className:"fa fa-code-fork"}),m.a.createElement("span",null," ","Forked:",t)):this.props.hasGithubAuth?this.renderForkButton():this.props.loginWithGithub,m.a.createElement("div",null,null!==t?this.renderForkButton():null,e,m.a.createElement("hr",null))}},{key:"renderFilenameField",value:function renderFilenameField(){var e=this;return m.a.createElement("div",{className:"form-field","data-extension":".dbc"},m.a.createElement("label",{htmlFor:"filename"},m.a.createElement("span",null,"Choose a filename:"),m.a.createElement("sup",null,"Pick a unique name for your car DBC file")),m.a.createElement("input",{type:"text",id:"filename",value:this.state.dbcFilename.replace(/\.dbc/g,""),size:this.state.dbcFilename.length+2,onChange:function onChange(t){return e.setState({dbcFilename:t.target.value})}}))}},{key:"renderTabNavigation",value:function renderTabNavigation(){var e=this;return m.a.createElement("div",{className:"cabana-tabs-navigation"},this.state.tabs.map((function(t){return m.a.createElement("button",{className:h()({"is-active":e.state.tab===t}),onClick:function onClick(){e.setState({tab:t})},key:t},m.a.createElement("span",null,t))})))}},{key:"renderCommitMessage",value:function renderCommitMessage(){var e=this;return m.a.createElement("div",{className:"form-field"},m.a.createElement("label",{htmlFor:"commit-message"},m.a.createElement("span",null,"Commit Message:"),m.a.createElement("sup",null,"Message appears in git logs")),m.a.createElement("input",{type:"text",id:"commit-message",value:this.state.commitMessage,onChange:function onChange(t){return e.setState({commitMessage:t.target.value})}}))}},{key:"renderTabContent",value:function renderTabContent(){var e=this.state.tab;return"GitHub"===e?m.a.createElement("div",null,this.renderForkStep(),this.renderFilenameField(),this.renderCommitMessage()):"Download"===e?m.a.createElement("div",null,this.renderFilenameField()):void 0}},{key:"renderActions",value:function renderActions(){var e=this.state.tab;return"GitHub"===e?m.a.createElement("div",null,m.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},m.a.createElement("span",null,"Cancel")),m.a.createElement("button",{className:"button--primary",onClick:this.commitToGitHub},m.a.createElement("span",null,"Commit to GitHub"))):"Download"===e?m.a.createElement("div",null,m.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},m.a.createElement("span",null,"Cancel")),m.a.createElement("button",{className:"button--primary",onClick:this.downloadDbcFile},m.a.createElement("span",null,"Download"))):void 0}},{key:"render",value:function render(){return m.a.createElement(f.a,{title:"Save DBC File",subtitle:"Save your progress and output to a DBC file",handleClose:this.props.handleClose,navigation:this.renderTabNavigation(),actions:this.renderActions()},this.renderTabContent())}}]),SaveDbcModal}(u.Component)},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(3),s=n(4),r=n(7),i=n(8),o=n(9),l=n(1),c=n.n(l),d=n(55),u=function(e){Object(i.a)(EditMessageModal,e);var t=Object(o.a)(EditMessageModal);function EditMessageModal(e){var n;return Object(a.a)(this,EditMessageModal),(n=t.call(this,e)).state={messageFrame:e.message.frame.copy()},n.handleSave=n.handleSave.bind(Object(r.a)(n)),n.editTransmitter=n.editTransmitter.bind(Object(r.a)(n)),n.addTransmitter=n.addTransmitter.bind(Object(r.a)(n)),n.renderActions=n.renderActions.bind(Object(r.a)(n)),n}return Object(s.a)(EditMessageModal,[{key:"handleSave",value:function handleSave(){this.props.handleSave(this.state.messageFrame)}},{key:"addTransmitter",value:function addTransmitter(){var e=this.state.messageFrame;e.addTransmitter(),this.setState({messageFrame:e})}},{key:"editTransmitter",value:function editTransmitter(e){}},{key:"renderActions",value:function renderActions(){return c.a.createElement("div",null,c.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},"Cancel"),c.a.createElement("button",{className:"button--primary",onClick:this.handleSave},"Save Message"))}},{key:"render",value:function render(){var e=this;return c.a.createElement(d.a,{title:"Edit Message: (".concat(this.props.message.id,")"),subtitle:"Make changes and update defaults of this message",handleClose:this.props.handleClose,handleSave:this.handleSave,actions:this.renderActions()},c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"message_name"},c.a.createElement("span",null,"Name"),c.a.createElement("sup",null,"Customize the name of this message")),c.a.createElement("input",{type:"text",id:"message_name",value:this.state.messageFrame.name,onChange:function onChange(t){var n=e.state.messageFrame;n.name=t.target.value,e.setState({messageFrame:n})}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"message_size"},c.a.createElement("span",null,"Size"),c.a.createElement("sup",null,"Add a size parameter to this message")),c.a.createElement("input",{type:"number",id:"message_size",value:this.state.messageFrame.size,onChange:function onChange(t){var n=e.state.messageFrame;n.size=parseInt(t.target.value,10),e.setState({messageFrame:n})}})),c.a.createElement("div",{className:"form-field u-hidden"},c.a.createElement("label",{htmlFor:"message_transmitters"},c.a.createElement("span",null,"Transmitters"),c.a.createElement("sup",null,"Add the physical ECU units that this message is coming from.")),c.a.createElement("div",{className:"form-field-inset"},c.a.createElement("ul",{className:"form-field-inset-list"},this.state.messageFrame.transmitters.map((function(e){return c.a.createElement("li",{className:"form-field-inset-list-item",key:e},c.a.createElement("div",{className:"form-field-inset-list-item-title"},c.a.createElement("span",null,e)),c.a.createElement("div",{className:"form-field-inset-list-item-action"},c.a.createElement("button",{className:"button--tiny button--alpha"},"Edit")))})),c.a.createElement("button",{className:"button--tiny button--alpha"},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-plus"})," ","Add Transmitter"))))))}}]),EditMessageModal}(l.Component)},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),s=n(4),r=n(261),i=n.n(r),o=n(20),l=function(){function UnloggerClient(){Object(a.a)(this,UnloggerClient),this.socket=i()(o.j)}return Object(s.a)(UnloggerClient,[{key:"seek",value:function seek(e,t,n){this.socket.emit("seek",e,t,n)}}]),UnloggerClient}()},262:function(e,t,n){"use strict";function hash(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)}n.d(t,"a",(function(){return hash}))},263:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return init}));var a=n(11),s=n.n(a),r=n(15),i=n(10),o=n(14),l=n(110),c=n.n(l),d=n(23),u=n.n(d),m=n(43),g=n(264),h=n(22),p=n(20),b=n(38),f=n(85),v=n(266);function _authenticate(){return(_authenticate=Object(o.a)(s.a.mark((function _callee(){var e,t,n,a,r,i;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(!window.location||window.location.pathname!==d.config.AUTH_PATH){s.next=12;break}return s.prev=1,e=c.a.parse(window.location.search),t=e.code,n=e.provider,s.next=5,m.auth.refreshAccessToken(t,n);case 5:(a=s.sent)&&(d.storage.setCommaAccessToken(a),window.sessionStorage&&(r=window.sessionStorage.getItem("onboardingPath"))&&(window.sessionStorage.removeItem("onboardingPath"),window.location=r)),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),console.log(s.t0);case 12:return s.next=14,u.a.init();case 14:(i=s.sent)&&m.request.configure(i);case 16:case"end":return s.stop()}}),_callee,null,[[1,9]])})))).apply(this,arguments)}function init(){g.a.init();var t=Object(h.a)("route"),n=!!Object(h.a)("demo"),a=Object(h.a)("segments");a&&a.length&&2!==(a=a.split(",").map(Number)).length&&(a=void 0);var s={autoplay:!0,startTime:Number(Object(h.a)("seekTime")||0),segments:a,isDemo:n},o=null;if(t){var l=t.split("|"),c=Object(i.a)(l,2),d=c[0],u=c[1];s.dongleId=d,s.name=u,o=Object(b.a)(t);var m=Object(h.a)("max"),S=Object(h.a)("url"),E=Object(h.a)("exp"),y=Object(h.a)("sig");m&&(s.max=m),S&&(s.url=S),E&&(s.exp=E),y&&(s.sig=y),s.isLegacyShare=m&&S&&!E&&!y,s.isShare=m&&S&&E&&y}else n&&(s=Object(r.a)(Object(r.a)({},s),f.b));if(o){var _=o,C=_.dbcFilename,k=_.dbc;s.dbc=k,s.dbcFilename=C}var w=Object(h.a)(p.c);if(null!==w){s.githubAuthToken=w,Object(b.d)(w);var D=Object(h.b)({remove:[p.c]});window.location.href=D}else s.githubAuthToken=Object(b.b)();return new Promise((function(t){(function authenticate(){return _authenticate.apply(this,arguments)})().then((function(){var e=Object(h.a)("retropilotHost")||"",t=Object(h.a)("retropilotIdentifier")||"",n=Object(h.a)("seekTime")||0;return Object(v.a)(e,t,n)})).then((function(){e.retropilotLoaded&&Object.assign(s,e.retropilotProps)})).then((function(){t(s)}))}))}}).call(this,n(26))},264:function(e,t,n){"use strict";var a=n(265),s=n.n(a);t.a={init:function init(){var e={};"undefined"!==typeof __webpack_hash__&&(e.release=__webpack_hash__),s.a.config("https://50006e5d91894f508dd288bbbf4585a6@sentry.io/185303",e).install()}}},266:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return loadRetropilotDrive}));var a=n(11),s=n.n(a),r=n(14),i=n(49),o=n.n(i),l=n(111),c=n(36),d=n(38);function loadRetropilotDrive(e,t,n){return _loadRetropilotDrive.apply(this,arguments)}function _loadRetropilotDrive(){return(_loadRetropilotDrive=Object(r.a)(s.a.mark((function _callee(t,n,a){var r,i,u,m,g,h;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(null!=n&&n.length){s.next=3;break}return e.retropilotLoaded=!1,s.abrupt("return");case 3:return s.next=5,fetch(t+"useradmin/cabana_drive/"+encodeURIComponent(n));case 5:return r=s.sent,s.prev=6,s.next=9,r.json();case 9:i=s.sent,s.next=14;break;case 12:s.prev=12,s.t0=s.catch(6);case 14:if(i&&i.logUrls){s.next=18;break}return alert(i&&i.status?i.status:"fetching retropilot drive failed!"),e.retropilotLoaded=!1,s.abrupt("return");case 18:e.retropilotLogUrls=i.logUrls,u=i.dbc&&i.dbc.length>0?new c.a(i.dbc):l.a,e.retropilotProps={autoplay:!0,startTime:a,segments:e.retropilotLogUrls.length,isDemo:!0,max:e.retropilotLogUrls.length,name:i.driveIdentifier,dongleId:i.dongleId,dbc:u,dbcFilename:i.dbcFilename||"toyota_nodsu_pt_generated.dbc"},e.retropilotRoute={fullname:i.name,proclog:e.retropilotProps.max,start_time:o()(e.retropilotProps.name,"YYYY-MM-DD--H-m-s"),url:i.driveUrl},e.retropilotProps.max>0?((m=Object(d.a)(e.retropilotRoute.fullname))&&(g=m.dbcFilename,h=m.dbc,e.retropilotProps.dbc=h,e.retropilotProps.dbcFilename=g),e.retropilotLoaded=!0):e.retropilotLoaded=!1;case 23:case"end":return s.stop()}}),_callee,null,[[6,12]])})))).apply(this,arguments)}}).call(this,n(26))},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(5),s=n(3),r=n(4),i=n(7),o=n(8),l=n(9),c=n(1),d=n.n(c),u=n(18),m=n.n(u),g=n(246),h=n(15),p=n(112),b=n(559);n(74);var f={elementWiseEquals:function elementWiseEquals(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))},findIndexRight:function findIndexRight(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return n}},v=n(20);function _calcGraphData(e,t,n){if(!e)return null;var a=Object.values(e.frame.signals).find((function(e){return e.uid===t}));if(!a)return console.warn("_calcGraphData: no signal",t,e),null;var s=[],r=Math.floor(e.entries.length/v.a);if(0===r)s=e.entries;else{for(var i=0;i<e.entries.length;i+=r)s.push(e.entries[i]);s.push(e.entries[e.entries.length-1])}if(!s.length)return[];var o=a.getColors(e.id);t=e.id+t;var l=s[0].relTime;return s.filter((function(e){return void 0!==e.signals[a.name]})).map((function(n){return n.relTime<l&&(console.log(e),console.error("Found out of order messages")),n.relTime-l>2&&(t=Math.random().toString(36)),l=n.relTime,{x:n.time,relTime:n.relTime,y:parseFloat(n.signals[a.name]),unit:a.unit,color:"rgba(".concat(o.join(","),", 0.5)"),signalName:a.name,signalUid:t}}))}var S={_calcGraphData:_calcGraphData,appendNewGraphData:function appendNewGraphData(e,t,n,s){return e.map((function(e){return e.reduce((function(e,t){var n=t.messageId;t.signalUid;return e.push(n),e}),[])})).map((function(e,t){return{plottedMessageIds:e,index:t}})).filter((function(e){var a=e.plottedMessageIds,s=e.index;if(s<t.length){var r=0,i=t[s].series;return i.length>0&&(r=i[t[s].series.length-1].relTime),a.some((function(e){return n[e].entries.length>0&&0===i.length||n[e].entries.some((function(e){return e.relTime>r}))}))}return!1})).map((function(e){var t=e.plottedMessageIds,n=e.index;return{plottedMessageIds:t=t.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]),index:n}})).forEach((function(a){var s=a.plottedMessageIds,r=a.index,i=e[r].reduce((function(e,t){var n=t.messageId,a=t.signalUid;return e[n]||(e[n]=[]),e[n].push(a),e}),{}),o=t[r].series,l=s.reduce((function(e,t){var n=i[t],a=f.findIndexRight(o,(function(e){return-1!==n.indexOf(e.signalUid)}));return a?e[t]=o[a].relTime:o.length>0?e[t]=o[o.length-1].relTime:e[t]=-1,e}),{}),c=[];s.map((function(e){return{messageId:e,entries:n[e].entries}})).filter((function(e){var t=e.messageId,n=e.entries;return n[n.length-1].relTime>l[t]})).forEach((function(e){var t=e.messageId,a=e.entries,s=a.findIndex((function(e){return e.relTime>l[t]})),r=a.slice(s);i[t].forEach((function(e){var a=_calcGraphData(Object(h.a)(Object(h.a)({},n[t]),{},{entries:r}),e);c=c.concat(a)}))}));var d=o.length>0&&s.find((function(e){return n[e].entries.length>0&&o[0].relTime<n[e].entries[0].relTime}));if(t[r]={series:t[r].series.concat(c),updated:Date.now()},d){var u=t[r].series.findIndex((function(e){return e.relTime>n[d].entries[0].relTime}));u&&(t[r].series=t[r].series.slice(u))}})),Object(a.a)(t)},signalColors:function signalColors(e,t){return e.colors.map((function(e){return e^t.address^t.bus}))}},E={$schema:"https://vega.github.io/schema/vega/v5.json",width:500,height:212,autosize:"none",padding:{top:5,left:70,right:20,bottom:20},data:[{name:"table"},{name:"segment"},{name:"tooltip",source:"table",transform:[{type:"filter",expr:"abs(datum.relTime - tipTime) <= 0.05"},{type:"aggregate",groupby:["color"],fields:["relTime","y","unit"],ops:["min","argmin","argmin"],as:["min","argmin","argmin"]}]},{name:"ySegmentScale",source:"table",transform:[{type:"filter",expr:"length(segment) != 2 || (datum.relTime >= segment[0] && datum.relTime <= segment[1])"},{type:"extent",field:"y",signal:"ySegment"}]}],scales:[{name:"xscale",type:"linear",range:"width",domain:{data:"table",field:"x"},zero:!1},{name:"xrelscale",type:"linear",range:"width",domain:{data:"table",field:"relTime"},zero:!1,clamp:!0,nice:!0,domainRaw:{signal:"segment"}},{name:"yscale",type:"linear",range:"height",clamp:!0,zero:!1,nice:!0,domain:{signal:"ySegment"}},{name:"color",type:"ordinal",domain:{data:"table",field:"color"},range:{data:"table",field:"color"}}],axes:[{orient:"bottom",scale:"xrelscale",labelOverlap:!0},{orient:"left",scale:"yscale",format:".6~g"}],signals:[{name:"tipTime",on:[{events:"mousemove",update:"invert('xrelscale', x())"},{events:"mouseout",update:"null"}]},{name:"clickTime",on:[{events:"click",update:"invert('xrelscale', x())"}]},{name:"videoTime"},{name:"segment",value:{data:"table",field:"relTime"}}],marks:[{type:"group",name:"plot",interactive:!0,encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"transparent"}}},signals:[{name:"brush",value:0,on:[{events:"@boundingRect:mousedown",update:"[x(), x()]"},{events:"[@boundingRect:mousedown, window:mouseup] > window:mousemove!",update:"[brush[0], clamp(x(), 0, width)]"},{events:{signal:"delta"},update:"clampRange([anchor[0] + delta, anchor[1] + delta], 0, width)"}]},{name:"anchor",value:null,on:[{events:"@brush:mousedown",update:"slice(brush)"}]},{name:"xdown",value:0,on:[{events:"@brush:mousedown",update:"x()"}]},{name:"xup",value:0,on:[{events:"@brush:mouseup",update:"x()"}]},{name:"delta",value:0,on:[{events:"[@brush:mousedown, window:mouseup] > window:mousemove!",update:"x() - xdown"}]},{name:"segment",push:"outer",on:[{events:"window:mouseup",update:"span(brush) && span(brush) > 15 ? invert('xrelscale', brush) : segment"}]}],marks:[{type:"group",from:{facet:{name:"series",data:"table",groupby:"signalUid"}},marks:[{type:"line",name:"lineMark",from:{data:"series"},interactive:!0,encode:{update:{value:"natural",tension:0,x:{scale:"xrelscale",field:"relTime"},y:{scale:"yscale",field:"y"},detail:{field:"signalUid"}},hover:{fillOpacity:{value:.5}},enter:{clip:{value:!0},stroke:{scale:"color",field:"color"},strokeWidth:{value:2}}}}]},{type:"rect",interactive:!0,name:"brush",encode:{enter:{y:{value:0},height:{signal:"height"},fill:{value:"#333"},fillOpacity:{value:.2}},update:{x:{signal:"brush[0]"},x2:{signal:"brush[1]"}}}},{type:"rule",encode:{update:{y:{value:0},y2:{field:{group:"height"}},stroke:{value:"#000"},strokeWidth:{value:2},x:{scale:"xrelscale",signal:"videoTime",offset:.5}}}},{type:"symbol",from:{data:"tooltip"},encode:{update:{x:{scale:"xrelscale",field:"argmin.relTime"},y:{scale:"yscale",field:"argmin.y"},size:{value:50},fill:{value:"black"}}}},{type:"group",from:{data:"tooltip"},interactive:!1,name:"tooltipGroup",encode:{update:{x:[{test:"inrange(datum.argmin.relTime + 80, domain('xrelscale'))",scale:"xrelscale",field:"argmin.relTime"},{scale:"xrelscale",field:"argmin.relTime",offset:-80}],y:{scale:"yscale",field:"argmin.y"},height:{value:20},width:{value:80},fill:{value:"#fff"},fillOpacity:{value:.85},stroke:{value:"#aaa"},strokeWidth:{value:.5}}},marks:[{type:"text",interactive:!1,encode:{update:{text:{signal:"format(parent.argmin.relTime, ',.2f') + ': ' + format(parent.argmin.y, ',.2f') + ' ' + parent.argmin.unit"},fill:{value:"black"},fontWeight:{value:"bold"},y:{value:20}}}}]},{type:"rect",name:"boundingRect",interactive:!0,encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"transparent"}}}}]}]},y=n(41),_={position:"absolute",top:0,left:0},C=function(e){Object(o.a)(CanGraph,e);var t=Object(l.a)(CanGraph);function CanGraph(e){var n;return Object(s.a)(this,CanGraph),(n=t.call(this,e)).updateBounds=Object(y.a)((function(){n.view.signal("width",n.state.bounds.width-90),n.view.signal("height",.4*(n.state.bounds.width-40)),n.view.run()}),100),n.insertData=Object(y.a)((function(){if(n.view){var e=n.state.data.series,t=n.view.changeset().remove((function(e){return!0})).insert(e);n.view.change("table",t),n.view.run()}else console.log("Cannot insertData")}),250),n.state={plotInnerStyle:null,shiftX:0,shiftY:0,bounds:null,isDataInserted:!1,data:n.getGraphData(e),spec:n.getGraphSpec(e)},n.onNewView=n.onNewView.bind(Object(i.a)(n)),n.onSignalClickTime=n.onSignalClickTime.bind(Object(i.a)(n)),n.onSignalSegment=n.onSignalSegment.bind(Object(i.a)(n)),n.onDragAnchorMouseDown=n.onDragAnchorMouseDown.bind(Object(i.a)(n)),n.onDragAnchorMouseUp=n.onDragAnchorMouseUp.bind(Object(i.a)(n)),n.onDragStart=n.onDragStart.bind(Object(i.a)(n)),n.onPlotResize=n.onPlotResize.bind(Object(i.a)(n)),n.insertData=n.insertData.bind(Object(i.a)(n)),n}return Object(r.a)(CanGraph,[{key:"getGraphData",value:function getGraphData(e){var t=-1,n=-1,a=e.plottedSignals.map((function(a){var s=a.messageId,r=a.signalUid,i=e.messages[s].entries;if(i.length){var o=i[0].relTime;t=-1===t?o:Math.min(t,o),o=i[i.length-1].relTime,n=Math.max(n,o)}return S._calcGraphData(e.messages[s],r,0)})).reduce((function(e,t){return e.concat(t)}),[]);return{updated:Date.now(),series:a,firstRelTime:t,lastRelTime:n}}},{key:"getGraphSpec",value:function getGraphSpec(e){return Object(h.a)(Object(h.a)({},E),{},{scales:[Object(h.a)(Object(h.a)({},E.scales[0]),{},{domainMin:e.segment[0],domainMax:e.segment[1]})].concat(Object(a.a)(E.scales.slice(1)))})}},{key:"segmentIsNew",value:function segmentIsNew(e){var t=this;return e.length!==this.props.segment.length||!e.every((function(e,n){return t.props.segment[n]===e}))}},{key:"visualChanged",value:function visualChanged(e,t){return e.canReceiveGraphDrop!==t.canReceiveGraphDrop||JSON.stringify(e.dragPos)!==JSON.stringify(t.dragPos)}},{key:"onPlotResize",value:function onPlotResize(e){if(this.view){e&&e.bounds?(this.setState({bounds:e.bounds}),e.bounds):this.state.bounds,this.view.runAfter(this.updateBounds)}}},{key:"componentDidUpdate",value:function componentDidUpdate(e){if(this.props.dragPos&&JSON.stringify(e.dragPos)!==JSON.stringify(this.props.dragPos)?this.updateStyleFromDragPos(this.props.dragPos):this.props.dragPos||null===this.state.plotInnerStyle||this.setState({plotInnerStyle:null}),e.messages!==this.props.messages||e.plottedSignal!==this.props.plottedSignal){var t=this.getGraphData(this.props);this.setState({data:t})}this.segmentIsNew(this.props.segment)&&this.setState({spec:this.getGraphSpec(this.props)}),this.view&&(this.props.segment.length>0?this.view.signal("segment",this.props.segment):this.view.signal("segment",0),this.view.signal("videoTime",this.props.currentTime),this.view.runAsync())}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return!this.view||(!(this.props.messages===e.messages&&this.props.plottedSignal===e.plottedSignal&&!this.segmentIsNew(e.segment)&&this.state.spec===t.spec)||(this.state.data!==t.data&&this.insertData(),this.props.currentTime!==e.currentTime&&this.view.signal("videoTime",e.currentTime),this.segmentIsNew(e.segment)&&(e.segment.length>0?this.view.signal("segment",e.segment):this.view.signal("segment",0)),this.view.runAsync(),!1))}},{key:"updateStyleFromDragPos",value:function updateStyleFromDragPos(e){var t=e.left,n=e.top,a=Object(h.a)({},this.state.plotInnerStyle);a.left=t,a.top=n,this.setState({plotInnerStyle:a})}},{key:"onNewView",value:function onNewView(e){this.view=e,this.state.bounds&&this.onPlotResize(),this.props.segment.length>0&&e.signal("segment",this.props.segment),e.signal("videoTime",this.props.currentTime),this.insertData()}},{key:"onSignalClickTime",value:function onSignalClickTime(e,t){void 0!==t&&this.props.onRelativeTimeClick(this.props.messageId,t)}},{key:"onSignalSegment",value:function onSignalSegment(e,t){var n=this;Array.isArray(t)&&(this.props.onSegmentChanged(this.props.messageId,t),this.view&&this.view.runAfter((function(){var e=n.view.getState();e.subcontext[0].signals.brush=0,n.view.setState(e),n.insertData()})))}},{key:"plotInnerStyleFromMouseEvent",value:function plotInnerStyleFromMouseEvent(e){var t=this.state,n=t.shiftX,a=t.shiftY,s=Object(h.a)({},_),r=this.props.container.getBoundingClientRect(),i=e.clientX-r.left-n,o=e.clientY-r.top-a;return s.left=i,s.top=o,s}},{key:"onDragAnchorMouseDown",value:function onDragAnchorMouseDown(e){var t=this;e.persist();var n=e.clientX-e.target.getBoundingClientRect().left,a=e.clientY-e.target.getBoundingClientRect().top;this.setState({shiftX:n,shiftY:a},(function(){t.setState({plotInnerStyle:t.plotInnerStyleFromMouseEvent(e)})})),this.props.onDragStart(this.props.messageId,this.props.signalSpec.uid,n,a)}},{key:"onDragAnchorMouseUp",value:function onDragAnchorMouseUp(e){this.props.onDragEnd(),this.setState({plotInnerStyle:null,shiftX:0,shiftY:0})}},{key:"onDragStart",value:function onDragStart(e){return e.preventDefault(),!1}},{key:"render",value:function render(){var e=this,t=this.state.plotInnerStyle,n=this.props.canReceiveGraphDrop?"is-droppable":null;return d.a.createElement("div",{className:"cabana-explorer-visuals-plot",ref:this.props.onGraphRefAvailable},d.a.createElement("div",{className:m()("cabana-explorer-visuals-plot-inner",n),style:t||null},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-draganchor",onMouseDown:this.onDragAnchorMouseDown},d.a.createElement("span",{className:"fa fa-bars"})),this.props.plottedSignals.map((function(t){var n=t.messageId,a=t.signalUid,s=t.messageName,r=Object.values(e.props.messages[n].frame.signals).find((function(e){return e.uid===a})),i=r.getColors(n);return d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header",key:"".concat(n,"_").concat(r.uid)},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header-toggle"},d.a.createElement("button",{className:"button--tiny",onClick:function onClick(){return e.props.unplot(n,a)}},d.a.createElement("span",null,"Hide Plot"))),d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header-copy"},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-message"},d.a.createElement("span",null,s," ",n)),d.a.createElement("div",{className:"cabana-explorer-visuals-plot-signal"},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-signal-color",style:{background:"rgb(".concat(i)}}),d.a.createElement("strong",null,r.name))))})),d.a.createElement(p.a,{bounds:!0,onResize:this.onPlotResize},(function(t){var n=t.measureRef;return d.a.createElement("div",{ref:n,className:"cabana-explorer-visuals-plot-container"},d.a.createElement(b.a,{onNewView:e.onNewView,logLevel:1,signalListeners:{clickTime:e.onSignalClickTime,segment:e.onSignalSegment},renderer:"canvas",spec:e.state.spec,actions:!1,data:{table:e.state.data.series}}))}))))}}]),CanGraph}(c.Component);C.emptyTable=[];var k=function(e){Object(o.a)(CanGraphList,e);var t=Object(l.a)(CanGraphList);function CanGraphList(e){var n;return Object(s.a)(this,CanGraphList),(n=t.call(this,e)).state={draggingSignal:{},dragPos:null,dragShift:null,graphToReceiveDrop:null},n.plotListRef=d.a.createRef(),n.plotRefs=[],n.renderSignalPlot=n.renderSignalPlot.bind(Object(i.a)(n)),n.onGraphDragStart=n.onGraphDragStart.bind(Object(i.a)(n)),n.onGraphDragEnd=n.onGraphDragEnd.bind(Object(i.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(i.a)(n)),n}return Object(r.a)(CanGraphList,[{key:"onGraphDragStart",value:function onGraphDragStart(e,t,n,a){this.setState({draggingSignal:{messageId:e,signalUid:t},dragShift:{x:n,y:a}})}},{key:"determineDraggingGraph",value:function determineDraggingGraph(){var e=this.state.draggingSignal;return this.plotRefs.find((function(t){var n=t.messageId,a=t.signalUid;return e.messageId===n&&e.signalUid===a}))}},{key:"onMouseMove",value:function onMouseMove(e){var t=this.state.dragShift;if(null!==t){var n=this.plotListRef.current.getBoundingClientRect(),a=this.determineDraggingGraph();if(a){a.ref.hidden=!0;var s=document.elementFromPoint(e.clientX,e.clientY);a.ref.hidden=!1;var r=s.closest(".cabana-explorer-visuals-plot"),i=this.plotRefs.find((function(e){var t=e.ref,n=e.messageId,s=e.signalUid;return!(n===a.messageId&&s===a.signalUid)&&t.isEqualNode(r)}));i?this.setState({graphToReceiveDrop:i}):this.setState({graphToReceiveDrop:null})}var o=e.clientX-n.left-t.x,l=e.clientY-n.top-t.y;this.setState({dragPos:{left:o,top:l}})}else null!==this.state.graphToReceiveDrop&&this.setState({graphToReceiveDrop:null})}},{key:"onGraphDragEnd",value:function onGraphDragEnd(){null!==this.state.graphToReceiveDrop&&this.props.mergePlots({fromPlot:this.state.draggingSignal,toPlot:this.state.graphToReceiveDrop}),this.setState({draggingSignal:{},dragShift:null,dragPos:null,graphToReceiveDrop:null})}},{key:"addCanGraphRef",value:function addCanGraphRef(e,t,n){if(e){var a=this.plotRefs;a=a.filter((function(e){return!(e.messageId===t&&e.signalUid===n)})).concat([{messageId:t,signalUid:n,ref:e}]),this.plotRefs=a}}},{key:"renderSignalPlot",value:function renderSignalPlot(e,t){var n=this,a=this.state,s=a.draggingSignal,r=a.graphToReceiveDrop,i=e[0],o=i.messageId,l=i.signalUid,c=this.props.messages[o];if(!this.plotListRef.current||!c)return[];var u=Object.values(c.frame.signals).find((function(e){return e.uid===l}));if(!u)return null;var m=s.signalUid===l&&s.messageId===o,g=r&&r.signalUid===l&&r.messageId===o,p=(e=e.map((function(e){return Object(h.a)({messageName:n.props.messages[e.messageId].frame.name},e)}))).reduce((function(e,t){var n=t.messageId,a=t.signalUid;return"".concat(e+n,"_").concat(a)}),"");return d.a.createElement(C,{onGraphRefAvailable:function onGraphRefAvailable(e){n.addCanGraphRef(e,o,l)},key:p,unplot:this.props.onSignalUnplotPressed,messages:this.props.messages,messageId:o,messageName:c.frame?c.frame.name:null,signalSpec:Object.assign(Object.create(u),u),onSegmentChanged:this.props.onSegmentChanged,segment:this.props.segment,onRelativeTimeClick:this.props.onGraphTimeClick,currentTime:this.props.seekTime,onDragStart:this.onGraphDragStart,onDragEnd:this.onGraphDragEnd,container:this.plotListRef.current,dragPos:m?this.state.dragPos:null,canReceiveGraphDrop:g,plottedSignals:e,live:this.props.live})}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-explorer-visuals-plots",ref:this.plotListRef,onMouseMove:this.onMouseMove,onMouseLeave:this.onGraphDragEnd,onMouseUp:this.onGraphDragEnd},this.props.plottedSignals.map(this.renderSignalPlot))}}]),CanGraphList}(c.Component),w=n(50),D=n(43),T=n(89),M=n.n(T),O=function(e){Object(o.a)(HLS,e);var t=Object(l.a)(HLS);function HLS(){var e;Object(s.a)(this,HLS);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onSeeking=function(){e.props.playing||(e.props.onLoadStart(),e.props.onPlaySeek(e.videoElement.currentTime))},e.shouldInitVideoTime=!0,e.onSeeked=function(){e.props.playing||e.props.onLoadEnd()},e.onLoadedData=function(){e.shouldInitVideoTime&&(e.videoElement.currentTime=e.props.startTime,e.shouldInitVideoTime=!1)},e}return Object(r.a)(HLS,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.videoElement.playbackRate=this.props.playbackSpeed,e.source!==this.props.source&&this.loadSource(this.props.source),this.props.playing?this.videoElement&&(this.videoElement.paused||this.videoElement.currentTime<.01)&&this.videoElement.play():this.videoElement.pause()}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.player=new M.a({enableWorker:!1,disablePtsDtsCorrectionInMp4Remux:!1}),this.player.on(M.a.Events.ERROR,(function(t,n){if(n.fatal)switch(n.type){case M.a.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),e.player.startLoad();break;case M.a.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),e.player.recoverMediaError();break;default:e.player.destroy(),e.player=null}})),this.loadSource()}},{key:"loadSource",value:function loadSource(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.source;this.videoElement&&(this.player.loadSource(e),this.player.attachMedia(this.videoElement),this.props.onVideoElementAvailable(this.videoElement))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.player&&(this.player.destroy(),this.player=null)}},{key:"render",value:function render(){var e=this;return d.a.createElement("div",{className:"cabana-explorer-visuals-camera-wrapper",onClick:this.props.onClick},d.a.createElement("video",{ref:function ref(t){e.videoElement=t},autoPlay:this.props.playing,muted:!0,onWaiting:this.props.onLoadStart,onPlaying:this.props.onLoadEnd,onSeeking:this.onSeeking,onSeeked:this.onSeeked,onLoadedData:this.onLoadedData}))}}]),HLS}(c.Component),A=function(e){Object(o.a)(PlayButton,e);var t=Object(l.a)(PlayButton);function PlayButton(e){var n;return Object(s.a)(this,PlayButton),(n=t.call(this,e)).state={hover:!1},n.onClick=n.onClick.bind(Object(i.a)(n)),n}return Object(r.a)(PlayButton,[{key:"imageSource",value:function imageSource(){var e=this.state.hover,t=this.props.isPlaying;return"".concat(".",t?e?"/img/ic_pause_circle_filled_white_24px.svg":"/img/ic_pause_circle_outline_white_24px.svg":e?"/img/ic_play_circle_filled_white_24px.svg":"/img/ic_play_circle_outline_white_24px.svg")}},{key:"onClick",value:function onClick(e){this.props.isPlaying?this.props.onPause():this.props.onPlay()}},{key:"render",value:function render(){var e=this;return d.a.createElement("img",{src:this.imageSource(),alt:this.props.isPlaying?"Pause":"Play",className:this.props.className,onClick:this.onClick,onMouseOver:function onMouseOver(){return e.setState({hover:!0})},onMouseLeave:function onMouseLeave(){return e.setState({hover:!1})}})}}]),PlayButton}(c.Component),X=function(e){Object(o.a)(RouteSeeker,e);var t=Object(l.a)(RouteSeeker);function RouteSeeker(e){var n;return Object(s.a)(this,RouteSeeker),(n=t.call(this,e)).updateDraggingSeek=Object(y.a)((function(e){return n.props.onUserSeek(e)}),250),n.state={seekedBarStyle:RouteSeeker.zeroSeekedBarStyle,markerStyle:RouteSeeker.hiddenMarkerStyle,tooltipStyle:RouteSeeker.hiddenTooltipStyle,ratio:0,tooltipTime:"0:00",isPlaying:!1,isDragging:!1},n.onMouseMove=n.onMouseMove.bind(Object(i.a)(n)),n.onMouseLeave=n.onMouseLeave.bind(Object(i.a)(n)),n.onMouseDown=n.onMouseDown.bind(Object(i.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(i.a)(n)),n.onClick=n.onClick.bind(Object(i.a)(n)),n.onPlay=n.onPlay.bind(Object(i.a)(n)),n.onPause=n.onPause.bind(Object(i.a)(n)),n.executePlayTimer=n.executePlayTimer.bind(Object(i.a)(n)),n}return Object(r.a)(RouteSeeker,[{key:"componentDidUpdate",value:function componentDidUpdate(e){if(JSON.stringify(e.segmentIndices)!==JSON.stringify(this.props.segmentIndices))this.setState({seekedBarStyle:RouteSeeker.zeroSeekedBarStyle,markerStyle:RouteSeeker.hiddenMarkerStyle,ratio:0});else if(this.props.videoLength&&e.videoLength!==this.props.videoLength){var t=this.state.ratio*e.videoLength/this.props.videoLength;this.updateSeekedBar(t)}if(e.nearestFrameTime!==this.props.nearestFrameTime){var n=this.props.segmentProgress(this.props.nearestFrameTime);this.updateSeekedBar(n)}e.playing!==this.props.isPlaying&&(this.props.playing&&!this.state.isPlaying?this.onPlay():!this.props.playing&&this.state.isPlaying&&this.onPause())}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.cancelAnimationFrame(this.playTimer)}},{key:"mouseEventXOffsetPercent",value:function mouseEventXOffsetPercent(e){var t=this.progressBar.getBoundingClientRect();return(e.clientX-t.left)/this.progressBar.offsetWidth*100}},{key:"onMouseMove",value:function onMouseMove(e){var t=this.mouseEventXOffsetPercent(e);if(t<0)this.onMouseLeave();else{var n=RouteSeeker.markerWidth,a={display:"",left:"calc(".concat(t,"% - ").concat(n/2,"px)")},s=RouteSeeker.tooltipWidth,r={display:"flex",left:"calc(".concat(t,"% - ").concat(s/2,"px)")},i=Math.max(0,t/100);this.state.isDragging&&(this.updateSeekedBar(i),this.updateDraggingSeek(i)),this.setState({markerStyle:a,tooltipStyle:r,tooltipTime:this.props.ratioTime(i).toFixed(3)})}}},{key:"onMouseLeave",value:function onMouseLeave(e){this.setState({markerStyle:RouteSeeker.hiddenMarkerStyle,tooltipStyle:RouteSeeker.hiddenTooltipStyle,isDragging:!1})}},{key:"updateSeekedBar",value:function updateSeekedBar(e){var t={width:"".concat(100*e,"%")};this.setState({seekedBarStyle:t,ratio:e})}},{key:"onClick",value:function onClick(e){var t=this.mouseEventXOffsetPercent(e)/100;t=Math.min(1,Math.max(0,t)),this.updateSeekedBar(t),this.props.onUserSeek(t)}},{key:"onPlay",value:function onPlay(){this.playTimer=window.requestAnimationFrame(this.executePlayTimer);var e=this.state.ratio;e>=1&&(e=0),this.setState({isPlaying:!0,ratio:e}),this.props.onPlay()}},{key:"executePlayTimer",value:function executePlayTimer(){var e=this.props.videoElement;if(null!==e){var t=this.props,n=t.videoLength,a=t.startTime,s=e.currentTime,r=((s=roundTime(s))-(a=roundTime(a)))/(n=roundTime(n));r!==this.state.ratio?(r>=1&&this.props.segment&&this.props.segment.length||r<0?(r=0,s=a,this.props.onUserSeek(r)):r>=1&&(e.pause(),this.onPause()),r>=0&&(this.updateSeekedBar(r),this.props.onPlaySeek(s)),this.playTimer=window.requestAnimationFrame(this.executePlayTimer)):this.playTimer=window.requestAnimationFrame(this.executePlayTimer)}else this.playTimer=window.requestAnimationFrame(this.executePlayTimer)}},{key:"onPause",value:function onPause(){window.cancelAnimationFrame(this.playTimer),this.setState({isPlaying:!1}),this.props.onPause()}},{key:"onMouseDown",value:function onMouseDown(){this.state.isDragging||this.setState({isDragging:!0})}},{key:"onMouseUp",value:function onMouseUp(){this.state.isDragging&&this.setState({isDragging:!1})}},{key:"render",value:function render(){var e=this,t=this.state,n=t.seekedBarStyle,a=t.markerStyle,s=t.tooltipStyle;return d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker"},d.a.createElement(A,{className:"cabana-explorer-visuals-camera-seeker-playbutton",onPlay:this.onPlay,onPause:this.onPause,isPlaying:this.state.isPlaying}),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress",onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.onClick,ref:function ref(t){return e.progressBar=t}},d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-tooltip",style:s},this.state.tooltipTime),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-marker",style:a}),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-inner",style:n})))}}]),RouteSeeker}(c.Component);function roundTime(e){return Math.round(1e3*e)/1e3}X.hiddenMarkerStyle={display:"none",left:0},X.zeroSeekedBarStyle={width:0},X.hiddenTooltipStyle={display:"none",left:0},X.markerWidth=20,X.tooltipWidth=50;var x=w.StyleSheet.create({loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},loadingSpinner:{width:"25%",height:"25%",display:"block"},img:{height:480,display:"block",position:"absolute",zIndex:2},hls:{zIndex:1,height:480,backgroundColor:"rgba(0,0,0,0.9)"},seekBar:{position:"absolute",bottom:0,left:0,width:"100%",zIndex:4}}),B=function(e){Object(o.a)(RouteVideoSync,e);var t=Object(l.a)(RouteVideoSync);function RouteVideoSync(e){var n;return Object(s.a)(this,RouteVideoSync),(n=t.call(this,e)).state={isLoading:!0,videoElement:null,source:null},n.onLoadStart=n.onLoadStart.bind(Object(i.a)(n)),n.onLoadEnd=n.onLoadEnd.bind(Object(i.a)(n)),n.segmentProgress=n.segmentProgress.bind(Object(i.a)(n)),n.onVideoElementAvailable=n.onVideoElementAvailable.bind(Object(i.a)(n)),n.onUserSeek=n.onUserSeek.bind(Object(i.a)(n)),n.onPlaySeek=n.onPlaySeek.bind(Object(i.a)(n)),n.ratioTime=n.ratioTime.bind(Object(i.a)(n)),n}return Object(r.a)(RouteVideoSync,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=Object(D.video)(this.props.url);t.getQcameraStreamIndex().then((function(){e.setState({source:t.getQcameraStreamIndexUrl()+"?s=".concat(e.props.maxqcamera)})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.userSeekTime,n=this.state.videoElement;e.userSeekTime&&t!==e.userSeekTime&&n&&(n.currentTime=t-this.props.videoOffset)}},{key:"onVideoElementAvailable",value:function onVideoElementAvailable(e){this.setState({videoElement:e})}},{key:"onUserSeek",value:function onUserSeek(e){var t=this.state.videoElement,onUserSeek=this.props.onUserSeek,n=this.ratioTime(e);Number.isNaN(t.duration)||(t.currentTime=n-this.props.videoOffset,0!==e&&function funcSeekToRatio(){onUserSeek(n)}())}},{key:"onPlaySeek",value:function onPlaySeek(e){this.seekTime=e+this.props.videoOffset,this.props.onPlaySeek(this.seekTime)}},{key:"onLoadStart",value:function onLoadStart(){this.setState({isLoading:!0})}},{key:"onLoadEnd",value:function onLoadEnd(){this.setState({isLoading:!1})}},{key:"loadingOverlay",value:function loadingOverlay(){return d.a.createElement("div",{className:Object(w.css)(x.loadingOverlay)},d.a.createElement("img",{className:Object(w.css)(x.loadingSpinner),src:"".concat(".","/img/loading.svg"),alt:"Loading video"}))}},{key:"videoLength",value:function videoLength(){return this.props.segment.length?this.props.segment[1]-this.props.segment[0]:this.state.videoElement?this.state.videoElement.duration:0}},{key:"startTime",value:function startTime(){return this.props.segment.length?this.props.segment[0]:0}},{key:"segmentProgress",value:function segmentProgress(e){var t=this.startTime();e<t&&(e=t);var n=(e-t)/this.videoLength();return Math.max(0,Math.min(1,n))}},{key:"ratioTime",value:function ratioTime(e){return e*this.videoLength()+this.startTime()}},{key:"render",value:function render(){var e=this.state,t=e.isLoading,n=e.videoElement,a=this.props,s=a.userSeekTime,r=a.playSpeed,i=a.playing,o=a.onVideoClick,l=a.segmentIndices,c=a.startTime,u=a.segment;return d.a.createElement("div",{className:"cabana-explorer-visuals-camera"},t?this.loadingOverlay():null,this.state.source&&d.a.createElement(O,{className:Object(w.css)(x.hls),source:this.state.source,startTime:(c||0)-this.props.videoOffset,videoLength:this.videoLength(),playbackSpeed:r,onVideoElementAvailable:this.onVideoElementAvailable,playing:i,onClick:o,onLoadStart:this.onLoadStart,onLoadEnd:this.onLoadEnd,onUserSeek:this.onUserSeek,onPlaySeek:this.onPlaySeek}),d.a.createElement(X,{className:Object(w.css)(x.seekBar),nearestFrameTime:s,segmentProgress:this.segmentProgress,startTime:this.startTime()-this.props.videoOffset,videoLength:this.videoLength(),segmentIndices:l,onUserSeek:this.onUserSeek,onPlaySeek:this.onPlaySeek,videoElement:n,onPlay:this.props.onPlay,onPause:this.props.onPause,playing:this.props.playing,ratioTime:this.ratioTime,segment:u}))}}]),RouteVideoSync}(c.Component),P=n(10),L=n(254),I=n.n(L),N=function(e){Object(o.a)(CanLog,e);var t=Object(l.a)(CanLog);function CanLog(e){var n;return Object(s.a)(this,CanLog),(n=t.call(this,e)).state={length:0,expandedMessages:[],messageHeights:[],allPacketsExpanded:!1},n.renderLogListItemMessage=n.renderLogListItemMessage.bind(Object(i.a)(n)),n.addDisplayedMessages=n.addDisplayedMessages.bind(Object(i.a)(n)),n.renderLogListItem=n.renderLogListItem.bind(Object(i.a)(n)),n.renderLogList=n.renderLogList.bind(Object(i.a)(n)),n.onExpandAllChanged=n.onExpandAllChanged.bind(Object(i.a)(n)),n.toggleExpandAllPackets=n.toggleExpandAllPackets.bind(Object(i.a)(n)),n.toggleSignalPlot=n.toggleSignalPlot.bind(Object(i.a)(n)),n}return Object(r.a)(CanLog,[{key:"componentDidUpdate",value:function componentDidUpdate(e){!e.message&&this.props.message&&this.addDisplayedMessages()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){var n=this.props.message?this.props.message.entries.length:0,a=e.message?e.message.entries.length:0;return this.props.message!==e.message||a!==n||e.messageIndex!==this.props.messageIndex||e.plottedSignals.length!==this.props.plottedSignals.length||JSON.stringify(e.segmentIndices)!==JSON.stringify(this.props.segmentIndices)||JSON.stringify(t)!==JSON.stringify(this.state)||this.props.message!==e.message||void 0!==this.props.message&&void 0!==e.message&&void 0!==this.props.message.frame&&void 0!==e.message.frame&&JSON.stringify(this.props.message.frame)!==JSON.stringify(e.message.frame)}},{key:"addDisplayedMessages",value:function addDisplayedMessages(){var e=this.state.length+CanLog.ITEMS_PER_PAGE;this.setState({length:e})}},{key:"expandMessage",value:function expandMessage(e,t){this.setState({expandedMessages:this.state.expandedMessages.concat([e.time])}),this.props.onMessageExpanded()}},{key:"collapseMessage",value:function collapseMessage(e,t){this.setState({expandedMessages:this.state.expandedMessages.filter((function(t){return t!==e.time}))})}},{key:"isSignalPlotted",value:function isSignalPlotted(e,t){return void 0!==this.props.plottedSignals.find((function(n){return n.some((function(n){return n.messageId===e&&n.signalUid===t}))}))}},{key:"signalValuePretty",value:function signalValuePretty(e,t){return e.isFloat?t.toFixed(3):"bigint"===typeof t?t.toString():t}},{key:"isMessageExpanded",value:function isMessageExpanded(e){return-1!==this.state.expandedMessages.indexOf(e.time)}},{key:"toggleSignalPlot",value:function toggleSignalPlot(e,t,n){n?this.props.onSignalUnplotPressed(e,t):this.props.onSignalPlotPressed(e,t)}},{key:"toggleExpandPacketSignals",value:function toggleExpandPacketSignals(e){if(this.props.message.frame){var t=this.state.allPacketsExpanded||this.isMessageExpanded(e),n=Object.keys(this.props.message.frame.signals).length>0;t&&n?this.setState({expandedMessages:this.state.expandedMessages.filter((function(t){return t!==e.time}))}):n&&(this.setState({expandedMessages:this.state.expandedMessages.concat([e.time])}),this.props.onMessageExpanded())}}},{key:"renderLogListItemSignals",value:function renderLogListItemSignals(e){var t=this,n=this.props.message;return d.a.createElement("div",{className:"signals-log-list-signals"},Object.entries(e.signals).map((function(e){var a=Object(P.a)(e,2),s=a[0],r=a[1],i=n.frame.signals[s];if(void 0===i)return null;var o=i.unit.length>0?i.unit:"units",l=t.isSignalPlotted(n.id,i.uid),c=l?null:"button--alpha",u=l?"Hide Plot":"Show Plot";return d.a.createElement("div",{key:s,className:"signals-log-list-signal"},d.a.createElement("div",{className:"signals-log-list-signal-message"},d.a.createElement("span",null,s)),d.a.createElement("div",{className:"signals-log-list-signal-value"},d.a.createElement("span",null,"(",d.a.createElement("strong",null,t.signalValuePretty(i,r))," ",o,")")),d.a.createElement("div",{className:"signals-log-list-signal-action",onClick:function onClick(){t.toggleSignalPlot(n.id,i.uid,l)}},d.a.createElement("button",{className:m()("button--tiny",c)},d.a.createElement("span",null,u))))})))}},{key:"renderLogListItemMessage",value:function renderLogListItemMessage(e,t){for(var n=this,a=this.props.message,s=this.state.allPacketsExpanded||this.isMessageExpanded(e),r=Object.keys(e.signals).length>0?"has-signals":null,i=s?"is-expanded":null,o=[],l=0;l<e.data.length;l+=8)o.push(e.hexData.substring(2*l,2*Math.min(l+8,e.data.length)));return d.a.createElement("div",{key:t,className:m()("signals-log-list-item",r,i)},d.a.createElement("div",{className:"signals-log-list-item-header",onClick:function onClick(){n.toggleExpandPacketSignals(e)}},d.a.createElement("div",{className:"signals-log-list-message"},d.a.createElement("strong",null,(a.frame?a.frame.name:null)||a.id)),d.a.createElement("div",{className:"signals-log-list-time"},d.a.createElement("span",null,"[",e.relTime.toFixed(3),"]")),d.a.createElement("div",{className:"signals-log-list-bytes"},o.map((function(e,t){return d.a.createElement("span",{key:t,className:"t-mono"},e)})))),d.a.createElement("div",{className:"signals-log-list-item-body"},s?this.renderLogListItemSignals(e):null))}},{key:"renderLogListItem",value:function renderLogListItem(e,t){var n=this.props.messageIndex;return 0===n&&2===this.props.segmentIndices.length&&(n=this.props.segmentIndices[0]),n+e<this.props.message.entries.length?this.renderLogListItemMessage(this.props.message.entries[n+e],t):null}},{key:"renderLogList",value:function renderLogList(e,t){return d.a.createElement("div",{className:"signals-log-list"},d.a.createElement("div",{className:"signals-log-list-header"},d.a.createElement("div",{className:"signals-log-list-message"},"Message"),d.a.createElement("div",{className:"signals-log-list-time"},"Time"),d.a.createElement("div",{className:"signals-log-list-bytes"},"Bytes")),d.a.createElement("div",{className:"signals-log-list-items",ref:t},e))}},{key:"listLength",value:function listLength(){var e=this.props,t=e.segmentIndices,n=e.messageIndex;return n>0?this.props.message.entries.length-n:2===t.length?t[1]-t[0]:this.props.message?this.props.message.entries.length:0}},{key:"onExpandAllChanged",value:function onExpandAllChanged(e){this.setState({allPacketsExpanded:e.target.checked})}},{key:"toggleExpandAllPackets",value:function toggleExpandAllPackets(){this.setState({allPacketsExpanded:!this.state.allPacketsExpanded})}},{key:"render",value:function render(){var e=this.state.allPacketsExpanded?"Collapse All":"Expand All",t=this.state.allPacketsExpanded?null:"button--alpha";return d.a.createElement("div",{className:"cabana-explorer-signals-log"},d.a.createElement("div",{className:"cabana-explorer-signals-log-header"},d.a.createElement("strong",null,"Message Packets"),d.a.createElement("button",{className:m()("button--tiny",t),onClick:this.toggleExpandAllPackets},e)),d.a.createElement("div",{className:"cabana-explorer-signals-log-body"},d.a.createElement(I.a,{itemRenderer:this.renderLogListItem,itemsRenderer:this.renderLogList,length:this.listLength(),pageSize:50,updateWhenThisValueChanges:this.props.messageIndex,type:"variable"})))}}]),CanLog}(c.Component);function findTimeIndex(e,t){return e.findIndex((function(e){return e.time>=t}))}function findRelativeTimeIndex(e,t){return e.findIndex((function(e){return e.relTime>=t}))}N.ITEMS_PER_PAGE=50;var j={findTimeIndex:findTimeIndex,findRelativeTimeIndex:findRelativeTimeIndex,findSegmentIndices:function findSegmentIndices(e,t,n){var a=Object(P.a)(t,2),s=a[0],r=a[1],i=!0===n?findRelativeTimeIndex:findTimeIndex,o=Math.max(0,i(e,s)),l=i(e.slice(o),r),c=l>=0?l+o+1:e.length-1;return[o,Math.max(0,Math.min(c,e.length-1))]}},G=function(e){Object(o.a)(PlaySpeedSelector,e);var t=Object(l.a)(PlaySpeedSelector);function PlaySpeedSelector(e){var n;return Object(s.a)(this,PlaySpeedSelector),(n=t.call(this,e)).onChange=n.onChange.bind(Object(i.a)(n)),n}return Object(r.a)(PlaySpeedSelector,[{key:"onChange",value:function onChange(e){this.props.onPlaySpeedChanged&&this.props.onPlaySpeedChanged(Number(e.currentTarget.value))}},{key:"render",value:function render(){return d.a.createElement("div",{style:{display:"inline-block",float:"right",margin:10}},d.a.createElement("label",null,"Play speed:\xa0"),d.a.createElement("select",{id:"playSpeed",style:{width:70},onChange:this.onChange,value:this.props.playSpeed},d.a.createElement("option",{value:"0.1"},"0.1x"),d.a.createElement("option",{value:"0.5"},"0.5x"),d.a.createElement("option",{value:"1"},"1x"),d.a.createElement("option",{value:"2"},"2x")))}}]),PlaySpeedSelector}(c.Component);function clipSegment(e,t,n){var a=e,s=t;if(2===a.length){var r=n.entries.findIndex((function(e){return e.relTime>=a[0]})),i=n.entries.findIndex((function(e){return e.relTime>=a[1]}));if(-1!==r){-1===i&&(i=n.entries.length-1);var o=n.entries[r].relTime,l=n.entries[i].relTime;a=[o,l],s=[r,i]}else a=[],s=[]}return{segment:a,segmentIndices:s}}var R=function(e){Object(o.a)(Explorer,e);var t=Object(l.a)(Explorer);function Explorer(e){var n;return Object(s.a)(this,Explorer),(n=t.call(this,e)).updateSegment=Object(y.a)((function(e,t){var a=t,s=n.props,r=s.messages,i=s.selectedMessage,o=s.currentParts,l=r[i].entries,c=j.findSegmentIndices(l,a,!0);a[0]===60*o[0]&&a[1]===60*(o[1]+1)&&(a=[],c=[]);var d=n.state.userSeekTime;a.length?(d=Math.max(a[0],d),d=Math.min(a[1],d)):(d=Math.max(60*o[0],d),d=Math.min(60*o[1],d)),n.setState({segment:a,segmentIndices:c,userSeekIndex:c[0],userSeekTime:d})}),250),n.state={plottedSignals:[],segment:e.startSegments||[],segmentIndices:[],shouldShowAddSignal:!0,userSeekIndex:0,userSeekTime:0,playing:e.autoplay,playSpeed:1},n.onSignalPlotPressed=n.onSignalPlotPressed.bind(Object(i.a)(n)),n.onSignalUnplotPressed=n.onSignalUnplotPressed.bind(Object(i.a)(n)),n.onSegmentChanged=n.onSegmentChanged.bind(Object(i.a)(n)),n.showAddSignal=n.showAddSignal.bind(Object(i.a)(n)),n.onGraphTimeClick=n.onGraphTimeClick.bind(Object(i.a)(n)),n.onUserSeek=n.onUserSeek.bind(Object(i.a)(n)),n.onPlaySeek=n.onPlaySeek.bind(Object(i.a)(n)),n.onPlay=n.onPlay.bind(Object(i.a)(n)),n.onPause=n.onPause.bind(Object(i.a)(n)),n.onVideoClick=n.onVideoClick.bind(Object(i.a)(n)),n.onSignalPlotChange=n.onSignalPlotChange.bind(Object(i.a)(n)),n.onKeyDown=n.onKeyDown.bind(Object(i.a)(n)),n.mergePlots=n.mergePlots.bind(Object(i.a)(n)),n.toggleShouldShowAddSignal=n.toggleShouldShowAddSignal.bind(Object(i.a)(n)),n.changePlaySpeed=n.changePlaySpeed.bind(Object(i.a)(n)),n}return Object(r.a)(Explorer,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function onKeyDown(e){27===e.keyCode&&this.resetSegment()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this,n=e.messages[e.selectedMessage],a=this.props.messages[this.props.selectedMessage];0===Object.keys(e.messages).length&&0!==Object.keys(this.props.messages).length&&this.resetSegment(),a&&a.frame&&n!==a&&0===Object.keys(a.frame.signals).length&&this.setState({shouldShowAddSignal:!0});var s=this.state.plottedSignals.map((function(e){return e.filter((function(e){var n=e.messageId,a=e.signalUid,s=Boolean(t.props.messages[n]),r=!0;return s&&(r=Object.values(t.props.messages[n].frame.signals).some((function(e){return e.uid===a}))),s&&r}))})).filter((function(e){return e.length>0}));if(this.state.plottedSignals.length!==s.length&&this.setState({plottedSignals:s}),this.props.selectedMessage&&e.selectedMessage!==this.props.selectedMessage){var r=clipSegment(this.state.segment,this.state.segmentIndices,a),i=r.segment,o=r.segmentIndices;this.setState({segment:i,segmentIndices:o,userSeekIndex:this.props.seekIndex})}if(n&&a&&n.entries.length!==a.entries.length){var l=clipSegment(this.state.segment,this.state.segmentIndices,a),c=l.segment,d=l.segmentIndices;this.setState({segment:c,segmentIndices:d})}}},{key:"changePlaySpeed",value:function changePlaySpeed(e){this.setState({playSpeed:e})}},{key:"timeWindow",value:function timeWindow(){var e=this.props,t=e.routeStartTime,n=e.currentParts;if(t){var a=60*n[0],s=60*(n[1]+1),r=t.clone().add(a,"s").format("HH:mm:ss"),i=t.clone().add(s,"s").format("HH:mm:ss");return"".concat(r," - ").concat(i)}return""}},{key:"onSignalPlotPressed",value:function onSignalPlotPressed(e,t){var n=this.state.plottedSignals;n=[[{messageId:e,signalUid:t}]].concat(Object(a.a)(n)),this.setState({plottedSignals:n})}},{key:"onSignalUnplotPressed",value:function onSignalUnplotPressed(e,t){var n=this.state.plottedSignals.map((function(n){return n.filter((function(n){return!(n.messageId===e&&n.signalUid===t)}))})).filter((function(e){return e.length>0}));this.setState({plottedSignals:n})}},{key:"onSegmentChanged",value:function onSegmentChanged(e,t){Array.isArray(t)&&this.updateSegment(e,t)}},{key:"resetSegment",value:function resetSegment(){var e=this.state,t=e.segment,n=e.segmentIndices;(t.length>0||n.length>0)&&this.setState({segment:[],segmentIndices:[],userSeekIndex:0})}},{key:"showAddSignal",value:function showAddSignal(){this.setState({shouldShowAddSignal:!0})}},{key:"toggleShouldShowAddSignal",value:function toggleShouldShowAddSignal(){this.setState({shouldShowAddSignal:!this.state.shouldShowAddSignal})}},{key:"indexFromSeekTime",value:function indexFromSeekTime(e){var t=this.props.messages[this.props.selectedMessage].entries;if(0===t.length)return null;var n=this.state.segmentIndices;if(2===n.length&&n[0]>=0){for(var a=n[0],s=Math.min(t.length-1,n[1]);a<=s;a++)if(t[a].relTime>=e)return a;return n[1]}for(var r=0;r<t.length;r++)if(t[r].relTime>=e)return r;return t.length-1}},{key:"onUserSeek",value:function onUserSeek(e){this.props.onUserSeek(e),this.setState({userSeekTime:e})}},{key:"onPlaySeek",value:function onPlaySeek(e){var t=this.props.messages[this.props.selectedMessage];if(t&&0!==t.entries.length){var n=this.indexFromSeekTime(e),a=e;this.props.onSeek(n,a)}else this.props.onSeek(0,e)}},{key:"onGraphTimeClick",value:function onGraphTimeClick(e,t){this.onUserSeek(t)}},{key:"onPlay",value:function onPlay(){this.setState({playing:!0})}},{key:"onPause",value:function onPause(){this.setState({playing:!1})}},{key:"secondsLoadedRouteRelative",value:function secondsLoadedRouteRelative(e){return 60*(e[1]-e[0]+1)}},{key:"secondsLoaded",value:function secondsLoaded(){return 60*this.props.partsCount}},{key:"onVideoClick",value:function onVideoClick(){var e=!this.state.playing;this.setState({playing:e})}},{key:"seekTime",value:function seekTime(){var e=this.state.userSeekIndex;return this.props.messages[this.props.selectedMessage].entries[e].time}},{key:"onSignalPlotChange",value:function onSignalPlotChange(e,t,n){e?this.onSignalPlotPressed(t,n):this.onSignalUnplotPressed(t,n)}},{key:"renderSelectMessagePrompt",value:function renderSelectMessagePrompt(){return d.a.createElement("div",{className:"cabana-explorer-select-prompt"},d.a.createElement("h1",null,"Select a message"))}},{key:"selectedMessagePlottedSignalUids",value:function selectedMessagePlottedSignalUids(){var e=this;return this.state.plottedSignals.map((function(t){return t.filter((function(t){var n=t.messageId;t.signalUid;return n===e.props.selectedMessage})).map((function(e){return e.signalUid}))})).reduce((function(e,t){return e.concat(t)}),[])}},{key:"renderExplorerSignals",value:function renderExplorerSignals(){var e=this,t=this.props.selectedMessage,n=this.props.messages[t],a=void 0!==n.frame?n.frame.name:"undefined";return d.a.createElement("div",{className:"cabana-explorer-signals-wrapper"},d.a.createElement("div",{className:"cabana-explorer-signals-header"},d.a.createElement("div",{className:"cabana-explorer-signals-header-context"},d.a.createElement("h5",{className:"t-capline"},"Selected Message:"),d.a.createElement("h3",null,a)),d.a.createElement("div",{className:"cabana-explorer-signals-header-action"},d.a.createElement("button",{className:"button--small",onClick:function onClick(){return e.props.showEditMessageModal(t)}},"Edit"))),d.a.createElement("div",{className:"cabana-explorer-signals-subheader",onClick:this.toggleShouldShowAddSignal},d.a.createElement("strong",null,"Edit Signals")),d.a.createElement("div",{className:"cabana-explorer-signals-window"},this.state.shouldShowAddSignal?d.a.createElement(g.a,{onConfirmedSignalChange:this.props.onConfirmedSignalChange,message:this.props.messages[this.props.selectedMessage],onClose:function onClose(){e.setState({shouldShowAddSignal:!1})},messageIndex:this.props.seekIndex,onSignalPlotChange:this.onSignalPlotChange,plottedSignalUids:this.selectedMessagePlottedSignalUids(),selectedMessageKey:t}):null,d.a.createElement(N,{message:this.props.messages[this.props.selectedMessage],messageIndex:this.props.seekIndex,segmentIndices:this.state.segmentIndices,plottedSignals:this.state.plottedSignals,onSignalPlotPressed:this.onSignalPlotPressed,onSignalUnplotPressed:this.onSignalUnplotPressed,showAddSignal:this.showAddSignal,onMessageExpanded:this.onPause})))}},{key:"mergePlots",value:function mergePlots(e){var t=e.fromPlot,n=e.toPlot,a=this.state.plottedSignals,s=a.findIndex((function(e){return e.some((function(e){return e.signalUid===t.signalUid&&e.messageId===t.messageId}))}));a.splice(s,1);var r=a.findIndex((function(e){return e.some((function(e){return e.signalUid===n.signalUid&&e.messageId===n.messageId}))}));a[r]=[t,n],this.setState({plottedSignals:a})}},{key:"render",value:function render(){var e=this,t=this.state.shouldShowAddSignal?"is-expanded":null,n=this.props,a=n.thumbnails,s=n.messages,r=n.startTime,i=this.state.segment;return!i.length&&this.props.currentParts&&(i=[60*this.props.currentParts[0],60*(this.props.currentParts[1]+1)]),d.a.createElement("div",{className:"cabana-explorer"},d.a.createElement("div",{className:m()("cabana-explorer-signals",t)},s[this.props.selectedMessage]?this.renderExplorerSignals():this.renderSelectMessagePrompt()),d.a.createElement("div",{className:"cabana-explorer-visuals"},!1===this.props.live?d.a.createElement("div",null,d.a.createElement("div",{className:"cabana-explorer-visuals-header g-row"},d.a.createElement(G,{playSpeed:this.state.playSpeed,onPlaySpeedChanged:this.changePlaySpeed})),d.a.createElement(B,{message:s[this.props.selectedMessage],segment:this.state.segment,maxqcamera:this.props.maxqcamera,startTime:r,seekIndex:this.props.seekIndex,userSeekIndex:this.state.userSeekIndex,playing:this.state.playing,url:this.props.url,firstCanTime:this.props.firstCanTime,videoOffset:this.props.videoOffset,onVideoClick:this.onVideoClick,onPlaySeek:this.onPlaySeek,onUserSeek:this.onUserSeek,onPlay:this.onPlay,onPause:this.onPause,userSeekTime:this.state.userSeekTime,playSpeed:this.state.playSpeed,thumbnails:a})):null,this.state.segment.length>0?d.a.createElement("div",{className:"cabana-explorer-visuals-segmentreset",onClick:function onClick(){e.resetSegment()}},d.a.createElement("p",null,"Reset Segment")):null,d.a.createElement(k,{plottedSignals:this.state.plottedSignals,messages:s,onGraphTimeClick:this.onGraphTimeClick,seekTime:this.props.seekTime,onSegmentChanged:this.onSegmentChanged,onSignalUnplotPressed:this.onSignalUnplotPressed,segment:i,mergePlots:this.mergePlots,live:this.props.live})))}}]),Explorer}(c.Component)},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(10),s=n(5),r=n(3),i=n(4),o=n(8),l=n(9),c=n(1),d=n.n(c),u=n(18),m=n.n(u),g=(n(74),n(17)),h=function unsignedTransformation(e){return function(t,n){return""!==t&&(t=Number(t)||0)<0&&(t=0),n[e]=t,n}},p=[{field:"name",title:"Name",type:"string"},{field:"size",title:"Size",type:"number",transform:h("size")},{field:"startBit",title:function title(e){return e.isLittleEndian?"Least significant bit":"Most significant bit"},type:"number",transform:h("startBit")},{field:"isLittleEndian",title:"Endianness",type:"option",options:{options:["Little","Big"],optionValues:{Little:!0,Big:!1}},transform:function transform(e,t){if(t.isLittleEndian!==e){var n=t.startBit;if(e){var a=Math.floor(t.startBit/8),s=Math.floor((t.startBit-t.size+1)/8);t.startBit=a===s?t.startBit-t.size+1:g.a.matrixBitNumber(n)}else{var r=Math.floor(t.startBit/8),i=Math.floor((t.startBit+t.size-1)/8);t.startBit=r===i?t.startBit+t.size-1:g.a.bigEndianBitIndex(n)}t.isLittleEndian=e}return t}},{field:"isSigned",title:"Sign",type:"option",options:{options:["Signed","Unsigned"],optionValues:{Signed:!0,Unsigned:!1}}},{field:"factor",title:"Factor",type:"number"},{field:"offset",title:"Offset",type:"number"},{field:"unit",title:"Unit",type:"string"},{field:"comment",title:"Comment",type:"string"},{field:"min",title:"Minimum value",type:"number"},{field:"max",title:"Maximum value",type:"number"},{field:"valueDescriptions",title:"Value descriptions",type:"map"}],b=function(e){Object(o.a)(Field,e);var t=Object(l.a)(Field);function Field(){return Object(r.a)(this,Field),t.apply(this,arguments)}return Object(i.a)(Field,[{key:"render",value:function render(){var e=this.props,t=e.title,n=e.htmlFor,a=e.children,s=!1===e.valid?" form-field-error":"";return d.a.createElement("div",{className:"form-field form-field--small".concat(s)},d.a.createElement("label",{htmlFor:n},t),a)}}]),Field}(c.Component);n(6);var f=n(7),v={number:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,r=e.signalEdited,i=e.updateField,o=e.valid,l=n.field,c=n.title,u="".concat(a.name,"_").concat(l);if(s){var m=r;if(""!==m){var g=Number(m);m=isNaN(g)?"":g}t=d.a.createElement("input",{id:u,type:"number",value:m,onChange:function onChange(e){i(n,e.target.value)}})}else{var h=a[l];t=d.a.createElement("span",null,h)}return d.a.createElement(b,{title:"function"===typeof c?c(a):c,htmlFor:u,valid:o},t)},option:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,r=e.signalEdited,i=e.updateField,o=e.valid,l=n.field,c=n.title,u="".concat(a.name,"_").concat(l),m=n.options,g=m.options,h=m.optionValues,p=function swapKeysAndValues(e,t){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})}(h);if(s){var f=g.map((function(e){return d.a.createElement("option",{key:e,value:h[e]},e)}));t=d.a.createElement("select",{id:u,defaultValue:r,onChange:function onChange(e){i(n,"true"===e.target.value)}},f)}else t=d.a.createElement("span",null,p[a[l]]);return d.a.createElement(b,{title:"function"===typeof c?c(a):c,htmlFor:u,valid:o},t)},string:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,r=e.signalEdited,i=e.updateField,o=e.valid,l=n.field,c=n.title,u="".concat(a.name,"_").concat(l);return t=s?d.a.createElement("input",{id:u,type:"text",value:r||"",onChange:function onChange(e){i(n,e.target.value)}}):d.a.createElement("span",null,a[l]),d.a.createElement(b,{title:"function"===typeof c?c(a):c,htmlFor:u,valid:o},t)},map:function(e){Object(o.a)(MapField,e);var t=Object(l.a)(MapField);function MapField(e){var n;return Object(r.a)(this,MapField),(n=t.call(this,e)).state={valid:!0,mapString:""},n.onChange=n.onChange.bind(Object(f.a)(n)),n}return Object(i.a)(MapField,[{key:"componentDidMount",value:function componentDidMount(){this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function componentDidUpdate(e){if(e.isExpanded!==this.props.isExpanded){var t=Array.from(this.props.signalEdited.entries()).reduce((function(e,t){var n=Object(a.a)(t,2),s=n[0],r=n[1];return"".concat(e+s,' "').concat(r,'" ')}),"").trim();this.setState({mapString:t})}}},{key:"onChange",value:function onChange(e){var t=e.target.value;if(this.setState({mapString:t}),(t.split('"').length-1)%2===0){var n=Array.from(t.matchAll(/[^\s"]+|"([^"]*)"/g));if(n.length%2===0){n=n.map((function(e){var t=Object(a.a)(e,2),n=t[0];return t[1]||n}));for(var s=new Map,r=0;r<n.length;r+=2)s.set(n[r],n[r+1]);this.setState({valid:!0}),this.props.updateField(this.props.fieldSpec,s)}else this.setState({valid:!1})}else this.setState({valid:!1})}},{key:"render",value:function render(){var e,t=this.props,n=t.fieldSpec,a=t.signal,s=t.isExpanded,r="".concat(a.name,"_").concat(n.field);return e=s?d.a.createElement("input",{id:r,type:"text",value:this.state.mapString,onChange:this.onChange}):d.a.createElement("span",null,a[n.field]),d.a.createElement(b,{title:"function"===typeof n.title?n.title(a):n.title,htmlFor:r,valid:this.props.valid&&this.state.valid},e)}}]),MapField}(c.Component)},SignalForm=function(e){var t=e.signal,n=e.onSignalRemove,a=e.isExpanded,s=e.getSignalEdited,r=e.fieldError,i=e.update;return d.a.createElement("div",{className:"signals-legend-entry-form"},p.map((function(e){var n=v[e.type],o=r!==e.field;return d.a.createElement("div",{className:"signals-legend-entry-form-field",key:e.field},d.a.createElement(n,{fieldSpec:e,signal:t,isExpanded:a,signalEdited:s(e.field),updateField:i,valid:o}))})),d.a.createElement("div",{className:"signals-legend-entry-form-remove"},d.a.createElement("button",{className:"button--tiny button--alpha",onClick:function onClick(){return n(t)}},"Remove Signal")))},S=function(e){Object(o.a)(SignalLegendEntry,e);var t=Object(l.a)(SignalLegendEntry);function SignalLegendEntry(e){var n;return Object(r.a)(this,SignalLegendEntry),(n=t.call(this,e)).updateField=function(e,t){var s=n.state.signalEdited,r=n.props.signal;e.transform?s=e.transform(t,s):s[e.field]=t,n.setState({signalEdited:s});var i=Object.assign(Object.create(r),r);Object.entries(s).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];i[n]=s}));var o=n.props.onSignalChange(i);n.setState({fieldError:o?null:e.field})},n.toggleEditing=function(e){var t=n.state.signalEdited,s=n.props,r=s.signal,i=s.isExpanded,o=Object.assign(Object.create(r),r);i?(Object.entries(t).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1],r=SignalLegendEntry.fieldSpecForName(n);r&&"number"===r.type&&isNaN(parseInt(s,10))&&(s=0),o[n]=s})),n.props.onSignalChange(o)):t=o,n.setState({fieldError:null,signalEdited:t}),n.props.toggleExpandSignal(r),e.stopPropagation()},n.toggleSignalPlot=function(e){var t=n.props,a=t.signal,s=t.isPlotted;e.preventDefault(),n.props.onSignalPlotChange(!s,a.uid)},n.getSignalEdited=function(e){return n.state.signalEdited[e]},n.state={fieldError:null,signalEdited:Object.assign(Object.create(e.signal),e.signal)},n}return Object(i.a)(SignalLegendEntry,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.signal.equals(e.signal)||this.setState({fieldError:null,signalEdited:Object.assign(Object.create(this.props.signal),this.props.signal)})}},{key:"render",value:function render(){var e=this,t=this.props,n=t.signal,a=t.isHighlighted,s=t.color,r=t.isPlotted,i=t.isExpanded,o=i?"is-expanded":null,l=r?"button":"button--alpha",c={opacity:a?.5:.3,backgroundColor:s?"rgb(".concat(s.join(","),")"):null};return d.a.createElement("div",{className:m()("signals-legend-entry",o),onMouseEnter:function onMouseEnter(){return e.props.onSignalHover(n)},onMouseLeave:function onMouseLeave(){return e.props.onSignalHoverEnd(n)}},d.a.createElement("div",{className:"signals-legend-entry-colorbar",style:c}),d.a.createElement("div",{className:"signals-legend-entry-header"},d.a.createElement("div",{className:"signals-legend-entry-header-name",onClick:this.toggleEditing},d.a.createElement("strong",null,n.name)),d.a.createElement("div",{className:"signals-legend-entry-header-action",onClick:this.toggleSignalPlot},d.a.createElement("button",{className:m()("button--tiny",l)},r?"Hide Plot":"Show Plot"))),d.a.createElement("div",{className:"signals-legend-entry-body"},i&&d.a.createElement(SignalForm,{signal:n,onSignalRemove:this.props.onSignalRemove,isExpanded:i,getSignalEdited:this.getSignalEdited,fieldError:this.state.fieldError,update:this.updateField})))}}]),SignalLegendEntry}(c.Component);S.fieldSpecForName=function(e){return p.find((function(t){return t.field===e}))};var E=function(e){Object(o.a)(SignalLegend,e);var t=Object(l.a)(SignalLegend);function SignalLegend(){var e;Object(r.a)(this,SignalLegend);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={expandedSignals:[]},e.toggleExpandSignal=function(t){var n=e.state.expandedSignals;if(n.includes(t.uid)){var a=n.filter((function(e){return e!==t.uid}));e.setState({expandedSignals:a})}else{var r=[].concat(Object(s.a)(n),[t.uid]);e.setState({expandedSignals:r})}},e}return Object(i.a)(SignalLegend,[{key:"checkExpandedSignal",value:function checkExpandedSignal(e){return this.state.expandedSignals.includes(e)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.signals,s=t.highlightedSignal,r=t.selectedMessageKey,i=Object.entries(n).sort((function(e,t){var n=Object(a.a)(e,2),s=(n[0],n[1]),r=Object(a.a)(t,2),i=(r[0],r[1]);return s.startBit<i.startBit?-1:1})).map((function(t){var i=Object(a.a)(t,2),o=i[0],l=i[1],c=n[o].getColors(r),u=s===o;return d.a.createElement(S,{key:l.uid,signal:l,isHighlighted:u,color:c,onSignalHover:e.props.onSignalHover,onSignalHoverEnd:e.props.onSignalHoverEnd,onTentativeSignalChange:e.props.onTentativeSignalChange,onSignalChange:e.props.onSignalChange,onSignalRemove:e.props.onSignalRemove,onSignalPlotChange:e.props.onSignalPlotChange,toggleExpandSignal:e.toggleExpandSignal,isPlotted:-1!==e.props.plottedSignalUids.indexOf(l.uid),isExpanded:e.checkExpandedSignal(l.uid)})})).filter((function(e){return null!=e})).reduce((function(e,t){return e.concat(t)}),[]);return d.a.createElement("div",{className:"cabana-explorer-signals-legend"},i)}}]),SignalLegend}(c.Component)},271:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(3),s=n(4),r=n(7),i=n(8),o=n(9),l=n(1),c=n.n(l),d=n(18),u=n.n(d),m=n(36),g=(n(83),n(55)),h=function(e){Object(i.a)(GithubDbcList,e);var t=Object(o.a)(GithubDbcList);function GithubDbcList(e){var n;return Object(a.a)(this,GithubDbcList),(n=t.call(this,e)).state={paths:[],selectedPath:null,pathQuery:""},n.updatePathQuery=n.updatePathQuery.bind(Object(r.a)(n)),n}return Object(s.a)(GithubDbcList,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.props.openDbcClient.list(this.props.repo).then((function(t){t=t.filter((function(e){return-1!==e.indexOf(".dbc")})),e.setState({paths:t})}))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this;e.repo!==this.props.repo&&this.props.openDbcClient.list(this.props.repo).then((function(e){t.setState({paths:e,selectedPath:null})}))}},{key:"updatePathQuery",value:function updatePathQuery(e){this.setState({pathQuery:e.target.value})}},{key:"selectPath",value:function selectPath(e){var t=this;this.setState({selectedPath:e}),this.props.openDbcClient.getDbcContents(e,this.props.repo).then((function(n){t.props.onDbcLoaded(e,n)}))}},{key:"render",value:function render(){var e=this;return c.a.createElement("div",{className:"cabana-dbc-list"},c.a.createElement("div",{className:"cabana-dbc-list-header"},c.a.createElement("a",{href:"https://github.com/".concat(this.props.repo),target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fa fa-github"}),c.a.createElement("span",null,this.props.repo)),c.a.createElement("div",{className:"form-field form-field--small"},c.a.createElement("input",{type:"text",placeholder:"Search DBC Files",onChange:this.updatePathQuery}))),c.a.createElement("div",{className:"cabana-dbc-list-files"},this.state.paths.filter((function(t){return""===e.state.pathQuery|t.includes(e.state.pathQuery)})).map((function(t){return c.a.createElement("div",{className:u()("cabana-dbc-list-file",{"is-selected":e.state.selectedPath===t}),onClick:function onClick(){e.selectPath(t)},key:t},c.a.createElement("span",null,t))}))))}}]),GithubDbcList}(l.Component),p=function(e){Object(i.a)(DbcUpload,e);var t=Object(o.a)(DbcUpload);function DbcUpload(e){var n;return Object(a.a)(this,DbcUpload),(n=t.call(this,e)).state={dbcText:""},n.onTextChanged=n.onTextChanged.bind(Object(r.a)(n)),n}return Object(s.a)(DbcUpload,[{key:"onTextChanged",value:function onTextChanged(e){var t=e.target.value;this.setState({dbcText:t}),this.props.onDbcLoaded("from paste",t)}},{key:"render",value:function render(){return c.a.createElement("div",{className:"cabana-dbc-upload-raw"},c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"raw_dbc_upload"},c.a.createElement("span",null,"Raw DBC File:"),c.a.createElement("sup",null,"Paste your DBC text output within this box")),c.a.createElement("textarea",{value:this.state.dbcText,id:"raw_dbc_upload",className:"t-mono",placeholder:"PASTE DBC FILE HERE",onChange:this.onTextChanged})))}}]),DbcUpload}(l.Component),b=function(e){Object(i.a)(LoadDbcModal,e);var t=Object(o.a)(LoadDbcModal);function LoadDbcModal(e){var n;return Object(a.a)(this,LoadDbcModal),(n=t.call(this,e)).state={tab:"OpenDBC",tabs:["OpenDBC","GitHub","Upload"],dbc:null,dbcSource:null,userOpenDbcRepo:null},n.onDbcLoaded=n.onDbcLoaded.bind(Object(r.a)(n)),n.handleSave=n.handleSave.bind(Object(r.a)(n)),n.renderTabNavigation=n.renderTabNavigation.bind(Object(r.a)(n)),n.renderTabContent=n.renderTabContent.bind(Object(r.a)(n)),n.renderActions=n.renderActions.bind(Object(r.a)(n)),n}return Object(s.a)(LoadDbcModal,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.props.openDbcClient.getUserOpenDbcFork().then((function(t){e.setState({userOpenDbcRepo:t})}))}},{key:"onDbcLoaded",value:function onDbcLoaded(e,t){var n=new m.a(t);this.setState({dbcSource:e,dbc:n})}},{key:"handleSave",value:function handleSave(){var e=this.state,t=e.dbc,n=e.dbcSource;this.props.onDbcSelected(n,t)}},{key:"renderTabNavigation",value:function renderTabNavigation(){var e=this;return c.a.createElement("div",{className:"cabana-tabs-navigation"},this.state.tabs.map((function(t){return c.a.createElement("button",{className:u()({"is-active":e.state.tab===t}),onClick:function onClick(){e.setState({tab:t,dbc:null,dbcSource:null})},key:t},c.a.createElement("span",null,t))})))}},{key:"renderTabContent",value:function renderTabContent(){var e=this.state.tab;return"OpenDBC"===e?c.a.createElement(h,{onDbcLoaded:this.onDbcLoaded,repo:"commaai/opendbc",openDbcClient:this.props.openDbcClient}):"GitHub"===e?this.props.openDbcClient.hasAuth()?null===this.state.userOpenDbcRepo?c.a.createElement("div",null,"Fork it"):c.a.createElement(h,{onDbcLoaded:this.onDbcLoaded,repo:this.state.userOpenDbcRepo,openDbcClient:this.props.openDbcClient}):this.props.loginWithGithub:"Upload"===e?c.a.createElement(p,{onDbcLoaded:this.onDbcLoaded}):void 0}},{key:"renderActions",value:function renderActions(e){return c.a.createElement("div",null,c.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},c.a.createElement("span",null,"Cancel")),c.a.createElement("button",{className:"button--primary",disabled:e,onClick:this.handleSave},c.a.createElement("span",null,"Load DBC")))}},{key:"render",value:function render(){return c.a.createElement(g.a,{title:"Load DBC File",subtitle:"Modify an existing DBC file with Cabana",handleClose:this.props.handleClose,navigation:this.renderTabNavigation(),actions:this.renderActions(Boolean(null===this.state.dbc))},this.renderTabContent())}}]),LoadDbcModal}(l.Component)},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(10),s=n(3),r=n(4),i=n(7),o=n(8),l=n(9),c=n(1),d=n.n(c),u=n(18),m=n.n(u),g=n(245),h=n.n(g),p=n(17),b=function(e){Object(o.a)(MessageBytes,e);var t=Object(l.a)(MessageBytes);function MessageBytes(e){var n;return Object(s.a)(this,MessageBytes),(n=t.call(this,e)).state={isVisible:!0,lastMessageIndex:0,lastSeekTime:0},n.onVisibilityChange=n.onVisibilityChange.bind(Object(i.a)(n)),n.onCanvasRefAvailable=n.onCanvasRefAvailable.bind(Object(i.a)(n)),n.updateCanvas=n.updateCanvas.bind(Object(i.a)(n)),n.canvasInView=n.canvasInView.bind(Object(i.a)(n)),n}return Object(r.a)(MessageBytes,[{key:"componentDidMount",value:function componentDidMount(){this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t;e.message!==this.props.message&&(t=this.props.message.frame&&this.props.message.frame.size?Math.ceil(this.props.message.frame.size/8):Math.ceil(p.a.maxMessageSize(this.props.message,this.state.maxMessageBytes)/8),this.canvas&&(this.canvas.height=15*t));e.seekIndex===this.props.seekIndex&&Math.floor(60*e.seekTime)===Math.floor(60*this.props.seekTime)||this.updateCanvas()}},{key:"canvasInView",value:function canvasInView(){return!window.visualViewport||!this.canvas||this.canvas.getBoundingClientRect().y>=270&&window.visualViewport.height>=this.canvas.getBoundingClientRect().y}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){if(e.live&&e.message.entries.length){var n=e.message.entries[e.message.entries.length-1],a=this.props.message.entries[this.props.message.entries.length-1];return!n||!a||n.hexData!==a.hexData}return e.seekTime!==this.props.seekTime}},{key:"findMostRecentMessage",value:function findMostRecentMessage(e){var t=this.props.message,n=this.state,a=n.lastMessageIndex,s=n.lastSeekTime,r=null;if(e>=s)for(var i=a;i<t.entries.length;++i){var o=t.entries[i];if(o&&o.relTime>=e){r=i;break}}if(r||(r=t.entries.findIndex((function(t){return t.relTime>=e}))),r)return this.setState({lastMessageIndex:r,lastSeekTime:e}),t.entries[r]}},{key:"updateCanvas",value:function updateCanvas(){var e=this.props,t=e.message,n=e.live,a=e.seekTime;if(this.canvas&&0!==t.entries.length&&this.canvasInView()){var s=t.entries[t.entries.length-1];n||(s=this.findMostRecentMessage(a))||(s=t.entries[0]);for(var r=this.canvas.getContext("2d"),i=0;i<t.byteStateChangeCounts.length;++i){var o=s.hexData.substr(2*i,2),l=i%8*20,c=15*Math.floor(i/8);r.fillStyle=t.byteColors[i],r.fillRect(l,c,20,15),r.font="12px Courier",r.fillStyle="white",r.fillText(o||"-",l+2,c+12)}}}},{key:"onVisibilityChange",value:function onVisibilityChange(e){e!==this.state.isVisible&&this.setState({isVisible:e})}},{key:"onCanvasRefAvailable",value:function onCanvasRefAvailable(e){var t;e&&(this.canvas=e,this.canvas.width=160,t=this.props.message.frame&&this.props.message.frame.size?Math.ceil(this.props.message.frame.size/8):Math.ceil(p.a.maxMessageSize(this.props.message,this.state.maxMessageBytes)/8),this.canvas.height=15*t,new IntersectionObserver(this.updateCanvas).observe(this.canvas))}},{key:"render",value:function render(){return d.a.createElement("canvas",{ref:this.onCanvasRefAvailable,className:"cabana-meta-messages-list-item-bytes-canvas"})}}]),MessageBytes}(c.Component),f=n(401).ckmeans,v=function(e){Object(o.a)(Meta,e);var t=Object(l.a)(Meta);function Meta(e){var n;Object(s.a)(this,Meta),(n=t.call(this,e)).onFilterChanged=n.onFilterChanged.bind(Object(i.a)(n)),n.onFilterFocus=n.onFilterFocus.bind(Object(i.a)(n)),n.onFilterUnfocus=n.onFilterUnfocus.bind(Object(i.a)(n)),n.canMsgFilter=n.canMsgFilter.bind(Object(i.a)(n)),n.renderMessageBytes=n.renderMessageBytes.bind(Object(i.a)(n));var a=e.dbcLastSaved;return n.state={filterText:"Filter",lastSaved:null!==a?n.props.dbcLastSaved.fromNow():null,hoveredMessages:[],orderedMessageKeys:[]},n}return Object(r.a)(Meta,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.lastSavedTimer=setInterval((function(){null!==e.props.dbcLastSaved&&e.setState({lastSaved:e.props.dbcLastSaved.fromNow()})}),3e4)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.clearInterval(this.lastSavedTimer)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){if(e.lastSaved!==this.props.lastSaved&&this.setState({lastSaved:this.props.dbcLastSaved.fromNow()}),JSON.stringify(Object.keys(e.messages))!==JSON.stringify(Object.keys(this.props.messages))){var t=this.sortMessages(this.props.messages);this.setState({hoveredMessages:[],orderedMessageKeys:t})}else if(0===this.state.orderedMessageKeys.length||!this.props.live&&e.messages&&this.props.messages&&this.byteCountsDidUpdate(e.messages,this.props.messages)){var n=this.sortMessages(this.props.messages);n.length>0&&this.setState({orderedMessageKeys:n})}}},{key:"byteCountsDidUpdate",value:function byteCountsDidUpdate(e,t){return Object.entries(t).some((function(t){var n=Object(a.a)(t,2),s=n[0],r=n[1];return JSON.stringify(r.byteStateChangeCounts)!==JSON.stringify(e[s].byteStateChangeCounts)}))}},{key:"sortMessages",value:function sortMessages(e){if(0===Object.keys(e).length)return[];var t=Object.entries(e).reduce((function(e,t){var n=Object(a.a)(t,2),s=(n[0],n[1]),r=s.entries.length.toString();return e[r]?e[r].push(s):e[r]=[s],e}),{}),n=Object.keys(t).map((function(e){return parseInt(e,10)}));return f(n,Math.min(n.length,10)).map((function(e){return e.map((function(e){return t[e.toString()]})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return e.address<t.address?1:-1})).map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[]).reverse()}},{key:"onFilterChanged",value:function onFilterChanged(e){var t=e.target.value;"Filter"===t.trim()&&(t=""),this.setState({filterText:t})}},{key:"onFilterFocus",value:function onFilterFocus(e){"Filter"===this.state.filterText.trim()&&this.setState({filterText:""})}},{key:"onFilterUnfocus",value:function onFilterUnfocus(e){""===this.state.filterText.trim()&&this.setState({filterText:"Filter"})}},{key:"canMsgFilter",value:function canMsgFilter(e){var t=this.state.filterText,n=e.frame?e.frame.name:"";return"Filter"===t||""===t||-1!==e.id.toLowerCase().indexOf(t.toLowerCase())||-1!==n.toLowerCase().indexOf(t.toLowerCase())}},{key:"lastSavedPretty",value:function lastSavedPretty(){return this.props.dbcLastSaved.fromNow()}},{key:"onMessageHover",value:function onMessageHover(e){var t=this.state.hoveredMessages;-1===t.indexOf(e)&&(t.push(e),this.setState({hoveredMessages:t}))}},{key:"onMessageHoverEnd",value:function onMessageHoverEnd(e){var t=this.state.hoveredMessages;t=t.filter((function(t){return t!==e})),this.setState({hoveredMessages:t})}},{key:"onMsgRemoveClick",value:function onMsgRemoveClick(e){var t=this.state.selectedMessages;t=t.filter((function(t){return t!==e})),this.props.onMessageUnselected(e),this.setState({selectedMessages:t})}},{key:"onMessageSelected",value:function onMessageSelected(e){var t=[];t.push(e),this.props.updateSelectedMessages(t),this.props.onMessageSelected(e)}},{key:"orderedMessages",value:function orderedMessages(){var e=this.state.orderedMessageKeys,t=this.props.messages;return e.map((function(e){return t[e]}))}},{key:"selectedMessageClass",value:function selectedMessageClass(e){return this.props.selectedMessages.includes(e)?"is-selected":null}},{key:"renderMessageBytes",value:function renderMessageBytes(e){var t=this;return d.a.createElement("tr",{onClick:function onClick(){t.onMessageSelected(e.id)},key:e.id,className:m()("cabana-meta-messages-list-item",this.selectedMessageClass(e.id))},d.a.createElement("td",null,e.frame?e.frame.name:"untitled"),d.a.createElement("td",null,e.id),d.a.createElement("td",null,e.entries.length),d.a.createElement("td",null,d.a.createElement("div",{className:"cabana-meta-messages-list-item-bytes"},d.a.createElement(b,{key:e.id,message:e,seekIndex:this.props.seekIndex,seekTime:this.props.seekTime,live:this.props.live}))))}},{key:"renderCanMessages",value:function renderCanMessages(){return this.orderedMessages().filter(this.canMsgFilter).map(this.renderMessageBytes)}},{key:"renderAvailableMessagesList",value:function renderAvailableMessagesList(){return 0===Object.keys(this.props.messages).length?d.a.createElement("p",null,"Loading messages..."):d.a.createElement(d.a.Fragment,null,d.a.createElement("table",{cellPadding:"5"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Name"),d.a.createElement("td",null,"ID"),d.a.createElement("td",null,"Count"),d.a.createElement("td",null,"Bytes"))),d.a.createElement("tbody",null,this.renderCanMessages())))}},{key:"saveable",value:function saveable(){try{return"serviceWorker"in navigator&&new ReadableStream&&new WritableStream,"saveable"}catch(e){return!1}}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-meta"},d.a.createElement("div",{className:"cabana-meta-header"},d.a.createElement("h5",{className:"cabana-meta-header-label t-capline"},"Currently editing:"),d.a.createElement("strong",{className:"cabana-meta-header-filename"},this.props.dbcFilename),null!==this.props.dbcLastSaved?d.a.createElement("div",{className:"cabana-meta-header-last-saved"},d.a.createElement("p",null,"Last saved:",this.lastSavedPretty())):null,d.a.createElement("div",{className:"cabana-meta-header-actions ".concat(this.saveable())},d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.showLoadDbc},"Load DBC")),this.saveable()&&d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.saveLog},"Save Log")),this.props.shareUrl?d.a.createElement("div",{className:"cabana-meta-header-action special-wide","data-clipboard-text":this.props.shareUrl,"data-clipboard-action":"copy",ref:function ref(e){return e?new h.a(e):null}},d.a.createElement("a",{className:"button",href:this.props.shareUrl,onClick:function onClick(e){return e.preventDefault()}},"Copy Share Link")):null,d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.showSaveDbc},"Save DBC")))),d.a.createElement("div",{className:"cabana-meta-messages-header"},d.a.createElement("h5",{className:"t-capline"},"Available messages")),d.a.createElement("div",{className:"cabana-meta-messages-filter"},d.a.createElement("div",{className:"form-field form-field--small"},d.a.createElement("input",{type:"text",value:this.state.filterText,onFocus:this.onFilterFocus,onBlur:this.onFilterUnfocus,onChange:this.onFilterChanged}))),d.a.createElement("div",{className:"cabana-meta-messages-list"},this.renderAvailableMessagesList()))}}]),Meta}(c.Component)},277:function(e,t,n){e.exports=n(278)},278:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(238),i=n.n(r),o=n(239),l=n(263);n(546);Object(l.a)().then((function(e){i.a.render(s.a.createElement(o.a,e),document.getElementById("root"))}))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(10),s=n(2),r=n(3),i=n(4),o=n(243),l=n(74),c=function(){function Frame(e){var t=e.name,n=e.id,a=void 0===n?0:n,s=e.size,i=void 0===s?0:s,o=e.transmitters,l=void 0===o?[]:o,c=e.extended,d=void 0===c?0:c,u=e.comment,m=void 0===u?null:u,g=e.signals,h=void 0===g?{}:g;Object(r.a)(this,Frame),Object.assign(this,{name:t,id:a,size:i,transmitters:l,extended:d,comment:m,signals:h})}return Object(i.a)(Frame,[{key:"nextNewTransmitterName",value:function nextNewTransmitterName(){var e,t=1;do{e="NEW_TRANSMITTER_".concat(t),t++}while(-1!==this.transmitters.indexOf(e));return e}},{key:"addTransmitter",value:function addTransmitter(){var e=this.nextNewTransmitterName();return this.transmitters.push(e),e}},{key:"header",value:function header(){return"BO_ ".concat(this.id," ").concat(this.name,": ").concat(this.size," ")+"".concat(this.transmitters[0]||"XXX")}},{key:"text",value:function text(){var e=Object.values(this.signals).map((function(e){return" ".concat(e.text())})).join("\n");return e.length>0?"".concat(this.header(),"\n").concat(e):this.header()}},{key:"copy",value:function copy(){var copy=Object.assign(Object.create(this),this);return copy}}]),Frame}(),d=function(){function BoardUnit(e){Object(r.a)(this,BoardUnit),this.name=e,this.attributes={},this.comment=null}return Object(i.a)(BoardUnit,[{key:"text",value:function text(){return this.name}}]),BoardUnit}(),u=n(17),m=/^CM_ *"(.*)";/,g=/^CM_ *"(.*)/,h=/^BO_ (\w+) (\w+) *: (\w+) (\w+)/,p=/^SG_ (\w+) : (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,b=/^SG_ (\w+) (\w+) *: (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,f=/^VAL_ (\w+) (\w+) (.*);/,v=/^VAL_TABLE_ (\w+) (.*);/,S=/^BO_TX_BU_ ([0-9]+) *: *(.+);/,E=/^CM_ SG_ *(\w+) *(\w+) *"(.*)";/,y=/^CM_ SG_ *(\w+) *(\w+) *"(.*)/,_=/^CM_ BO_ *(\w+) *"(.*)";/,C=/^CM_ BO_ *(\w+) *"(.*)/,k=/^BU_:(.*)/,w=/^CM_ BU_ *(\w+) *"(.*)";/,D=/^CM_ BU_ *(\w+) *"(.*)/;function floatOrInt(e){return Number.isInteger(e)?parseInt(e,10):parseFloat(e)}var T=function(){function DBC(e){Object(r.a)(this,DBC),this.boardUnits=[],this.comments=[],this.messages=new Map,void 0!==e&&(this.dbcText=e,this.importDbcString(e))}return Object(i.a)(DBC,[{key:"getMessageFrame",value:function getMessageFrame(e){return this.messages.get(e)}},{key:"nextNewFrameName",value:function nextNewFrameName(){var e,t=[],n=Object(s.a)(this.messages.values());try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.name)}}catch(o){n.e(o)}finally{n.f()}var r,i=1;do{r="NEW_MSG_".concat(i),i++}while(-1!==t.indexOf(r));return r}},{key:"updateBoardUnits",value:function updateBoardUnits(){var e=this.boardUnits.map((function(e){return e.name})),t=Array.from(this.messages.entries()).map((function(e){var t=Object(a.a)(e,2),n=(t[0],t[1]);return Object.values(n.signals)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.receiver})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(t){return-1===e.indexOf(t)})).map((function(e){return new d(e)}));this.boardUnits=this.boardUnits.concat(t)}},{key:"text",value:function text(){this.updateBoardUnits();var e='VERSION ""\n\n\n';e+="NS_ :".concat(this._newSymbols()),e+="\n\nBS_:\n";var t=this.boardUnits.map((function(e){return e.text()})).join(" ");e+="\nBU_: ".concat(t,"\n\n\n");var n,r=[],i=Object(s.a)(this.messages.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o)}}catch(d){i.e(d)}finally{i.f()}e+="".concat(r.map((function(e){return e.text()})).join("\n\n"),"\n\n");var l=r.map((function(e){return[e.id,e.transmitters.slice(1)]})).filter((function(e){var t=Object(a.a)(e,2);t[0];return t[1].length>0}));e+="".concat(l.map((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];return"BO_TX_BU_ ".concat(n," : ").concat(s.join(","),";")})).join("\n"),"\n\n\n"),e+=this.boardUnits.filter((function(e){return null!==e.comment})).map((function(e){return"CM_ BU_ ".concat(e.name,' "').concat(e.comment,'";')})).join("\n"),e+=r.filter((function(e){return null!==e.comment})).map((function(e){return"CM_ BO_ ".concat(e.address,' "').concat(e.comment,'";')})).join("\n");var c=r.map((function(e){return Object.values(e.signals).map((function(t){return[e.id,t]}))})).reduce((function(e,t){return e.concat(t)}),[]);return e+="".concat(c.filter((function(e){var t=Object(a.a)(e,2);t[0];return null!==t[1].comment})).map((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];return"CM_ SG_ ".concat(n," ").concat(s.name,' "').concat(s.comment,'";')})).join("\n"),"\n"),e+="".concat(c.filter((function(e){var t=Object(a.a)(e,2);t[0];return t[1].valueDescriptions.size>0})).map((function(e){var t=Object(a.a)(e,2),n=t[0];return t[1].valueDescriptionText(n)})).join("\n"),"\n"),e+=this.comments.map((function(e){return'CM_ "'.concat(e,'";')})).join("\n"),"".concat(e.trim(),"\n")}},{key:"getMessageName",value:function getMessageName(e){var t=this.getMessageFrame(e);return t&&t.frame?t.frame.name:null}},{key:"getSignals",value:function getSignals(e){var t=this.getMessageFrame(e);return t?t.signals:{}}},{key:"createFrame",value:function createFrame(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=new c({name:this.nextNewFrameName(),id:e,size:t});return this.messages.set(e,n),n}},{key:"setSignals",value:function setSignals(e,t,n){var a=this.getMessageFrame(e);if(a){var s=Object.assign(Object.create(a),a);s.signals=t,this.messages.set(e,s)}else{var r=this.createFrame(e,n);r.signals=t,this.messages.set(e,r),this.updateBoardUnits()}}},{key:"addSignal",value:function addSignal(e,t){var n=this.getMessageFrame(e);n&&(n.signals[t.name]=t,this.updateBoardUnits())}},{key:"importDbcString",value:function importDbcString(e){for(var t=[],n=new Map,s=[],r=new Map,i=0,u=null,T=e.split("\n"),M=0;M<T.length;M++){var O=T[M].trim();if(0!==O.length){if(null!=u){var A=u,X=A.type,x=A.data;O=O.replace(/" *;/,"");var B="\n".concat(O.substr(0,O.length));if(-1!==O.indexOf('"')&&(u=null,B=B.substr(0,B.length-1)),"FollowUpSignalComment"===X)x.comment+=B;else if("FollowUpMsgComment"===X){x.comment+=B}else if("FollowUpBoardUnitComment"===X){x.comment+=B}else if("FollowUpDbcComment"===X){var P=this.comments[this.comments.length-1];this.comments[this.comments.length-1]=P+B}}if(0===O.indexOf("BO_ ")){var L=O.match(h);if(null===L){t.push("failed to parse message definition on line ".concat(M+1," -- ").concat(O));continue}var I=L.slice(1),N=Object(a.a)(I,4),j=N[0],G=N[1],R=N[2],U=N[3];i=parseInt(j,0),R=parseInt(R,10);var z=new c({name:G,id:i,size:R,transmitters:[U]});n.set(i,z)}else if(0===O.indexOf("SG_")){var F=O.match(p);if(null===F){if(null===(F=O.match(b))){t.push("failed to parse signal definition on line ".concat(M+1," -- ").concat(O));continue}F=F[1]+F.slice(3)}else F=F.slice(1);var V=F,H=Object(a.a)(V,11),Z=H[0],W=H[1],Y=H[2],K=H[3],J=H[4],q=H[5],Q=H[6],$=H[7],ee=H[8],te=H[9],ne=H[10],ae={name:Z,startBit:W=parseInt(W,10),size:Y=parseInt(Y,10),isLittleEndian:K=1===parseInt(K,10),isSigned:J="-"===J,factor:q=floatOrInt(q),offset:Q=floatOrInt(Q),unit:te,min:$=floatOrInt($),max:ee=floatOrInt(ee),receiver:ne.split(",").map((function(e){return e.trim()}))},se=new l.a(ae);void 0!==n.get(i)?n.get(i).signals[Z]=se:o.a.warn("importDbcString: could not add signal: ".concat(Z," due to missing message: ").concat(i))}else if(0===O.indexOf("VAL_ ")){var re=O.match(f);if(null!==re){var ie=re.slice(1),oe=Object(a.a)(ie,3),le=oe[0],ce=oe[1],de=oe[2];de=de.split('"').map((function(e){return e.trim()})).filter((function(e){return e.length>0})),le=parseInt(le,10);var ue=n.get(le).signals[ce];if(void 0===ue){t.push("could not find signal for value description on line ".concat(M+1," -- ").concat(O));continue}for(var me=0;me<de.length;me+=2){var ge=de[me].trim(),he=de[me+1].trim();ue.valueDescriptions.set(ge,he)}}else t.push("failed to parse value description on line ".concat(M+1," -- ").concat(O))}else if(0===O.indexOf("VAL_TABLE_ ")){var pe=O.match(v);if(null!==pe){var be=new Map,fe=pe.slice(1),ve=Object(a.a)(fe,2),Se=ve[0],Ee=ve[1];Ee=Ee.split('"').map((function(e){return e.trim()})).filter((function(e){return e.length>0}));for(var ye=0;ye<Ee.length;ye+=2){var _e=Ee[ye],Ce=Ee[ye+1];be.set(_e,Ce)}r.set(Se,be)}else t.push("failed to parse value table on line ".concat(M+1," -- ").concat(O))}else if(0===O.indexOf("BO_TX_BU_ ")){var ke=O.match(S);if(null!==ke){var we=ke.slice(1),De=Object(a.a)(we,2),Te=De[0],Me=De[1];Te=parseInt(Te,10);var Oe=n.get(Te);Oe.transmitters.push(Me),n.set(Te,Oe)}else t.push("failed to parse message transmitter definition on line ".concat(M+1," -- ").concat(O))}else if(0===O.indexOf("CM_ SG_ ")){var Ae=O.match(E),Xe=!1;if(null===Ae&&(Ae=O.match(y),Xe=!0),null===Ae){t.push("failed to parse signal comment on line ".concat(M+1," -- ").concat(O));continue}var xe=Ae.slice(1),Be=Object(a.a)(xe,3),Pe=Be[0],Le=Be[1],Ie=Be[2];Pe=parseInt(Pe,10);var Ne=n.get(Pe);if(void 0===Ne){t.push("failed to parse signal comment on line ".concat(M+1," -- ").concat(O,":\n                                    message id ").concat(Pe," does not exist prior to this line"));continue}var je=Ne.signals[Le];if(void 0===je){t.push("failed to parse signal comment on line ".concat(M+1," -- ").concat(O));continue}je.comment=Ie,n.set(Pe,Ne),Xe&&(u={type:"FollowUpSignalComment",data:je})}else if(0===O.indexOf("CM_ BO_ ")){var Ge=O.match(_),Re=!1;if(null===Ge&&(Re=!0,null===(Ge=O.match(C)))){t.push("failed to message comment on line ".concat(M+1," -- ").concat(O));continue}var Ue=Ge.slice(1),ze=Object(a.a)(Ue,2),Fe=ze[0],Ve=ze[1];Fe=parseInt(Fe,10);var He=n.get(Fe);if(void 0===He){t.push("failed to find message to add comment to, msg id: ".concat(Fe));continue}He.comment=Ve,Re&&(u={type:"FollowUpMsgComment",data:He})}else if(0===O.indexOf("BU_: ")){var Ze=O.match(k);if(null===Ze){t.push("failed to parse board unit definition on line ".concat(M+1," -- ").concat(O));continue}var We=Ze.slice(1),Ye=Object(a.a)(We,1)[0].split(" ").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return new d(e)}));s=s.concat(Ye)}else if(0===O.indexOf("CM_ BU_ ")){if("continue"===function(){var e=O.match(w),n=!1;if(null===e&&(n=!0,null===(e=O.match(D))))return t.push("failed to parse board unit comment on line ".concat(M+1," -- ").concat(O)),"continue";var r=e.slice(1),i=Object(a.a)(r,2),o=i[0],l=i[1],c=s.find((function(e){return e.name===o}));c&&(c.comment=l),n&&(u={type:"FollowUpBoardUnitComment",data:c})}())continue}else if(0===O.indexOf("CM_ ")){var Ke=O.match(m),Je=!1;if(null===Ke){if(null===(Ke=O.match(g))){t.push("failed to parse dbc comment on line ".concat(M+1," -- ").concat(O));continue}Je=!0}var qe=Ke.slice(1),Qe=Object(a.a)(qe,1)[0];this.comments.push(Qe),Je&&(u={type:"FollowUpDbcComment",data:Qe})}}}t.length,this.messages=n,this.boardUnits=s,this.valueTables=r}},{key:"valueForIntSignal",value:function valueForIntSignal(e,t){var n,a;e.isLittleEndian?(n=e.startBit,a=e.startBit+e.size-1):(n=u.a.matrixBitNumber(u.a.bigEndianBitIndex(e.startBit)+e.size-1),a=e.startBit);for(var s=e.size>32?0n:0,r=Math.floor(a/8),i=e.size;r>=0&&r<t.byteLength&&i>0;){var o=Math.floor(n/8)===r?n:8*r,l=(Math.floor(a/8)===r?a:8*(r+1)-1)-o+1,c=t.getUint8(r)>>>o-8*r&(1<<l)-1;e.size>32?s|=BigInt(c)<<BigInt(i-l):s|=c<<i-l,i-=l,r=e.isLittleEndian?r-1:r+1}return e.size>32?(s=e.isSigned?BigInt.asIntN(64,s):s,Number.isInteger(e.factor)?s*BigInt(e.factor)+BigInt(e.offset):parseFloat(s)*e.factor+e.offset):(e.isSigned&&(s-=s>>e.size-1&1?1<<e.size:0),s*e.factor+e.offset)}},{key:"getSignalValues",value:function getSignalValues(e,t){var n=this;if(!this.messages.has(e))return{};var a=this.getMessageFrame(e),s=new DataView(t.buffer),r={};return Object.values(a.signals).forEach((function(e){isNaN(e.startBit)||(r[e.name]=n.valueForIntSignal(e,s))})),r}},{key:"getChffrMetricMappings",value:function getChffrMetricMappings(){var e=this.comments.find((function(e){return 0===e.indexOf("CHFFR_METRIC")}));return e?e.split(";").map((function(e){return e.trim().split(" ")})).reduce((function(e,t){var n=Object(a.a)(t,6),s=(n[0],n[1]),r=n[2],i=n[3],o=n[4],l=n[5];return e[i]={messageId:parseInt(s,10),signalName:r,factor:parseFloat(o),offset:parseFloat(l)},e}),{}):null}},{key:"_newSymbols",value:function _newSymbols(){return"\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_"}}]),DBC}()},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return fetchPersistedDbc})),n.d(t,"c",(function(){return persistDbc})),n.d(t,"b",(function(){return fetchPersistedGithubAuthToken})),n.d(t,"e",(function(){return unpersistGithubAuthToken})),n.d(t,"d",(function(){return persistGithubAuthToken}));var a=n(36);function fetchPersistedDbc(e){var t=window.localStorage.getItem(e);if(null!==t){var n=JSON.parse(t),s=n.dbcFilename,r=n.dbcText;return{dbc:new a.a(r),dbcText:r,dbcFilename:s}}return null}function persistDbc(e,t){var n=t.dbcFilename,a=t.dbc,s=JSON.stringify({dbcFilename:n,dbcText:a.text()});window.localStorage.setItem(e,s)}function fetchPersistedGithubAuthToken(){return window.localStorage.getItem("gh_auth_token")}function unpersistGithubAuthToken(){window.localStorage.removeItem("gh_auth_token")}function persistGithubAuthToken(e){return window.localStorage.setItem("gh_auth_token",e)}},41:function(e,t,n){"use strict";function debounce(e,t,n){var a;return function(){var s=this,r=arguments,i=function later(){a=null,n||e.apply(s,r)},o=n&&!a;clearTimeout(a),a=setTimeout(i,t),o&&e.apply(s,r)}}n.d(t,"a",(function(){return debounce}))},476:function(e,t,n){e.exports=n.p+"static/media/webusb-enable-experimental-features.e5a08e76.png"},477:function(e,t,n){e.exports=n.p+"static/media/webusb-enable-webusb.aceef6a0.png"},534:function(e,t){},537:function(e,t,n){e.exports=function(){return new Worker(n.p+"17b334ffb157b66ac8b0.worker.js")}},538:function(e,t,n){e.exports=function(){return new Worker(n.p+"196de6c561a258c25ef1.worker.js")}},539:function(e,t,n){e.exports=function(){return new Worker(n.p+"bac15dd8bacc4ea79549.worker.js")}},540:function(e,t,n){e.exports=function(){return new Worker(n.p+"5f5f22f87eea60fa8c3b.worker.js")}},546:function(e,t,n){},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(3),s=n(4),r=n(7),i=n(8),o=n(9),l=n(1),c=n.n(l),d=n(18),u=n.n(d),m=n(112),g=function(e){Object(i.a)(Modal,e);var t=Object(o.a)(Modal);function Modal(e){var n;return Object(a.a)(this,Modal),(n=t.call(this,e)).state={windowHeight:{},modalHeight:{}},n.updateHeights=n.updateHeights.bind(Object(r.a)(n)),n}return Object(s.a)(Modal,[{key:"updateHeights",value:function updateHeights(e){this.setState({windowHeight:window.innerHeight}),this.setState({modalHeight:e.bounds.height})}},{key:"readVariationClasses",value:function readVariationClasses(){if(this.props.variations)return this.props.variations.reduce((function(e,t){return"".concat(e,"cabana-modal--").concat(t," ")}),"")}},{key:"checkClosability",value:function checkClosability(){return this.props.disableClose||!1}},{key:"checkYScrollability",value:function checkYScrollability(){return this.state.modalHeight>this.state.windowHeight}},{key:"render",value:function render(){var e=this;return c.a.createElement("div",{className:u()("cabana-modal",this.readVariationClasses(),{"cabana-modal--not-closable":this.checkClosability(),"cabana-modal--scrollable-y":this.checkYScrollability()})},c.a.createElement(m.a,{bounds:!0,onResize:function onResize(t){e.updateHeights(t)}},(function(t){var n=t.measureRef;return c.a.createElement("div",{ref:n,className:"cabana-modal-container"},c.a.createElement("div",{className:"cabana-modal-close-icon",onClick:e.props.handleClose}),c.a.createElement("div",{className:"cabana-modal-header"},c.a.createElement("h1",null,e.props.title),c.a.createElement("p",null,e.props.subtitle)),c.a.createElement("div",{className:"cabana-modal-navigation"},e.props.navigation),c.a.createElement("div",{className:"cabana-modal-body"},c.a.createElement("div",{className:"cabana-modal-body-window"},e.props.children),c.a.createElement("div",{className:"cabana-modal-body-gradient"})),c.a.createElement("div",{className:"cabana-modal-actions"},e.props.actions),c.a.createElement("div",{className:"cabana-modal-footer"},e.props.footer))})),c.a.createElement("div",{className:"cabana-modal-backdrop",onClick:this.props.handleClose}))}}]),Modal}(l.Component)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(10),s=n(3),r=n(4),i=n(244),o=n.n(i),l=n(17),c=function(){function Signal(e){var t=e.name,n=e.startBit,a=void 0===n?0:n,r=e.size,i=void 0===r?0:r,o=e.isLittleEndian,l=void 0===o||o,c=e.isSigned,d=void 0!==c&&c,u=e.isFloat,m=void 0!==u&&u,g=e.factor,h=void 0===g?1:g,p=e.offset,b=void 0===p?0:p,f=e.unit,v=void 0===f?"":f,S=e.receiver,E=void 0===S?["XXX"]:S,y=e.comment,_=void 0===y?null:y,C=e.multiplex,k=void 0===C?null:C,w=e.min,D=void 0===w?null:w,T=e.max,M=void 0===T?null:T,O=e.valueDescriptions,A=void 0===O?new Map:O;Object(s.a)(this,Signal),Object.assign(this,{name:t,startBit:a,size:i,isLittleEndian:l,isSigned:d,isFloat:m,factor:h,offset:b,unit:v,receiver:E,comment:_,multiplex:k,valueDescriptions:A});var X=Math.random().toString(36);null==D&&(D=this.calculateMin()),null==M&&(M=this.calculateMax());var x=this.generateColors();Object.assign(this,{min:D,max:M,uid:X,_colors:x}),Object.defineProperty(this,"colors",{get:function get(){return console.error("Something is still using the old colors"),x},enumberable:!1})}return Object(r.a)(Signal,[{key:"text",value:function text(){var e=this.multiplex?" ".concat(this.multiplex):"",t=this.isLittleEndian?1:0,n=this.isSigned?"-":"+";return"SG_ ".concat(this.name).concat(e," : ")+"".concat(this.startBit,"|").concat(this.size,"@").concat(t).concat(n)+" (".concat(this.factor,",").concat(this.offset,")")+" [".concat(this.min,"|").concat(this.max,"]")+' "'.concat(this.unit,'" ').concat(this.receiver)}},{key:"valueDescriptionText",value:function valueDescriptionText(e){var t=Array.from(this.valueDescriptions.entries()).reduce((function(e,t){var n=Object(a.a)(t,2),s=n[0],r=n[1];return"".concat(e+s,' "').concat(r,'" ')}),"");return"VAL_ ".concat(e," ").concat(this.name," ").concat(t,";")}},{key:"lsbBitIndex",value:function lsbBitIndex(){if(this.isLittleEndian)return this.startBit;var e=this.lsbBitNumber();return l.a.matrixBitNumber(e)}},{key:"lsbBitNumber",value:function lsbBitNumber(){return l.a.bigEndianBitIndex(this.startBit)+this.size-1}},{key:"msbBitIndex",value:function msbBitIndex(){return this.isLittleEndian?this.startBit+this.size-1:this.startBit}},{key:"littleEndianBitDescription",value:function littleEndianBitDescription(e){var t=[this.startBit,this.startBit+this.size-1];return e<t[0]||e>t[1]?null:{bitNumber:e-t[0],isLsb:e===t[0],isMsb:e===t[1]}}},{key:"bigEndianBitDescription",value:function bigEndianBitDescription(e){var t=l.a.bigEndianBitIndex(this.startBit),n=[t,t+this.size-1],a=l.a.bigEndianBitIndex(e);return a<n[0]||a>n[1]?null:{bitNumber:a,isLsb:a===n[1],isMsb:e===this.startBit,range:n}}},{key:"bitDescription",value:function bitDescription(e){return this.isLittleEndian?this.littleEndianBitDescription(e):this.bigEndianBitDescription(e)}},{key:"calculateRawRange",value:function calculateRawRange(){var e=Math.pow(2,this.size);return this.isSigned&&(e/=2),[this.isSigned?-1*e:0,e-1]}},{key:"calculateMin",value:function calculateMin(){var e=this.calculateRawRange()[0];return this.offset+e*this.factor}},{key:"calculateMax",value:function calculateMax(){var e=this.calculateRawRange()[1];return this.offset+e*this.factor}},{key:"getColors",value:function getColors(e){var t=e.split(":").map((function(e){return 3*(3+Number.parseInt(e,16))%253})),n=this._colors||this.generateColors(),a=0;return n.map((function(e){return t=t.map((function(e){return e^a})),a=t.reduce((function(e,t){return e^t}),e)}))}},{key:"generateColors",value:function generateColors(){return o()({format:"rgbArray"})}},{key:"equals",value:function equals(e){var t=this;return e.name===this.name&&e.startBit===this.startBit&&e.size===this.size&&e.isLittleEndian===this.isLittleEndian&&e.isSigned===this.isSigned&&e.isFloat===this.isFloat&&e.factor===this.factor&&e.offset===this.offset&&e.unit===this.unit&&e.receiver.length===this.receiver.length&&e.receiver.every((function(e,n){return e===t.receiver[n]}))&&e.comment===this.comment&&e.multiplex===this.multiplex}}]),Signal}()},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(10),s=n(11),r=n.n(s),i=n(14),o=n(3),l=n(4),c=n(258),d=n.n(c),u=n(20),m=function(){function OpenDBC(e){Object(o.a)(this,OpenDBC),this.token=e,this.github=new d.a({token:e}),this.sourceRepo=this.github.getRepo("commaai","opendbc"),this.githubUsername=null}return Object(l.a)(OpenDBC,[{key:"hasAuth",value:function hasAuth(){return null!==this.token}},{key:"getGithubUsername",value:function(){var e=Object(i.a)(r.a.mark((function _callee(){var e;return r.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!this.githubUsername){t.next=2;break}return t.abrupt("return",this.githubUsername);case 2:return t.next=4,this.fetchGithubUsername();case 4:if(!(e=t.sent)){t.next=7;break}return t.abrupt("return",e);case 7:case"end":return t.stop()}}),_callee,this)})));return function getGithubUsername(){return e.apply(this,arguments)}}()},{key:"fetchGithubUsername",value:function(){var e=Object(i.a)(r.a.mark((function _callee2(){var e,t;return r.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.github.getUser();case 3:if(!(e=n.sent)){n.next=10;break}return n.next=7,e.getProfile();case 7:if(!(t=n.sent)){n.next=10;break}return n.abrupt("return",t.data.login);case 10:n.next=15;break;case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",null);case 15:case"end":return n.stop()}}),_callee2,this,[[0,12]])})));return function fetchGithubUsername(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(i.a)(r.a.mark((function _callee3(e){var t,n,s,i,o,l;return r.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return void 0===e?t=this.sourceRepo:(n=e.split("/"),s=Object(a.a)(n,2),i=s[0],o=s[1],t=this.github.getRepo(i,o)),r.prev=1,r.next=4,t.getContents("master","");case 4:return l=r.sent,r.abrupt("return",l.data.map((function(e){return e.path})));case 8:return r.prev=8,r.t0=r.catch(1),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),_callee3,this,[[1,8]])})));return function list(t){return e.apply(this,arguments)}}()},{key:"getDbcContents",value:function(){var e=Object(i.a)(r.a.mark((function _callee4(e,t){var n,s,i,o,l,c,d,u;return r.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return void 0===t?n=this.sourceRepo:(s=t.split("/"),i=Object(a.a)(s,2),o=i[0],l=i[1],n=this.github.getRepo(o,l)),r.next=3,n.getContents("master",e);case 3:return c=r.sent,d=c.data.download_url,r.next=7,fetch(d,{cache:"no-cache"});case 7:return u=r.sent,r.abrupt("return",u.text());case 9:case"end":return r.stop()}}),_callee4,this)})));return function getDbcContents(t,n){return e.apply(this,arguments)}}()},{key:"repoSourceIsOpenDbc",value:function repoSourceIsOpenDbc(e){return e.source&&e.source.full_name===u.g}},{key:"getUserOpenDbcFork",value:function(){var e=Object(i.a)(r.a.mark((function _callee5(){var e,t,n,a;return r.a.wrap((function _callee5$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getGithubUsername();case 2:if(e=s.sent){s.next=5;break}return s.abrupt("return",null);case 5:return t=this.github.getRepo(e,"opendbc"),s.next=8,t.getDetails();case 8:if(n=s.sent,a=n.data,!this.repoSourceIsOpenDbc(a)){s.next=12;break}return s.abrupt("return",a.full_name);case 12:return s.abrupt("return",null);case 13:case"end":return s.stop()}}),_callee5,this)})));return function getUserOpenDbcFork(){return e.apply(this,arguments)}}()},{key:"fork",value:function(){var e=Object(i.a)(r.a.mark((function _callee6(){return r.a.wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sourceRepo.fork();case 2:if(202!==e.sent.status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),_callee6,this)})));return function fork(){return e.apply(this,arguments)}}()},{key:"commitFile",value:function(){var e=Object(i.a)(r.a.mark((function _callee7(e,t,n,s){var i,o,l,c,d,u,m,g,h,p,b,f,v,S,E,y,_;return r.a.wrap((function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return i=e.split("/"),o=Object(a.a)(i,2),l=o[0],c=o[1],d=this.github.getRepo(l,c),r.next=4,d.getRef("heads/master");case 4:return u=r.sent,m=u.data,r.next=8,d.getCommit(m.object.sha);case 8:return g=r.sent,h=g.data,r.next=12,d.getTree(h.tree.sha);case 12:return p=r.sent,b=p.data,f=[{mode:"100644",path:t,type:"blob",content:n}],r.next=17,d.createTree(f,b.sha);case 17:return v=r.sent,S=v.data,r.next=21,d.commit(h.sha,S.sha,s||"OpenDBC updates");case 21:return E=r.sent,y=E.data,r.next=25,d.updateHead("heads/master",y.sha,!1);case 25:return _=r.sent,r.abrupt("return",200===_.status);case 27:case"end":return r.stop()}}),_callee7,this)})));return function commitFile(t,n,a,s){return e.apply(this,arguments)}}()}]),OpenDBC}()},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n(49),s=n.n(a),r=n(111),i=["https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/0/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=8pT88IJhcarT3%2Bv0uaT3aoiMlOsPTru%2Bd%2B1mgCAUNzY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/1/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=RUiRh7VvDbhmGcam619Coz4FC0I%2B1M%2BgHzudTecU8N8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/2/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vCx3vklGv09VY8Ox9Q8iinB7ZsrpDbsK4BMTkBt4biI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/3/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QtgjbhrpyoKHQC%2BIK/Ms0y%2BSh2EtHCAzBTV0BkPBbZ8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/4/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=xL6utQbOCRvdIV21Nq%2BsaxFzqDT4n212HwOSvdBC%2B%2Bg%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/5/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9uxDaYILbAJRy2fAKYm9flHi237a2qTY8YlNfizTFSs%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/6/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=00Kno8VTcxQdazYL1lK0aVTt7zvnmWDwzbVJJQtXOfc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/7/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=eyTM64llEf6NrhoowAdqF76J7liL4ejq85HfKT7IoRU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/8/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ashtAt8qucsBP8pBH24RYT4OrzHvBXA3SQPzTslWg10%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/9/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=C%2BvBxxhgscqUQr7dKF1t9wfhpy/16cl4lWsRfirblsM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/10/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4fcXFnGSe8TGQYP89H9Z4nEou2uANO3FPekTxUSP89Y%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/11/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=olfTiSNk49Y9tog4XfXHMSmDODNKQedaelfa9zhxyUI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/12/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Cea5FxaNoMzZUoPKfJKHSdEvZKgu130KbEYJ65HSHn4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/13/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=W/ycLCiCzfItDQeMDhkwAEl9FQ89UGDVipEIlAyL7fA%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/14/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aXORJqBiOQda7tZPzwlD%2B4UJHhcWtKj5uoPqsmlTovI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/15/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=C/OgqnPVkFhY11Ha5TiUkqr3bQyie5ZhIzWi73fxwog%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/16/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gdzCLOnhMeNYJTE%2BXmuSlwYGVFIuxbsqHvygEKG0H8Q%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/17/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=6JZg3qh2sYdBQxRjA9GyjPv8eRgSsOakEjg0z9EDFZ0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/18/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SYX7%2BN9npUSEdw2eVHngMAxXm5N5nwVos%2B32RpI675k%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/19/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cOKcrLoyEUhfWOjIDr/edtvEchBsnEg3ma%2ByCOzf8GY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/20/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yNMFoLourSvuG0Buor9fuPryheCkknxqvA0CoGVRfQ0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/21/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=f1AfgqSNOeOkthYxmV/bMnG6WaEnRBtrYMu6EaG133k%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/22/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=7PMH8rRci6jYaRHvnvqK24EO/bR06M72OtA0fpM7yiE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/23/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=0UzWpng3TCr3DQ/dWi5vYLgsLL/yOw%2BQVWdtu3%2BnxH8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/24/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vlFw7Che8rISI5gyKZoSif6nkN9vThi93cJpyPAJge8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/25/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=uVGejY1C9So%2B4Fc49Ihi5Fj5Tdyi4LofKYQE%2BYPTS5o%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/26/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Uau%2BAbXw6JQglY/EUXsVj1hAx%2Bx7tS/dxpSij7DyEvQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/27/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pzmqrxkVsy5XikPStD/5OPNrYWadB9qivHRU5nB1pCM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/28/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3dajisn7zt3MxhFKNxZgZn1PtUdege4Qh8d7AlCv6V4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/29/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1NicoYGt%2BUFJbGYhGdTPnFCzYnIV5OHypuD3qzW53Wc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/30/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1ZGt0PlbGaVeT/82JnG/qsuur04SGNlBbWAOcPvHvGU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/31/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nDe5iODqha7NAugL0qe%2BnT7HKIqQNDS5vBcaxTHqwHY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/32/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cBu8MgQvz9dvg7iydERnupmAyuYSas3wY3alT2wmQtQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/33/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=RMqrZgILMOZ/EOBwDw/SVTpjmQTFQz91RUQKCdzJYcE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/34/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=srl6LGcWdQSlMMnuv%2B7aTFTMY4KpR9F%2BXo3XtMIeFSs%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/35/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=x109982KLJzI5CxYp0Txbgc6KWAk0FrP1TKasLbs4xY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/36/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nEclbIDfZ6kPHJoOol/jXLd9dd5Dak5t4aDYdAc8NT0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/37/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=N4417uFhPrKwfkhPplH/PZvE7nHlPHyOUHUcXtV8ga8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/38/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=V35yVoPP3key5d8XJUk1Hs29RUD63qGDrqtsMTJJvq8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/39/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=qIQOoVL4qOWxXLPhUN/wlNnE0ubo/bcY8kSAeBUaYAY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/40/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=HfcEb0EtuMmzw579abyE8MdE%2BsTfszhXEB%2BRxUU3JH0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/41/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=CcY6L8NEIvMmrtxT46yAkTEV4bpj1022r/oXhaLNzZk%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/42/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3xqT%2BO8YrFDv6C7U41ToVa5doDhuYKCzK5MxBcXt%2BWc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/43/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=FlIiq6qej5DOD5JnMPWKIbiX2/j8ysbIhBoR%2BtLspZg%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/44/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2526%2Br0Ish0e9rkOeL3ub0/EfJhng%2BRYIev2PepghHk%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/45/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=vBrFpsNhNuzWhe8uncDkvObJUmeKMC1hQLySOUaex0I%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/46/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=zG6%2BxU3XWzipNxov0fkxEsUH4lyihThJpFjq4XlDnx4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/47/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=8Sw1doUy3u7V/mSkA1bFms54oBcKD8dpFm79vbxnhlY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/48/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yfnYUwdcrK976YNJEg%2BMJlZbp99ewQjJgsR%2Bl8opCQI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/49/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hqEJFHSAekMOVYVlN5sCEgunR0e7M57eCrqB2IMtmKw%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/50/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pL5GMwiT%2BD72Zk9EuMXwwFfWVF9jMWbTEU0HyCl6xNc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/51/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gT08LFSoWUTdOGB2d%2BZtDWZQEvlsPkkNKra2T0WjLPU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/52/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=LtMWWoyfUPcFbf42%2BHR/n6iEnr/jocJSEt6LFdfqCKc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/53/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4hBGTbNueUnHg951XoqyKAx2ZqxvlstfaY2cw9wTyUc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/54/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=p8wj4bI7u/uZOA58Te8U6T0%2BtDrYqeUkhInQuA5Rm94%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/55/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1FLm5rAamUv8nEaaHjQ2s0SpLWbH5ZhCi8nOw5mfg9w%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/56/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gcwoay0grLf%2BGAqrBeleuQxO77Hw/1N0pdofnnZB/64%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/57/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GWFjquKtWJDtSi5op4oh4kV1VWekHkLu3VjO7j2ly/0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/58/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hLIGYFB6u2l/eAzHeWL7EtM3G7LkzY2sUIJWBweRf8Y%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/59/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ujjLQ5mblJBh2X%2BHn%2B%2BAbXBUkvU9l/6FKgkFIOqDUWw%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/60/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9kSUr7Xn1tEanZ/JTjyJ2GZ9GdLKOk7Q0gj8rL6nhdU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/61/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4lppdcyHqbjjcUJjHigd8id8n4KCwZZ/F8QJqgYPfcw%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/62/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GhcxMBVVfDxeb0DnH%2BW745r1AK7/6mLIGrV33HTeUbQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/63/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=IwL9LtlEIW8kye3wBMSs1tXeJ2/QX3QiTv4NeO8OZcU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/64/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=EQDreY7wGnaCbpUbbVb%2BcIfBvp2oRaAVZjk00skP9vQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/65/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=PibH5ZpIvB2LPM/zSntil/CokrDpjC%2B5kfkC0/%2BYjbg%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/66/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=f4iKTgwmMErhnVt8MNGT6JSGqMu4D0Bl5kfn1P5m%2Bgs%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/67/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=uiLbcoMzZ6obysSHcHOzv9DphFInXl94YaYSGfI1CrY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/68/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NzPA4KuadgoeY7hKvTKo1LXl47AEv0izaxgcU2Y1%2BN4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/69/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aw%2BuDvwR/HYn7kZ/hHQ0%2Bkae1uOB/mX0aT618O49DvU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/70/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=15b6prxm0DzVlIEn93DCoxmnzr3FAl0R9C9FrSP8R8Y%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/71/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=sKviFsAarezfOAKkqFpbzpVuPsXhsWZmICzES2ivp/A%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/72/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=DRBRZf3KQX%2Bat%2BwMZaMR%2BpGJm%2BREVVe5kcjes4eYBiE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/73/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=grzo4xrtUJvuJ9VtSx7Eg9rA/ffKzyYBDUYzykjGO8Y%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/74/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9rf%2B%2BTL/yVd2cVoZNbkj3YClBLv77tGr1HRNii0rO2s%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/75/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=eB2k1u9DlDWb0e0JS4D6UPDtEdPx4RHimI%2BVzy1MhEM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/76/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=355VfjSkCdkAOjqRMobPbG3GB1JMhFyvq/7dtGheRkM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/77/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ZfBc/b%2BWQGryLAEpwC0BtjHijtPghKP2b1b0bzCxehQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/78/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hj6Patnin49Cb7R%2BMeyZGBte6vxHH62HUelOh2bcBbA%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/79/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Nuk1gxAUd3s4WU7%2B320emlocY2Tie0eMsiEl6xUpSBA%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/80/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=iPZnh/bigsA9iyPjSTjzl5OIdzGfFgmH9IdFwA3mTRw%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/81/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=mKgB9AmAfv8%2BrPJ%2BLTaVA/eD1IYKaICeMwCgSn65jXs%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/82/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QgmLKKEvf272qOywdLl3BRSogk7oAIeknRThsI%2BbLqY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/83/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=zBdCaBDmhg8aeWHMh3fMdQaXLJkSjaaq6waHoex4yJI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/84/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ddv/Q22WEJB1R%2B6bJWZD%2BB3IHKoEzJaYQmayYkHdrlU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/85/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=w3brrO7geBl/0n/jM7W7BZruQMNfM0SorGqiQeyJaBE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/86/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3Y2zucu35QtodXd1PDpYfJDK9i%2BY2LVpdjvVa8oYQt4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/87/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=n9ZsshnO5VEAAKVDOmn0AzhizE0y4Lb2iiszjt7Yous%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/88/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=snYOFNllT3jmKfwpiMPWpEV7tfS9RQCVSurDY98bIao%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/89/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Xtwom5ycw0J57jrzDQPz6OhpWjsFi0nEfqVrkeQrl6A%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/90/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=US8vj1Db7jig7RRlYSnDAZK3UYH4gm42Af6UrzpbryA%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/91/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nm8WvWPnc8zHKnoqA6NkqX1N93kIx9sPVmcJ5xJiteY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/92/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wsg/P6/%2BKebsVfM/6lqTiwCsCvPJFQsPUunBOg0MScU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/93/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=H8eCBNN%2Btof3R3lvR6v41BZEjWcDXD7so8j0l03%2B99Y%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/94/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=HjU5sSYU5aeI/t9nCz4NkFiRdA0Tqtnx%2BLxinItdTo4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/95/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NnunGZoAH/D0cq8n0sQHRlhZ1v1o5JwKk/1UfVAu92c%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/96/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wCaqsHbtyNHcylPtP9FXxMwhl5YJ97trLhJtePtcLkY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/97/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=j1I%2BZ0CTlxrM956TgrPYrCFJx3D09qrNEGq8BNbqVJ0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/98/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Gk9jF7lxFRq9nj3UTE0/YlDQBWYdL3ySUdl8gbj1UgE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/99/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=DiZFcnCI1f47rHaVM9mY9YzZsZA8ToOBHuHgBHtqj9E%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/100/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=e0bEXWFLAeUeRYpFZ8LmBUJM7YKb5u5AyKOlMo7Klf8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/101/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=rpqSuP1Tu0JuR1ELug3T59We2o2wfwa2Xp2WIccz%2Bb8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/102/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=K3l/Hbbjaii3OK/A4nBtgjynG2A69gHnqnjHAwl01CY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/103/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=VtDMGUrEJKdn8he9B1WYnsuM8Zj4z6Nia7iu3oQNL5I%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/104/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SxNgqjOUa3mx5aX3RIJQVApmd3L4JUP2megVGJ1XKjA%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/105/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=M/XvJE7X/dFSv6Iem%2BhkjIyJVFa22R9N79Xn8UnaCAI%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/106/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cfreGuFOl0/TWe/fkZ5FEewkpRZXrVU8y94Fa582nb0%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/107/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GWnZksWyn33Umz1l/c0ZjwkE9NYxdMqmiDRbBPVdlMc%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/108/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=AeUDO3Y/uhyGFvBO8tFpjQlJNoVzTXrxBL2v/eDIqvg%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/109/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=SG2Sy6ggdaW55GZbJwII2RS5REnrCXuw5znrhT%2BdkMQ%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/110/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=oX/xwJpbDDy4jOg%2B4/XIR/ezcN6u9r/6jIsF33OOUw8%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/111/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2Wfq6bueVjYMfMQta3wjMKtJ3g4B1OF3GmQdzWK8S0M%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/112/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=psxUuVNKxDeu3g5xv3%2BuhdP7rrkP2cOcZ7FJNxRKCh4%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/113/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1IySoCLFLTECiZHbcqQis4AfGrJRId3hL0Z3uz8VFiE%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/114/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gwhHD0US%2BbJSdPWg8GWXMW96i3fNfucj2mzx21dTLAM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/115/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=7IH32d3YfNF01b42I3yTKMtxPO2o9bgZm4Uj0iqYeJM%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/116/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=33QBRPx8hX667YX17JgAfyDz97do8cROISHR/jBw1YU%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/117/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=BhgFg6c74rMFYuxKYZfmgZH6YZGgPb9aEo7IHw5dXhY%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/118/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=TCxgujxDOtvGWsKpheHV0HH1MnbE3x6gSDsQs2Y5S1U%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/119/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=YO0I3SV5PBNpq5zn%2BxOvkfdz8YwHVcPMIovL1h%2BeS/o%3D","https://commadata2.blob.core.windows.net/preserve/3533c53bb29502d1/2019-12-10--01-13-27/120/rlog.bz2?se=2025-01-10T18%3A54%3A24Z&sp=r&sv=2018-03-28&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aluzhD7EJgmN1mFZStJACXSLsfJL4vxNBr0RKLxPDWY%3D"],o={max:i.length,name:"2019-12-10--01-13-27",dongleId:"3533c53bb29502d1",dbc:r.a,isDemo:!0,dbcFilename:"toyota_nodsu_pt_generated.dbc"},l={fullname:"3533c53bb29502d1|2019-12-10--01-13-27",proclog:o.max,start_time:s()(o.name,"YYYY-MM-DD--H-m-s"),url:"https://chffrprivate.blob.core.windows.net/chffrprivate3-permanent/v2/3533c53bb29502d1/02505e68c591e4160b38210fa5f8d44a_2019-12-10--01-13-27"}},86:function(e,t,n){"use strict";if("undefined"===typeof a)var a=self;var s=function _indexOf(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1};function LogStream(e){var t,n=e.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,r=e.page_info,i=e.token,o=e.print,l=e.no_format,c="undefined"===typeof XDomainRequest?e.ssl:"https:"===a.location.protocol;t=(c?"https://":"http://")+(t=a.LEENDPOINT?a.LEENDPOINT:l?"webhook.logentries.com/noformat":"js.logentries.com/v1")+"/logs/"+i;var d=[],u=!1,m=!1,g=function _apiCall(e,n){u=!0;var a=function _getAjaxObject(){return"undefined"!==typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest}();a.constructor===XMLHttpRequest?a.onreadystatechange=function(){4===a.readyState&&(a.status>=400?(console.error("Couldn't submit events."),410===a.status&&console.warn("This version of le_js is no longer supported!")):(301===a.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),d.length>0?_apiCall(e,d.shift()):u=!1))}:a.onload=function(){d.length>0?_apiCall(e,d.shift()):u=!1},a.open("POST",t,!0),a.constructor===XMLHttpRequest&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/json")),a.overrideMimeType&&a.overrideMimeType("text"),a.send(n)},h=function _getEvent(){var e=Array.prototype.slice.call(arguments);if(0===e.length)throw new Error("No arguments!");return 1===e.length?e[0]:e},p=function _agentInfo(){var e=a.navigator||{doNotTrack:void 0},t=a.screen||{};return{url:(a.location||{}).pathname,referrer:document.referrer,screen:{width:t.width,height:t.height},window:{width:a.innerWidth,height:a.innerHeight},browser:{name:e.appName,version:e.appVersion,cookie_enabled:e.cookieEnabled,do_not_track:e.doNotTrack},platform:e.platform}},b=function _rawLog(e){var t=h.apply(this,arguments),a={event:t};return"never"!==r&&(m&&"per-entry"!==r||(m=!0,"undefined"===typeof t.screen&&"undefined"===typeof t.browser&&_rawLog(p()).level("PAGE").send())),n&&(a.trace=n),{level:function level(e){if(o&&"undefined"!==typeof console&&"PAGE"!==e){var t=null;"undefined"!==typeof XDomainRequest&&(t=a.trace+" "+a.event);try{console[e.toLowerCase()].call(console,t||a)}catch(n){console.log(t||a)}}return a.level=e,{send:function send(){var e=[],t=JSON.stringify(a,(function(t,n){if("undefined"===typeof n)return"undefined";if("object"===typeof n&&null!==n){if(-1!==s(e,n))return"<?>";e.push(n)}return n}));u?d.push(t):g(i,t)}}}}};if(e.catchall){var f=a.onerror;a.onerror=function newHandler(e,t,n){return b({error:e,line:n,location:t}).level("ERROR").send(),!!f&&f(e,t,n)}}this.log=b}function Logger(e){var t,n={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!==typeof e)throw new Error("Invalid parameters for createLogStream()");for(var a in e)n[a]=e[a];if(null===n.token)throw new Error("Token not present.");t=new LogStream(n);var s=function _log(e){if(t)return t.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function log(){s.apply(this,arguments).level("LOG").send()},warn:function warn(){s.apply(this,arguments).level("WARN").send()},error:function error(){s.apply(this,arguments).level("ERROR").send()},info:function info(){s.apply(this,arguments).level("INFO").send()}}}var r={},i=function _createLogStream(e){if("string"!==typeof e.name)throw new Error("Name not present.");if(r.hasOwnProperty(e.name))throw new Error("A logger with that name already exists!");return r[e.name]=new Logger(e),!0};t.a={init:function _deprecatedInit(e){var t={name:"default"};if("object"===typeof e)for(var n in e)t[n]=e[n];else{if("string"!==typeof e)throw new Error("Invalid parameters for init()");t.token=e}return i(t)},createLogStream:i,to:function _getLogger(e){if(!r.hasOwnProperty(e))throw new Error("Invalid name for logStream");return r[e]},destroy:function _destroyLogStream(e){"undefined"===typeof e&&(e="default"),delete r[e]},log:function log(){for(var e in r)r[e].log.apply(this,arguments)},warn:function warn(){for(var e in r)r[e].warn.apply(this,arguments)},error:function error(){for(var e in r)r[e].error.apply(this,arguments)},info:function info(){for(var e in r)r[e].info.apply(this,arguments)}}},87:function(e,t,n){"use strict";var a=n(247),s=n(18),r=n.n(s);t.a=function(){var e=[],t=[];return[].forEach.call(arguments,(function(n){n&&n._definition&&n._name?e.push(n):t.push(n)})),r.a.apply(null,[].concat(t,[Object(a.css)(e)]))}}},[[277,1,2]]]);
//# sourceMappingURL=main.57aeb7ae.chunk.js.map